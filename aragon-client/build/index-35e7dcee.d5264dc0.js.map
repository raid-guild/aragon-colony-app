{"version":3,"sources":["../node_modules/ethereumjs-util/node_modules/keccak/lib/api/keccak.js","../node_modules/ethereumjs-util/node_modules/keccak/lib/api/shake.js","../node_modules/ethereumjs-util/node_modules/keccak/lib/api/index.js","../node_modules/ethereumjs-util/node_modules/keccak/lib/keccak-state-unroll.js","../node_modules/ethereumjs-util/node_modules/keccak/lib/keccak.js","../node_modules/ethereumjs-util/node_modules/keccak/js.js","../node_modules/ethereumjs-util/dist/index.js","../node_modules/@portis/web3/es/index.js","../node_modules/@portis/web3-provider-engine/util/stoplight.js","../node_modules/@portis/web3-provider-engine/util/rpc-cache-utils.js","../node_modules/@portis/web3-provider-engine/util/random-id.js","../node_modules/@portis/web3-provider-engine/util/create-payload.js","../node_modules/@portis/web3-provider-engine/index.js","../node_modules/@portis/web3-provider-engine/subproviders/subprovider.js","../node_modules/@portis/web3-provider-engine/subproviders/json-rpc-engine-middleware.js","../node_modules/@portis/eth-json-rpc-middleware/cache-utils.js","../node_modules/@portis/eth-json-rpc-middleware/block-cache.js","../node_modules/@portis/web3-provider-engine/subproviders/cache.js","../node_modules/@portis/web3-provider-engine/subproviders/fixture.js","../node_modules/@portis/web3-provider-engine/subproviders/filters.js","../node_modules/@portis/web3-provider-engine/util/estimate-gas.js","../node_modules/@portis/web3-provider-engine/subproviders/hooked-wallet.js","../node_modules/ethereumjs-tx/es5/index.js","../node_modules/@portis/web3-provider-engine/subproviders/nonce-tracker.js","../node_modules/@portis/web3-provider-engine/subproviders/subscriptions.js","../node_modules/penpal/lib/index.js","../node_modules/@portis/web3/es/networks.js","../node_modules/@portis/web3/es/utils/getTxGas.js","../node_modules/@portis/web3/es/utils/query.js","../node_modules/@portis/web3/es/utils/onWindowLoad.js","../node_modules/pocket-js-core/src/models/blockchain.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/node_modules/is-buffer/index.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/index.js","../node_modules/pocket-js-core/src/utils/constants.js","../node_modules/pocket-js-core/src/models/node.js","../node_modules/pocket-js-core/src/models/dispatch.js","../node_modules/pocket-js-core/src/models/relay.js","../node_modules/pocket-js-core/src/models/report.js","../node_modules/pocket-js-core/src/models/wallet.js","../node_modules/pocket-js-core/src/models/index.js","../node_modules/pocket-js-core/src/pocket.js","../node_modules/pocket-js-core/src/index.js","../node_modules/@portis/web3/es/utils/secureOrigin.js","../node_modules/@portis/web3/es/styles.js"],"names":["Buffer","require","Transform","inherits","module","exports","KeccakState","Keccak","rate","capacity","delimitedSuffix","hashBitLength","options","call","_rate","_capacity","_delimitedSuffix","_hashBitLength","_options","_state","initialize","_finalized","prototype","_transform","chunk","encoding","callback","error","update","err","_flush","push","digest","data","isBuffer","TypeError","Error","from","absorb","absorbLastFewBits","squeeze","undefined","toString","_resetState","_clone","clone","copy","Shake","_read","size","dataByteLength","createKeccak","createShake","algorithm","hash","toLowerCase","P1600_ROUND_CONSTANTS","p1600","s","round","lo0","hi0","lo1","hi1","lo2","hi2","lo3","hi3","lo4","hi4","lo","hi","t1slo0","t1shi0","t1slo5","t1shi5","t1slo10","t1shi10","t1slo15","t1shi15","t1slo20","t1shi20","t1slo1","t1shi1","t1slo6","t1shi6","t1slo11","t1shi11","t1slo16","t1shi16","t1slo21","t1shi21","t1slo2","t1shi2","t1slo7","t1shi7","t1slo12","t1shi12","t1slo17","t1shi17","t1slo22","t1shi22","t1slo3","t1shi3","t1slo8","t1shi8","t1slo13","t1shi13","t1slo18","t1shi18","t1slo23","t1shi23","t1slo4","t1shi4","t1slo9","t1shi9","t1slo14","t1shi14","t1slo19","t1shi19","t1slo24","t1shi24","t2slo0","t2shi0","t2slo16","t2shi16","t2slo7","t2shi7","t2slo23","t2shi23","t2slo14","t2shi14","t2slo10","t2shi10","t2slo1","t2shi1","t2slo17","t2shi17","t2slo8","t2shi8","t2slo24","t2shi24","t2slo20","t2shi20","t2slo11","t2shi11","t2slo2","t2shi2","t2slo18","t2shi18","t2slo9","t2shi9","t2slo5","t2shi5","t2slo21","t2shi21","t2slo12","t2shi12","t2slo3","t2shi3","t2slo19","t2shi19","t2slo15","t2shi15","t2slo6","t2shi6","t2slo22","t2shi22","t2slo13","t2shi13","t2slo4","t2shi4","keccakState","state","blockSize","count","squeezing","i","length","bits","output","alloc","dest","Portis","EventEmitter","require$$0","require$$1","Stoplight","this","isLocked","go","emit","stop","await","fn","once","setTimeout","payload","index","blockTagParamIndex","params","method","datePart","Date","getTime","Math","pow","floor","random","extend","id","getRandomId","jsonrpc","noop","Web3ProviderEngine","opts","setMaxListeners","directProvider","sendAsync","_handleAsync","bind","blockTrackerProvider","_blockTracker","blockTracker","EthBlockTracker","provider","pollingInterval","setSkipCacheFlag","_ready","currentBlock","_providers","Object","defineProperty","value","start","cb","self","on","blockNumber","_getBlockByNumber","block","bufferBlock","jsonBlock","number","ethUtil","toBuffer","parentHash","nonce","mixHash","sha3Uncles","logsBloom","transactionsRoot","stateRoot","receiptsRoot","receiptRoot","miner","difficulty","totalDifficulty","extraData","gasLimit","gasUsed","timestamp","transactions","_setCurrentBlock","_running","removeAllListeners","isRunning","addProvider","source","splice","setEngine","removeProvider","indexOf","send","Array","isArray","map","req","createPayload","skipCache","res","result","finished","currentProvider","stack","end","_error","_result","eachSeries","resultObj","message","code","next","after","unshift","handleRequest","e","SubProvider","engine","emitPayload","Subprovider","[object Object]","constructorFn","super","_constructorFn","middleware","provEngNext","provEngEnd","handler","cacheIdentifierForPayload","skipBlockRef","simpleParams","paramsWithoutBlockTag","canCache","stringify","blockTagForPayload","cacheTypeForPayload","slice","emptyValues","blockCache","BlockCacheStrategy","strategies","perma","fork","createAsyncMiddleware","async","type","cacheUtils","strategy","canCacheRequest","requestedBlockNumber","blockTag","latestBlockNumber","getLatestBlock","clearBefore","cacheResult","get","set","cache","blockNumberHex","Number","parseInt","newCache","getBlockCacheForPayload","canCacheResult","includes","blockHash","oldBlockHex","oldBlockNumber","keys","filter","num","forEach","ProviderSubprovider","createBlockCacheMiddleware","assign","FixtureProvider","staticResponses","staticResponse","createFilterMiddleware","txParams","hexRegex","HookedWalletSubprovider","nonceLock","Semaphore","getAccounts","processTransaction","processMessage","processPersonalMessage","processTypedMessage","processTypedMessageV3","approveTransaction","autoApprove","approveMessage","approvePersonalMessage","approveTypedMessage","approveTypedMessageV3","signTransaction","mustProvideInConstructor","signMessage","signPersonalMessage","signTypedMessage","signTypedMessageV3","recoverPersonalSignature","publishTransaction","estimateGas","getGasPrice","string","resemblesAddress","fixed","addHexPrefix","isValidAddress","resemblesData","isValidHex","match","methodName","msgParams","extraParams","address","_parityRequests","_parityRequestCount","accounts","waterfall","validateTransaction","processSignTransaction","validateMessage","first","warning","console","warn","validatePersonalMessage","signature","sig","validateTypedMessage","validateTypedMessageV3","parityPostTransaction","parityPostSign","requestId","parityCheckRequest","account","didApprove","checkApproval","finalizeAndSubmitTx","finalizeTx","reqId","txHash","senderHex","sigUtil","validateSender","senderIsValid","senderAddress","take","fillInTxExtras","leave","signedTx","raw","tx","rawTx","tasks","gasPrice","gas","to","parallel","taskResults","BN","N_DIV_2","Transaction","instance","Constructor","fields","name","allowLess","default","alias","allowZero","defineProperties","enumerable","configurable","getSenderAddress","sigV","bufferToInt","v","chainId","_chainId","_homestead","toCreationAddress","includeSignature","items","r","rlphash","getChainId","_from","pubkey","getSenderPublicKey","publicToAddress","_senderPubKey","verifySignature","msgHash","cmp","ecrecover","sign","privateKey","ecsign","getDataFee","cost","iaddn","fees","txDataZeroGas","txDataNonZeroGas","getBaseFee","fee","txGas","txCreation","getUpfrontCost","imul","iadd","validate","stringError","errors","join","NonceTrackerSubprovider","nonceCache","cachedResult","stripHexPrefix","hexNonce","events","createSubscriptionManager","MESSAGE","DEFAULT_PORTS","URL_REGEX","Penpal","ERR_CONNECTION_DESTROYED","ERR_CONNECTION_TIMEOUT","ERR_NOT_IN_IFRAME","Promise","window","debug","generateId","log","_console","_len","arguments","args","_key","apply","concat","DestructionPromise","executor","handlers","then","serializeError","_ref","connectCallSender","callSender","info","methodNames","destructionPromise","localName","local","remote","remoteOrigin","destroyed","reduce","api","_len2","_key2","resolve","reject","addEventListener","handleMessageEvent","event","origin","penpal","removeEventListener","returnValue","returnValueIsError","obj","deserializedError","key","deserializeError","resolution","postMessage","connectCallReceiver","methods","_event$data","createPromiseHandler","connectToChild","_ref2","destroy","url","appendTo","_ref2$methods","timeout","connectionDestructionPromise","resolveConnectionDestructionPromise","parent","iframe","document","createElement","body","appendChild","parentNode","removeChild","child","contentWindow","contentDocument","parentWindow","childOrigin","protocol","hostname","port","location","regexResult","exec","portSuffix","promise","resolveConnectionPromise","connectionTimeoutId","receiverMethodNames","destroyCallReceiver","handleMessage","callReceiverDestructionPromise","resolveCallReceiverDestructionPromise","receiverMethodName","clearTimeout","src","connectToParent","_ref3","_ref3$parentOrigin","parentOrigin","_ref3$methods","top","_default","networkAdapter","network","gasRelay","networkObj","networks","nodeUrl","gasRelayHubAddress","mainnet","ropsten","rinkeby","goerli","ubiq","thundercoreTestnet","orchid","orchidTestnet","kovan","classic","sokol","core","xdai","thundercore","fuse","lightstreams","maticAlpha","maticTestnet","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","__generator","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","op","pop","_a","getTxGas","query","safeGas","simpleSend","gasLimitSpecified","_b","getBlockByNumber","safeTxGas","estimateTxGas","blockGasLimitHex","recipient","Boolean","getCode","blockGasLimitBN","targetBN","hexToBn","numBN","denomBN","bnToHex","mul","div","addGasBuffer","initialGasLimitHex","initialGasLimitBn","upperGasLimitBn","muln","bufferedGasLimitBn","gt","lt","inputHex","inputBn","Query","fullTransaction","_this","_i","response","loaded","onWindowLoad","readyState","Blockchain","netID","JSON","parse","val","isObject","isFunction","l","hasOwnProperty","isArrayBuffer","constructor","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","merge","assignValue","a","b","trim","str","replace","config","request","encode","encodeURIComponent","ignoreDuplicateOf","utils","originURL","msie","test","userAgent","urlParsingNode","resolveURL","href","setAttribute","host","search","pathname","charAt","requestURL","parsed","write","expires","path","domain","secure","cookie","toGMTString","read","RegExp","decodeURIComponent","remove","now","requestData","requestHeaders","headers","XMLHttpRequest","auth","username","password","Authorization","btoa","open","toUpperCase","paramsSerializer","serializedParams","parts","toISOString","onreadystatechange","status","responseURL","responseHeaders","getAllResponseHeaders","split","line","substr","responseType","responseText","statusText","validateStatus","createError","onerror","ontimeout","cookies","xsrfValue","withCredentials","isURLSameOrigin","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancelToken","cancel","abort","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","adapter","defaults","process","transformRequest","normalizedName","transformResponse","maxContentLength","common","Accept","InterceptorManager","use","eject","h","fns","__CANCEL__","throwIfCancellationRequested","throwIfRequested","baseURL","relativeURL","transformData","reason","isCancel","Axios","instanceConfig","interceptors","chain","dispatchRequest","interceptor","shift","Cancel","CancelToken","resolvePromise","token","c","createInstance","defaultConfig","context","axios","create","require$$2","all","promises","spread","arr","Node","ipPort","ipPortArr","ip","property","relay","axiosInstance","configuration","requestTimeOut","post","constants","toJSON","Dispatch","blockchainArray","blockchains","element","DevID","devID","Blockchains","blockchainsJSON","nodes","parseDispatchResponse","netid","ips","node","Relay","blockchain","NetID","Data","Report","IP","Message","Wallet","networkID","require$$3","require$$4","require$$5","Models","Configuration","maxNodes","dispatch","networkName","netIDs","nodesIsEmpty","retrieveNodes","isEqual","report","isValid","getNode","sendRelay","getDispatch","retrieveServiceNodes","SUPPORTED_SCOPES","tempCachingIFrame","style","width","height","border","position","left","dappId","_widgetUrl","isLocalhost","isSecureOrigin","_valiadateParams","version","scope","registerPageByDefault","widget","_initWidget","_initProvider","changeNetwork","newNetwork","clearSubprovider","NonceSubprovider","CacheSubprovider","setDefaultEmail","email","defaultEmail","showPortis","communication","logout","onLogin","_onLoginCallback","onLogout","_onLogoutCallback","onActiveWalletChanged","_onActiveWalletChangedCallback","onError","_onErrorCallback","getExtendedPublicKey","coin","importWallet","mnemonicOrPrivateKey","isLoggedIn","signBitcoinTransaction","showBitcoinWallet","item","container","widgetFrame","connection","contains","innerHTML","className","head","getElementById","setHeight","_setHeight","getWindowSize","_getWindowSize","_onLogin","_onLogout","_onActiveWalletChanged","_onError","retrieveSession","ProviderEngine","_selectedAddress","_network","FixtureSubprovider","web3_clientVersion","net_listening","eth_hashrate","eth_mining","eth_syncing","SubscriptionsSubprovider","FilterSubprovider","widgetCommunication","messageStandard","pocketDevId","pocket_1","PocketJSCore","Pocket","networkVersion","enable","isConnected","isPortis","getElementsByTagName","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","walletAddress","reputation","subproviderType","subprovider","find"],"mappings":"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","file":"index-35e7dcee.d5264dc0.js","sourceRoot":"../src","sourcesContent":["'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar Transform = require('stream').Transform\nvar inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Keccak (rate, capacity, delimitedSuffix, hashBitLength, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._hashBitLength = hashBitLength\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Keccak, Transform)\n\n  Keccak.prototype._transform = function (chunk, encoding, callback) {\n    var error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype._flush = function (callback) {\n    var error = null\n    try {\n      this.push(this.digest())\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Digest already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Keccak.prototype.digest = function (encoding) {\n    if (this._finalized) throw new Error('Digest already called')\n    this._finalized = true\n\n    if (this._delimitedSuffix) this._state.absorbLastFewBits(this._delimitedSuffix)\n    var digest = this._state.squeeze(this._hashBitLength / 8)\n    if (encoding !== undefined) digest = digest.toString(encoding)\n\n    this._resetState()\n\n    return digest\n  }\n\n  // remove result from memory\n  Keccak.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  // because sometimes we need hash right now and little later\n  Keccak.prototype._clone = function () {\n    var clone = new Keccak(this._rate, this._capacity, this._delimitedSuffix, this._hashBitLength, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Keccak\n}\n","'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar Transform = require('stream').Transform\nvar inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Shake (rate, capacity, delimitedSuffix, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Shake, Transform)\n\n  Shake.prototype._transform = function (chunk, encoding, callback) {\n    var error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Shake.prototype._flush = function () {}\n\n  Shake.prototype._read = function (size) {\n    this.push(this.squeeze(size))\n  }\n\n  Shake.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Squeeze already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Shake.prototype.squeeze = function (dataByteLength, encoding) {\n    if (!this._finalized) {\n      this._finalized = true\n      this._state.absorbLastFewBits(this._delimitedSuffix)\n    }\n\n    var data = this._state.squeeze(dataByteLength)\n    if (encoding !== undefined) data = data.toString(encoding)\n\n    return data\n  }\n\n  Shake.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  Shake.prototype._clone = function () {\n    var clone = new Shake(this._rate, this._capacity, this._delimitedSuffix, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Shake\n}\n","'use strict'\nvar createKeccak = require('./keccak')\nvar createShake = require('./shake')\n\nmodule.exports = function (KeccakState) {\n  var Keccak = createKeccak(KeccakState)\n  var Shake = createShake(KeccakState)\n\n  return function (algorithm, options) {\n    var hash = typeof algorithm === 'string' ? algorithm.toLowerCase() : algorithm\n    switch (hash) {\n      case 'keccak224': return new Keccak(1152, 448, null, 224, options)\n      case 'keccak256': return new Keccak(1088, 512, null, 256, options)\n      case 'keccak384': return new Keccak(832, 768, null, 384, options)\n      case 'keccak512': return new Keccak(576, 1024, null, 512, options)\n\n      case 'sha3-224': return new Keccak(1152, 448, 0x06, 224, options)\n      case 'sha3-256': return new Keccak(1088, 512, 0x06, 256, options)\n      case 'sha3-384': return new Keccak(832, 768, 0x06, 384, options)\n      case 'sha3-512': return new Keccak(576, 1024, 0x06, 512, options)\n\n      case 'shake128': return new Shake(1344, 256, 0x1f, options)\n      case 'shake256': return new Shake(1088, 512, 0x1f, options)\n\n      default: throw new Error('Invald algorithm: ' + algorithm)\n    }\n  }\n}\n","'use strict'\nvar P1600_ROUND_CONSTANTS = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648]\n\nexports.p1600 = function (s) {\n  for (var round = 0; round < 24; ++round) {\n    // theta\n    var lo0 = s[0] ^ s[10] ^ s[20] ^ s[30] ^ s[40]\n    var hi0 = s[1] ^ s[11] ^ s[21] ^ s[31] ^ s[41]\n    var lo1 = s[2] ^ s[12] ^ s[22] ^ s[32] ^ s[42]\n    var hi1 = s[3] ^ s[13] ^ s[23] ^ s[33] ^ s[43]\n    var lo2 = s[4] ^ s[14] ^ s[24] ^ s[34] ^ s[44]\n    var hi2 = s[5] ^ s[15] ^ s[25] ^ s[35] ^ s[45]\n    var lo3 = s[6] ^ s[16] ^ s[26] ^ s[36] ^ s[46]\n    var hi3 = s[7] ^ s[17] ^ s[27] ^ s[37] ^ s[47]\n    var lo4 = s[8] ^ s[18] ^ s[28] ^ s[38] ^ s[48]\n    var hi4 = s[9] ^ s[19] ^ s[29] ^ s[39] ^ s[49]\n\n    var lo = lo4 ^ (lo1 << 1 | hi1 >>> 31)\n    var hi = hi4 ^ (hi1 << 1 | lo1 >>> 31)\n    var t1slo0 = s[0] ^ lo\n    var t1shi0 = s[1] ^ hi\n    var t1slo5 = s[10] ^ lo\n    var t1shi5 = s[11] ^ hi\n    var t1slo10 = s[20] ^ lo\n    var t1shi10 = s[21] ^ hi\n    var t1slo15 = s[30] ^ lo\n    var t1shi15 = s[31] ^ hi\n    var t1slo20 = s[40] ^ lo\n    var t1shi20 = s[41] ^ hi\n    lo = lo0 ^ (lo2 << 1 | hi2 >>> 31)\n    hi = hi0 ^ (hi2 << 1 | lo2 >>> 31)\n    var t1slo1 = s[2] ^ lo\n    var t1shi1 = s[3] ^ hi\n    var t1slo6 = s[12] ^ lo\n    var t1shi6 = s[13] ^ hi\n    var t1slo11 = s[22] ^ lo\n    var t1shi11 = s[23] ^ hi\n    var t1slo16 = s[32] ^ lo\n    var t1shi16 = s[33] ^ hi\n    var t1slo21 = s[42] ^ lo\n    var t1shi21 = s[43] ^ hi\n    lo = lo1 ^ (lo3 << 1 | hi3 >>> 31)\n    hi = hi1 ^ (hi3 << 1 | lo3 >>> 31)\n    var t1slo2 = s[4] ^ lo\n    var t1shi2 = s[5] ^ hi\n    var t1slo7 = s[14] ^ lo\n    var t1shi7 = s[15] ^ hi\n    var t1slo12 = s[24] ^ lo\n    var t1shi12 = s[25] ^ hi\n    var t1slo17 = s[34] ^ lo\n    var t1shi17 = s[35] ^ hi\n    var t1slo22 = s[44] ^ lo\n    var t1shi22 = s[45] ^ hi\n    lo = lo2 ^ (lo4 << 1 | hi4 >>> 31)\n    hi = hi2 ^ (hi4 << 1 | lo4 >>> 31)\n    var t1slo3 = s[6] ^ lo\n    var t1shi3 = s[7] ^ hi\n    var t1slo8 = s[16] ^ lo\n    var t1shi8 = s[17] ^ hi\n    var t1slo13 = s[26] ^ lo\n    var t1shi13 = s[27] ^ hi\n    var t1slo18 = s[36] ^ lo\n    var t1shi18 = s[37] ^ hi\n    var t1slo23 = s[46] ^ lo\n    var t1shi23 = s[47] ^ hi\n    lo = lo3 ^ (lo0 << 1 | hi0 >>> 31)\n    hi = hi3 ^ (hi0 << 1 | lo0 >>> 31)\n    var t1slo4 = s[8] ^ lo\n    var t1shi4 = s[9] ^ hi\n    var t1slo9 = s[18] ^ lo\n    var t1shi9 = s[19] ^ hi\n    var t1slo14 = s[28] ^ lo\n    var t1shi14 = s[29] ^ hi\n    var t1slo19 = s[38] ^ lo\n    var t1shi19 = s[39] ^ hi\n    var t1slo24 = s[48] ^ lo\n    var t1shi24 = s[49] ^ hi\n\n    // rho & pi\n    var t2slo0 = t1slo0\n    var t2shi0 = t1shi0\n    var t2slo16 = (t1shi5 << 4 | t1slo5 >>> 28)\n    var t2shi16 = (t1slo5 << 4 | t1shi5 >>> 28)\n    var t2slo7 = (t1slo10 << 3 | t1shi10 >>> 29)\n    var t2shi7 = (t1shi10 << 3 | t1slo10 >>> 29)\n    var t2slo23 = (t1shi15 << 9 | t1slo15 >>> 23)\n    var t2shi23 = (t1slo15 << 9 | t1shi15 >>> 23)\n    var t2slo14 = (t1slo20 << 18 | t1shi20 >>> 14)\n    var t2shi14 = (t1shi20 << 18 | t1slo20 >>> 14)\n    var t2slo10 = (t1slo1 << 1 | t1shi1 >>> 31)\n    var t2shi10 = (t1shi1 << 1 | t1slo1 >>> 31)\n    var t2slo1 = (t1shi6 << 12 | t1slo6 >>> 20)\n    var t2shi1 = (t1slo6 << 12 | t1shi6 >>> 20)\n    var t2slo17 = (t1slo11 << 10 | t1shi11 >>> 22)\n    var t2shi17 = (t1shi11 << 10 | t1slo11 >>> 22)\n    var t2slo8 = (t1shi16 << 13 | t1slo16 >>> 19)\n    var t2shi8 = (t1slo16 << 13 | t1shi16 >>> 19)\n    var t2slo24 = (t1slo21 << 2 | t1shi21 >>> 30)\n    var t2shi24 = (t1shi21 << 2 | t1slo21 >>> 30)\n    var t2slo20 = (t1shi2 << 30 | t1slo2 >>> 2)\n    var t2shi20 = (t1slo2 << 30 | t1shi2 >>> 2)\n    var t2slo11 = (t1slo7 << 6 | t1shi7 >>> 26)\n    var t2shi11 = (t1shi7 << 6 | t1slo7 >>> 26)\n    var t2slo2 = (t1shi12 << 11 | t1slo12 >>> 21)\n    var t2shi2 = (t1slo12 << 11 | t1shi12 >>> 21)\n    var t2slo18 = (t1slo17 << 15 | t1shi17 >>> 17)\n    var t2shi18 = (t1shi17 << 15 | t1slo17 >>> 17)\n    var t2slo9 = (t1shi22 << 29 | t1slo22 >>> 3)\n    var t2shi9 = (t1slo22 << 29 | t1shi22 >>> 3)\n    var t2slo5 = (t1slo3 << 28 | t1shi3 >>> 4)\n    var t2shi5 = (t1shi3 << 28 | t1slo3 >>> 4)\n    var t2slo21 = (t1shi8 << 23 | t1slo8 >>> 9)\n    var t2shi21 = (t1slo8 << 23 | t1shi8 >>> 9)\n    var t2slo12 = (t1slo13 << 25 | t1shi13 >>> 7)\n    var t2shi12 = (t1shi13 << 25 | t1slo13 >>> 7)\n    var t2slo3 = (t1slo18 << 21 | t1shi18 >>> 11)\n    var t2shi3 = (t1shi18 << 21 | t1slo18 >>> 11)\n    var t2slo19 = (t1shi23 << 24 | t1slo23 >>> 8)\n    var t2shi19 = (t1slo23 << 24 | t1shi23 >>> 8)\n    var t2slo15 = (t1slo4 << 27 | t1shi4 >>> 5)\n    var t2shi15 = (t1shi4 << 27 | t1slo4 >>> 5)\n    var t2slo6 = (t1slo9 << 20 | t1shi9 >>> 12)\n    var t2shi6 = (t1shi9 << 20 | t1slo9 >>> 12)\n    var t2slo22 = (t1shi14 << 7 | t1slo14 >>> 25)\n    var t2shi22 = (t1slo14 << 7 | t1shi14 >>> 25)\n    var t2slo13 = (t1slo19 << 8 | t1shi19 >>> 24)\n    var t2shi13 = (t1shi19 << 8 | t1slo19 >>> 24)\n    var t2slo4 = (t1slo24 << 14 | t1shi24 >>> 18)\n    var t2shi4 = (t1shi24 << 14 | t1slo24 >>> 18)\n\n    // chi\n    s[0] = t2slo0 ^ (~t2slo1 & t2slo2)\n    s[1] = t2shi0 ^ (~t2shi1 & t2shi2)\n    s[10] = t2slo5 ^ (~t2slo6 & t2slo7)\n    s[11] = t2shi5 ^ (~t2shi6 & t2shi7)\n    s[20] = t2slo10 ^ (~t2slo11 & t2slo12)\n    s[21] = t2shi10 ^ (~t2shi11 & t2shi12)\n    s[30] = t2slo15 ^ (~t2slo16 & t2slo17)\n    s[31] = t2shi15 ^ (~t2shi16 & t2shi17)\n    s[40] = t2slo20 ^ (~t2slo21 & t2slo22)\n    s[41] = t2shi20 ^ (~t2shi21 & t2shi22)\n    s[2] = t2slo1 ^ (~t2slo2 & t2slo3)\n    s[3] = t2shi1 ^ (~t2shi2 & t2shi3)\n    s[12] = t2slo6 ^ (~t2slo7 & t2slo8)\n    s[13] = t2shi6 ^ (~t2shi7 & t2shi8)\n    s[22] = t2slo11 ^ (~t2slo12 & t2slo13)\n    s[23] = t2shi11 ^ (~t2shi12 & t2shi13)\n    s[32] = t2slo16 ^ (~t2slo17 & t2slo18)\n    s[33] = t2shi16 ^ (~t2shi17 & t2shi18)\n    s[42] = t2slo21 ^ (~t2slo22 & t2slo23)\n    s[43] = t2shi21 ^ (~t2shi22 & t2shi23)\n    s[4] = t2slo2 ^ (~t2slo3 & t2slo4)\n    s[5] = t2shi2 ^ (~t2shi3 & t2shi4)\n    s[14] = t2slo7 ^ (~t2slo8 & t2slo9)\n    s[15] = t2shi7 ^ (~t2shi8 & t2shi9)\n    s[24] = t2slo12 ^ (~t2slo13 & t2slo14)\n    s[25] = t2shi12 ^ (~t2shi13 & t2shi14)\n    s[34] = t2slo17 ^ (~t2slo18 & t2slo19)\n    s[35] = t2shi17 ^ (~t2shi18 & t2shi19)\n    s[44] = t2slo22 ^ (~t2slo23 & t2slo24)\n    s[45] = t2shi22 ^ (~t2shi23 & t2shi24)\n    s[6] = t2slo3 ^ (~t2slo4 & t2slo0)\n    s[7] = t2shi3 ^ (~t2shi4 & t2shi0)\n    s[16] = t2slo8 ^ (~t2slo9 & t2slo5)\n    s[17] = t2shi8 ^ (~t2shi9 & t2shi5)\n    s[26] = t2slo13 ^ (~t2slo14 & t2slo10)\n    s[27] = t2shi13 ^ (~t2shi14 & t2shi10)\n    s[36] = t2slo18 ^ (~t2slo19 & t2slo15)\n    s[37] = t2shi18 ^ (~t2shi19 & t2shi15)\n    s[46] = t2slo23 ^ (~t2slo24 & t2slo20)\n    s[47] = t2shi23 ^ (~t2shi24 & t2shi20)\n    s[8] = t2slo4 ^ (~t2slo0 & t2slo1)\n    s[9] = t2shi4 ^ (~t2shi0 & t2shi1)\n    s[18] = t2slo9 ^ (~t2slo5 & t2slo6)\n    s[19] = t2shi9 ^ (~t2shi5 & t2shi6)\n    s[28] = t2slo14 ^ (~t2slo10 & t2slo11)\n    s[29] = t2shi14 ^ (~t2shi10 & t2shi11)\n    s[38] = t2slo19 ^ (~t2slo15 & t2slo16)\n    s[39] = t2shi19 ^ (~t2shi15 & t2shi16)\n    s[48] = t2slo24 ^ (~t2slo20 & t2slo21)\n    s[49] = t2shi24 ^ (~t2shi20 & t2shi21)\n\n    // iota\n    s[0] ^= P1600_ROUND_CONSTANTS[round * 2]\n    s[1] ^= P1600_ROUND_CONSTANTS[round * 2 + 1]\n  }\n}\n","'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar keccakState = require('./keccak-state-unroll')\n\nfunction Keccak () {\n  // much faster than `new Array(50)`\n  this.state = [\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0\n  ]\n\n  this.blockSize = null\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.initialize = function (rate, capacity) {\n  for (var i = 0; i < 50; ++i) this.state[i] = 0\n  this.blockSize = rate / 8\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.absorb = function (data) {\n  for (var i = 0; i < data.length; ++i) {\n    this.state[~~(this.count / 4)] ^= data[i] << (8 * (this.count % 4))\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n}\n\nKeccak.prototype.absorbLastFewBits = function (bits) {\n  this.state[~~(this.count / 4)] ^= bits << (8 * (this.count % 4))\n  if ((bits & 0x80) !== 0 && this.count === (this.blockSize - 1)) keccakState.p1600(this.state)\n  this.state[~~((this.blockSize - 1) / 4)] ^= 0x80 << (8 * ((this.blockSize - 1) % 4))\n  keccakState.p1600(this.state)\n  this.count = 0\n  this.squeezing = true\n}\n\nKeccak.prototype.squeeze = function (length) {\n  if (!this.squeezing) this.absorbLastFewBits(0x01)\n\n  var output = Buffer.alloc(length)\n  for (var i = 0; i < length; ++i) {\n    output[i] = (this.state[~~(this.count / 4)] >>> (8 * (this.count % 4))) & 0xff\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n\n  return output\n}\n\nKeccak.prototype.copy = function (dest) {\n  for (var i = 0; i < 50; ++i) dest.state[i] = this.state[i]\n  dest.blockSize = this.blockSize\n  dest.count = this.count\n  dest.squeezing = this.squeezing\n}\n\nmodule.exports = Keccak\n","'use strict'\nmodule.exports = require('./lib/api')(require('./lib/keccak'))\n","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar createKeccakHash = require('keccak');\nvar secp256k1 = require('secp256k1');\nvar assert = require('assert');\nvar rlp = require('rlp');\nvar BN = require('bn.js');\nvar createHash = require('create-hash');\nvar Buffer = require('safe-buffer').Buffer;\nObject.assign(exports, require('ethjs-util'));\n\n/**\n * the max integer that this VM can handle (a ```BN```)\n * @var {BN} MAX_INTEGER\n */\nexports.MAX_INTEGER = new BN('ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff', 16);\n\n/**\n * 2^256 (a ```BN```)\n * @var {BN} TWO_POW256\n */\nexports.TWO_POW256 = new BN('10000000000000000000000000000000000000000000000000000000000000000', 16);\n\n/**\n * Keccak-256 hash of null (a ```String```)\n * @var {String} KECCAK256_NULL_S\n */\nexports.KECCAK256_NULL_S = 'c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470';\nexports.SHA3_NULL_S = exports.KECCAK256_NULL_S;\n\n/**\n * Keccak-256 hash of null (a ```Buffer```)\n * @var {Buffer} KECCAK256_NULL\n */\nexports.KECCAK256_NULL = Buffer.from(exports.KECCAK256_NULL_S, 'hex');\nexports.SHA3_NULL = exports.KECCAK256_NULL;\n\n/**\n * Keccak-256 of an RLP of an empty array (a ```String```)\n * @var {String} KECCAK256_RLP_ARRAY_S\n */\nexports.KECCAK256_RLP_ARRAY_S = '1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347';\nexports.SHA3_RLP_ARRAY_S = exports.KECCAK256_RLP_ARRAY_S;\n\n/**\n * Keccak-256 of an RLP of an empty array (a ```Buffer```)\n * @var {Buffer} KECCAK256_RLP_ARRAY\n */\nexports.KECCAK256_RLP_ARRAY = Buffer.from(exports.KECCAK256_RLP_ARRAY_S, 'hex');\nexports.SHA3_RLP_ARRAY = exports.KECCAK256_RLP_ARRAY;\n\n/**\n * Keccak-256 hash of the RLP of null  (a ```String```)\n * @var {String} KECCAK256_RLP_S\n */\nexports.KECCAK256_RLP_S = '56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421';\nexports.SHA3_RLP_S = exports.KECCAK256_RLP_S;\n\n/**\n * Keccak-256 hash of the RLP of null (a ```Buffer```)\n * @var {Buffer} KECCAK256_RLP\n */\nexports.KECCAK256_RLP = Buffer.from(exports.KECCAK256_RLP_S, 'hex');\nexports.SHA3_RLP = exports.KECCAK256_RLP;\n\n/**\n * [`BN`](https://github.com/indutny/bn.js)\n * @var {Function}\n */\nexports.BN = BN;\n\n/**\n * [`rlp`](https://github.com/ethereumjs/rlp)\n * @var {Function}\n */\nexports.rlp = rlp;\n\n/**\n * [`secp256k1`](https://github.com/cryptocoinjs/secp256k1-node/)\n * @var {Object}\n */\nexports.secp256k1 = secp256k1;\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nexports.zeros = function (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0);\n};\n\n/**\n  * Returns a zero address\n  * @method zeroAddress\n  * @return {String}\n  */\nexports.zeroAddress = function () {\n  var addressLength = 20;\n  var zeroAddress = exports.zeros(addressLength);\n  return exports.bufferToHex(zeroAddress);\n};\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method lsetLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nexports.setLengthLeft = exports.setLength = function (msg, length, right) {\n  var buf = exports.zeros(length);\n  msg = exports.toBuffer(msg);\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf);\n      return buf;\n    }\n    return msg.slice(0, length);\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length);\n      return buf;\n    }\n    return msg.slice(-length);\n  }\n};\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nexports.setLengthRight = function (msg, length) {\n  return exports.setLength(msg, length, true);\n};\n\n/**\n * Trims leading zeros from a `Buffer` or an `Array`\n * @param {Buffer|Array|String} a\n * @return {Buffer|Array|String}\n */\nexports.unpad = exports.stripZeros = function (a) {\n  a = exports.stripHexPrefix(a);\n  var first = a[0];\n  while (a.length > 0 && first.toString() === '0') {\n    a = a.slice(1);\n    first = a[0];\n  }\n  return a;\n};\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nexports.toBuffer = function (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v);\n    } else if (typeof v === 'string') {\n      if (exports.isHexString(v)) {\n        v = Buffer.from(exports.padToEven(exports.stripHexPrefix(v)), 'hex');\n      } else {\n        v = Buffer.from(v);\n      }\n    } else if (typeof v === 'number') {\n      v = exports.intToBuffer(v);\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0);\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer);\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray());\n    } else {\n      throw new Error('invalid type');\n    }\n  }\n  return v;\n};\n\n/**\n * Converts a `Buffer` to a `Number`\n * @param {Buffer} buf\n * @return {Number}\n * @throws If the input number exceeds 53 bits.\n */\nexports.bufferToInt = function (buf) {\n  return new BN(exports.toBuffer(buf)).toNumber();\n};\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nexports.bufferToHex = function (buf) {\n  buf = exports.toBuffer(buf);\n  return '0x' + buf.toString('hex');\n};\n\n/**\n * Interprets a `Buffer` as a signed integer and returns a `BN`. Assumes 256-bit numbers.\n * @param {Buffer} num\n * @return {BN}\n */\nexports.fromSigned = function (num) {\n  return new BN(num).fromTwos(256);\n};\n\n/**\n * Converts a `BN` to an unsigned integer and returns it as a `Buffer`. Assumes 256-bit numbers.\n * @param {BN} num\n * @return {Buffer}\n */\nexports.toUnsigned = function (num) {\n  return Buffer.from(num.toTwos(256).toArray());\n};\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nexports.keccak = function (a, bits) {\n  a = exports.toBuffer(a);\n  if (!bits) bits = 256;\n\n  return createKeccakHash('keccak' + bits).update(a).digest();\n};\n\n/**\n * Creates Keccak-256 hash of the input, alias for keccak(a, 256)\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.keccak256 = function (a) {\n  return exports.keccak(a);\n};\n\n/**\n * Creates SHA-3 (Keccak) hash of the input [OBSOLETE]\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the SHA-3 width\n * @return {Buffer}\n */\nexports.sha3 = exports.keccak;\n\n/**\n * Creates SHA256 hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.sha256 = function (a) {\n  a = exports.toBuffer(a);\n  return createHash('sha256').update(a).digest();\n};\n\n/**\n * Creates RIPEMD160 hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Boolean} padded whether it should be padded to 256 bits or not\n * @return {Buffer}\n */\nexports.ripemd160 = function (a, padded) {\n  a = exports.toBuffer(a);\n  var hash = createHash('rmd160').update(a).digest();\n  if (padded === true) {\n    return exports.setLength(hash, 32);\n  } else {\n    return hash;\n  }\n};\n\n/**\n * Creates SHA-3 hash of the RLP encoded version of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.rlphash = function (a) {\n  return exports.keccak(rlp.encode(a));\n};\n\n/**\n * Checks if the private key satisfies the rules of the curve secp256k1.\n * @param {Buffer} privateKey\n * @return {Boolean}\n */\nexports.isValidPrivate = function (privateKey) {\n  return secp256k1.privateKeyVerify(privateKey);\n};\n\n/**\n * Checks if the public key satisfies the rules of the curve secp256k1\n * and the requirements of Ethereum.\n * @param {Buffer} publicKey The two points of an uncompressed key, unless sanitize is enabled\n * @param {Boolean} [sanitize=false] Accept public keys in other formats\n * @return {Boolean}\n */\nexports.isValidPublic = function (publicKey, sanitize) {\n  if (publicKey.length === 64) {\n    // Convert to SEC1 for secp256k1\n    return secp256k1.publicKeyVerify(Buffer.concat([Buffer.from([4]), publicKey]));\n  }\n\n  if (!sanitize) {\n    return false;\n  }\n\n  return secp256k1.publicKeyVerify(publicKey);\n};\n\n/**\n * Returns the ethereum address of a given public key.\n * Accepts \"Ethereum public keys\" and SEC1 encoded keys.\n * @param {Buffer} pubKey The two points of an uncompressed key, unless sanitize is enabled\n * @param {Boolean} [sanitize=false] Accept public keys in other formats\n * @return {Buffer}\n */\nexports.pubToAddress = exports.publicToAddress = function (pubKey, sanitize) {\n  pubKey = exports.toBuffer(pubKey);\n  if (sanitize && pubKey.length !== 64) {\n    pubKey = secp256k1.publicKeyConvert(pubKey, false).slice(1);\n  }\n  assert(pubKey.length === 64);\n  // Only take the lower 160bits of the hash\n  return exports.keccak(pubKey).slice(-20);\n};\n\n/**\n * Returns the ethereum public key of a given private key\n * @param {Buffer} privateKey A private key must be 256 bits wide\n * @return {Buffer}\n */\nvar privateToPublic = exports.privateToPublic = function (privateKey) {\n  privateKey = exports.toBuffer(privateKey);\n  // skip the type flag and use the X, Y points\n  return secp256k1.publicKeyCreate(privateKey, false).slice(1);\n};\n\n/**\n * Converts a public key to the Ethereum format.\n * @param {Buffer} publicKey\n * @return {Buffer}\n */\nexports.importPublic = function (publicKey) {\n  publicKey = exports.toBuffer(publicKey);\n  if (publicKey.length !== 64) {\n    publicKey = secp256k1.publicKeyConvert(publicKey, false).slice(1);\n  }\n  return publicKey;\n};\n\n/**\n * ECDSA sign\n * @param {Buffer} msgHash\n * @param {Buffer} privateKey\n * @return {Object}\n */\nexports.ecsign = function (msgHash, privateKey) {\n  var sig = secp256k1.sign(msgHash, privateKey);\n\n  var ret = {};\n  ret.r = sig.signature.slice(0, 32);\n  ret.s = sig.signature.slice(32, 64);\n  ret.v = sig.recovery + 27;\n  return ret;\n};\n\n/**\n * Returns the keccak-256 hash of `message`, prefixed with the header used by the `eth_sign` RPC call.\n * The output of this function can be fed into `ecsign` to produce the same signature as the `eth_sign`\n * call for a given `message`, or fed to `ecrecover` along with a signature to recover the public key\n * used to produce the signature.\n * @param message\n * @returns {Buffer} hash\n */\nexports.hashPersonalMessage = function (message) {\n  var prefix = exports.toBuffer('\\x19Ethereum Signed Message:\\n' + message.length.toString());\n  return exports.keccak(Buffer.concat([prefix, message]));\n};\n\n/**\n * ECDSA public key recovery from signature\n * @param {Buffer} msgHash\n * @param {Number} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @return {Buffer} publicKey\n */\nexports.ecrecover = function (msgHash, v, r, s) {\n  var signature = Buffer.concat([exports.setLength(r, 32), exports.setLength(s, 32)], 64);\n  var recovery = v - 27;\n  if (recovery !== 0 && recovery !== 1) {\n    throw new Error('Invalid signature v value');\n  }\n  var senderPubKey = secp256k1.recover(msgHash, signature, recovery);\n  return secp256k1.publicKeyConvert(senderPubKey, false).slice(1);\n};\n\n/**\n * Convert signature parameters into the format of `eth_sign` RPC method\n * @param {Number} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @return {String} sig\n */\nexports.toRpcSig = function (v, r, s) {\n  // NOTE: with potential introduction of chainId this might need to be updated\n  if (v !== 27 && v !== 28) {\n    throw new Error('Invalid recovery id');\n  }\n\n  // geth (and the RPC eth_sign method) uses the 65 byte format used by Bitcoin\n  // FIXME: this might change in the future - https://github.com/ethereum/go-ethereum/issues/2053\n  return exports.bufferToHex(Buffer.concat([exports.setLengthLeft(r, 32), exports.setLengthLeft(s, 32), exports.toBuffer(v - 27)]));\n};\n\n/**\n * Convert signature format of the `eth_sign` RPC method to signature parameters\n * NOTE: all because of a bug in geth: https://github.com/ethereum/go-ethereum/issues/2053\n * @param {String} sig\n * @return {Object}\n */\nexports.fromRpcSig = function (sig) {\n  sig = exports.toBuffer(sig);\n\n  // NOTE: with potential introduction of chainId this might need to be updated\n  if (sig.length !== 65) {\n    throw new Error('Invalid signature length');\n  }\n\n  var v = sig[64];\n  // support both versions of `eth_sign` responses\n  if (v < 27) {\n    v += 27;\n  }\n\n  return {\n    v: v,\n    r: sig.slice(0, 32),\n    s: sig.slice(32, 64)\n  };\n};\n\n/**\n * Returns the ethereum address of a given private key\n * @param {Buffer} privateKey A private key must be 256 bits wide\n * @return {Buffer}\n */\nexports.privateToAddress = function (privateKey) {\n  return exports.publicToAddress(privateToPublic(privateKey));\n};\n\n/**\n * Checks if the address is a valid. Accepts checksummed addresses too\n * @param {String} address\n * @return {Boolean}\n */\nexports.isValidAddress = function (address) {\n  return (/^0x[0-9a-fA-F]{40}$/.test(address)\n  );\n};\n\n/**\n  * Checks if a given address is a zero address\n  * @method isZeroAddress\n  * @param {String} address\n  * @return {Boolean}\n  */\nexports.isZeroAddress = function (address) {\n  var zeroAddress = exports.zeroAddress();\n  return zeroAddress === exports.addHexPrefix(address);\n};\n\n/**\n * Returns a checksummed address\n * @param {String} address\n * @return {String}\n */\nexports.toChecksumAddress = function (address) {\n  address = exports.stripHexPrefix(address).toLowerCase();\n  var hash = exports.keccak(address).toString('hex');\n  var ret = '0x';\n\n  for (var i = 0; i < address.length; i++) {\n    if (parseInt(hash[i], 16) >= 8) {\n      ret += address[i].toUpperCase();\n    } else {\n      ret += address[i];\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Checks if the address is a valid checksummed address\n * @param {Buffer} address\n * @return {Boolean}\n */\nexports.isValidChecksumAddress = function (address) {\n  return exports.isValidAddress(address) && exports.toChecksumAddress(address) === address;\n};\n\n/**\n * Generates an address of a newly created contract\n * @param {Buffer} from the address which is creating this new address\n * @param {Buffer} nonce the nonce of the from account\n * @return {Buffer}\n */\nexports.generateAddress = function (from, nonce) {\n  from = exports.toBuffer(from);\n  nonce = new BN(nonce);\n\n  if (nonce.isZero()) {\n    // in RLP we want to encode null in the case of zero nonce\n    // read the RLP documentation for an answer if you dare\n    nonce = null;\n  } else {\n    nonce = Buffer.from(nonce.toArray());\n  }\n\n  // Only take the lower 160bits of the hash\n  return exports.rlphash([from, nonce]).slice(-20);\n};\n\n/**\n * Returns true if the supplied address belongs to a precompiled account (Byzantium)\n * @param {Buffer|String} address\n * @return {Boolean}\n */\nexports.isPrecompiled = function (address) {\n  var a = exports.unpad(address);\n  return a.length === 1 && a[0] >= 1 && a[0] <= 8;\n};\n\n/**\n * Adds \"0x\" to a given `String` if it does not already start with \"0x\"\n * @param {String} str\n * @return {String}\n */\nexports.addHexPrefix = function (str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n\n  return exports.isHexPrefixed(str) ? str : '0x' + str;\n};\n\n/**\n * Validate ECDSA signature\n * @method isValidSignature\n * @param {Buffer} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @param {Boolean} [homestead=true]\n * @return {Boolean}\n */\n\nexports.isValidSignature = function (v, r, s, homestead) {\n  var SECP256K1_N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n  var SECP256K1_N = new BN('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141', 16);\n\n  if (r.length !== 32 || s.length !== 32) {\n    return false;\n  }\n\n  if (v !== 27 && v !== 28) {\n    return false;\n  }\n\n  r = new BN(r);\n  s = new BN(s);\n\n  if (r.isZero() || r.gt(SECP256K1_N) || s.isZero() || s.gt(SECP256K1_N)) {\n    return false;\n  }\n\n  if (homestead === false && new BN(s).cmp(SECP256K1_N_DIV_2) === 1) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Converts a `Buffer` or `Array` to JSON\n * @param {Buffer|Array} ba\n * @return {Array|String|null}\n */\nexports.baToJSON = function (ba) {\n  if (Buffer.isBuffer(ba)) {\n    return '0x' + ba.toString('hex');\n  } else if (ba instanceof Array) {\n    var array = [];\n    for (var i = 0; i < ba.length; i++) {\n      array.push(exports.baToJSON(ba[i]));\n    }\n    return array;\n  }\n};\n\n/**\n * Defines properties on a `Object`. It make the assumption that underlying data is binary.\n * @param {Object} self the `Object` to define properties on\n * @param {Array} fields an array fields to define. Fields can contain:\n * * `name` - the name of the properties\n * * `length` - the number of bytes the field can have\n * * `allowLess` - if the field can be less than the length\n * * `allowEmpty`\n * @param {*} data data to be validated against the definitions\n */\nexports.defineProperties = function (self, fields, data) {\n  self.raw = [];\n  self._fields = [];\n\n  // attach the `toJSON`\n  self.toJSON = function (label) {\n    if (label) {\n      var obj = {};\n      self._fields.forEach(function (field) {\n        obj[field] = '0x' + self[field].toString('hex');\n      });\n      return obj;\n    }\n    return exports.baToJSON(this.raw);\n  };\n\n  self.serialize = function serialize() {\n    return rlp.encode(self.raw);\n  };\n\n  fields.forEach(function (field, i) {\n    self._fields.push(field.name);\n    function getter() {\n      return self.raw[i];\n    }\n    function setter(v) {\n      v = exports.toBuffer(v);\n\n      if (v.toString('hex') === '00' && !field.allowZero) {\n        v = Buffer.allocUnsafe(0);\n      }\n\n      if (field.allowLess && field.length) {\n        v = exports.stripZeros(v);\n        assert(field.length >= v.length, 'The field ' + field.name + ' must not have more ' + field.length + ' bytes');\n      } else if (!(field.allowZero && v.length === 0) && field.length) {\n        assert(field.length === v.length, 'The field ' + field.name + ' must have byte length of ' + field.length);\n      }\n\n      self.raw[i] = v;\n    }\n\n    Object.defineProperty(self, field.name, {\n      enumerable: true,\n      configurable: true,\n      get: getter,\n      set: setter\n    });\n\n    if (field.default) {\n      self[field.name] = field.default;\n    }\n\n    // attach alias\n    if (field.alias) {\n      Object.defineProperty(self, field.alias, {\n        enumerable: false,\n        configurable: true,\n        set: setter,\n        get: getter\n      });\n    }\n  });\n\n  // if the constuctor is passed data\n  if (data) {\n    if (typeof data === 'string') {\n      data = Buffer.from(exports.stripHexPrefix(data), 'hex');\n    }\n\n    if (Buffer.isBuffer(data)) {\n      data = rlp.decode(data);\n    }\n\n    if (Array.isArray(data)) {\n      if (data.length > self._fields.length) {\n        throw new Error('wrong number of fields in data');\n      }\n\n      // make sure all the items are buffers\n      data.forEach(function (d, i) {\n        self[self._fields[i]] = exports.toBuffer(d);\n      });\n    } else if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n      var keys = Object.keys(data);\n      fields.forEach(function (field) {\n        if (keys.indexOf(field.name) !== -1) self[field.name] = data[field.name];\n        if (keys.indexOf(field.alias) !== -1) self[field.alias] = data[field.alias];\n      });\n    } else {\n      throw new Error('invalid data');\n    }\n  }\n};","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport ProviderEngine from '@portis/web3-provider-engine';\nimport CacheSubprovider from '@portis/web3-provider-engine/subproviders/cache.js';\nimport FixtureSubprovider from '@portis/web3-provider-engine/subproviders/fixture.js';\nimport FilterSubprovider from '@portis/web3-provider-engine/subproviders/filters.js';\nimport HookedWalletSubprovider from '@portis/web3-provider-engine/subproviders/hooked-wallet.js';\nimport NonceSubprovider from '@portis/web3-provider-engine/subproviders/nonce-tracker.js';\nimport SubscriptionsSubprovider from '@portis/web3-provider-engine/subproviders/subscriptions.js';\nimport Penpal from 'penpal';\nimport { networkAdapter } from './networks';\nimport { getTxGas } from './utils/getTxGas';\nimport { Query } from './utils/query';\nimport { onWindowLoad } from './utils/onWindowLoad';\nimport { styles } from './styles';\nimport { validateSecureOrigin } from './utils/secureOrigin';\nimport PocketJSCore from 'pocket-js-core';\nvar VERSION = '2.0.0-beta.54';\nvar WIDGET_URL = 'https://widget.portis.io';\nvar SUPPORTED_SCOPES = ['email', 'reputation'];\nvar tempCachingIFrame = document.createElement('iframe');\ntempCachingIFrame.style.width = '0';\ntempCachingIFrame.style.height = '0';\ntempCachingIFrame.style.border = 'none';\ntempCachingIFrame.style.position = 'absolute';\ntempCachingIFrame.style.top = '-999px';\ntempCachingIFrame.style.left = '-999px';\ntempCachingIFrame.src = WIDGET_URL;\nonWindowLoad().then(function () {\n    document.body.appendChild(tempCachingIFrame);\n});\nvar Portis = /** @class */ (function () {\n    function Portis(dappId, network, options) {\n        if (options === void 0) { options = {}; }\n        this._widgetUrl = WIDGET_URL;\n        validateSecureOrigin();\n        this._valiadateParams(dappId, network, options);\n        this.config = {\n            dappId: dappId,\n            network: networkAdapter(network, options.gasRelay),\n            version: VERSION,\n            scope: options.scope,\n            registerPageByDefault: options.registerPageByDefault,\n        };\n        this.widget = this._initWidget();\n        this.provider = this._initProvider(options);\n    }\n    Portis.prototype.changeNetwork = function (network, gasRelay) {\n        var newNetwork = networkAdapter(network, gasRelay);\n        this.clearSubprovider(NonceSubprovider);\n        this.clearSubprovider(CacheSubprovider);\n        this.config.network = newNetwork;\n    };\n    Portis.prototype.setDefaultEmail = function (email) {\n        this.config.defaultEmail = email;\n    };\n    Portis.prototype.showPortis = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.showPortis(this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.logout = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.logout()];\n                }\n            });\n        });\n    };\n    Portis.prototype.onLogin = function (callback) {\n        this._onLoginCallback = callback;\n    };\n    Portis.prototype.onLogout = function (callback) {\n        this._onLogoutCallback = callback;\n    };\n    Portis.prototype.onActiveWalletChanged = function (callback) {\n        this._onActiveWalletChangedCallback = callback;\n    };\n    Portis.prototype.onError = function (callback) {\n        this._onErrorCallback = callback;\n    };\n    Portis.prototype.getExtendedPublicKey = function (path, coin) {\n        if (path === void 0) { path = \"m/44'/60'/0'/0/0\"; }\n        if (coin === void 0) { coin = 'Ethereum'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.getExtendedPublicKey(path, coin, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.importWallet = function (mnemonicOrPrivateKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.importWallet(mnemonicOrPrivateKey, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.isLoggedIn = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.isLoggedIn()];\n                }\n            });\n        });\n    };\n    Portis.prototype.signBitcoinTransaction = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.signBitcoinTransaction(params, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.showBitcoinWallet = function (path) {\n        if (path === void 0) { path = \"m/49'/0'/0'/0/0\"; }\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.showBitcoinWallet(path, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype._valiadateParams = function (dappId, network, options) {\n        if (!dappId) {\n            throw new Error(\"[Portis] 'dappId' is required. Get your dappId here: https://dashboard.portis.io\");\n        }\n        if (!network) {\n            throw new Error(\"[Portis] 'network' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n        }\n        if (options.scope) {\n            if (!Array.isArray(options.scope)) {\n                throw new Error(\"[Portis] 'scope' must be an array. Read more about it here: https://docs.portis.io/#/configuration?id=scope\");\n            }\n            var unknownScope = options.scope.filter(function (item) { return SUPPORTED_SCOPES.indexOf(item) < 0; });\n            if (unknownScope.length > 0) {\n                throw new Error(\"[Portis] invalid 'scope' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=scope\");\n            }\n        }\n        if (options.registerPageByDefault !== undefined && typeof options.registerPageByDefault !== 'boolean') {\n            throw new Error(\"[Portis] invalid 'registerPageByDefault' parameter, must be a boolean. Read more about it here: https://docs.portis.io/#/configuration?id=registerPageByDefault\");\n        }\n    };\n    Portis.prototype._initWidget = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var style, container, widgetFrame, connection, communication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, onWindowLoad()];\n                    case 1:\n                        _a.sent();\n                        if (document.body.contains(tempCachingIFrame)) {\n                            document.body.removeChild(tempCachingIFrame);\n                        }\n                        style = document.createElement('style');\n                        style.innerHTML = styles;\n                        container = document.createElement('div');\n                        container.className = 'por_portis-container';\n                        widgetFrame = document.createElement('div');\n                        widgetFrame.id = \"portis-container-\" + Date.now();\n                        widgetFrame.className = 'por_portis-widget-frame';\n                        container.appendChild(widgetFrame);\n                        document.body.appendChild(container);\n                        document.head.appendChild(style);\n                        connection = Penpal.connectToChild({\n                            url: this._widgetUrl,\n                            appendTo: document.getElementById(widgetFrame.id),\n                            methods: {\n                                setHeight: this._setHeight.bind(this),\n                                getWindowSize: this._getWindowSize.bind(this),\n                                onLogin: this._onLogin.bind(this),\n                                onLogout: this._onLogout.bind(this),\n                                onActiveWalletChanged: this._onActiveWalletChanged.bind(this),\n                                onError: this._onError.bind(this),\n                            },\n                        });\n                        connection.iframe.style.position = 'absolute';\n                        connection.iframe.style.height = '100%';\n                        connection.iframe.style.width = '100%';\n                        connection.iframe.style.border = '0 transparent';\n                        return [4 /*yield*/, connection.promise];\n                    case 2:\n                        communication = _a.sent();\n                        communication.retrieveSession(this.config);\n                        return [2 /*return*/, { communication: communication, iframe: connection.iframe, widgetFrame: widgetFrame }];\n                }\n            });\n        });\n    };\n    Portis.prototype._initProvider = function (options) {\n        var _this = this;\n        var engine = new ProviderEngine();\n        var query = new Query(engine);\n        engine.send = function (payload, callback) {\n            // Web3 1.0 beta.38 (and above) calls `send` with method and parameters\n            if (typeof payload === 'string') {\n                return new Promise(function (resolve, reject) {\n                    engine.sendAsync({\n                        jsonrpc: '2.0',\n                        id: 42,\n                        method: payload,\n                        params: callback || [],\n                    }, function (error, response) {\n                        if (error) {\n                            reject(error);\n                        }\n                        else {\n                            resolve(response.result);\n                        }\n                    });\n                });\n            }\n            // Web3 1.0 beta.37 (and below) uses `send` with a callback for async queries\n            if (callback) {\n                engine.sendAsync(payload, callback);\n                return;\n            }\n            var result = null;\n            switch (payload.method) {\n                case 'eth_accounts':\n                    result = _this._selectedAddress ? [_this._selectedAddress] : [];\n                    break;\n                case 'eth_coinbase':\n                    result = _this._selectedAddress ? [_this._selectedAddress] : [];\n                    break;\n                case 'net_version':\n                    result = _this._network;\n                    break;\n                case 'eth_uninstallFilter':\n                    engine.sendAsync(payload, function (_) { return _; });\n                    result = true;\n                    break;\n                default:\n                    var message = \"The Portis Web3 object does not support synchronous methods like \" + payload.method + \" without a callback parameter.\";\n                    throw new Error(message);\n            }\n            return {\n                id: payload.id,\n                jsonrpc: payload.jsonrpc,\n                result: result,\n            };\n        };\n        engine.addProvider(new FixtureSubprovider({\n            web3_clientVersion: \"Portis/v\" + this.config.version + \"/javascript\",\n            net_listening: true,\n            eth_hashrate: '0x00',\n            eth_mining: false,\n            eth_syncing: true,\n        }));\n        engine.addProvider(new CacheSubprovider());\n        engine.addProvider(new SubscriptionsSubprovider());\n        engine.addProvider(new FilterSubprovider());\n        engine.addProvider(new NonceSubprovider());\n        engine.addProvider({\n            setEngine: function (_) { return _; },\n            handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    if (!payload.id) {\n                        payload.id = 42;\n                    }\n                    next();\n                    return [2 /*return*/];\n                });\n            }); },\n        });\n        engine.addProvider(new HookedWalletSubprovider({\n            getAccounts: function (cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            return [4 /*yield*/, widgetCommunication.getAccounts(this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            if (!error && result) {\n                                this._selectedAddress = result[0];\n                            }\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTransaction: function (txParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            return [4 /*yield*/, widgetCommunication.signTransaction(txParams, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signPersonalMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signPersonalMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTypedMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signTypedMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTypedMessageV3: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signTypedMessageV3' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            estimateGas: function (txParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var gas;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, getTxGas(query, txParams)];\n                        case 1:\n                            gas = _a.sent();\n                            cb(null, gas);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            getGasPrice: function (cb) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    cb(null, '');\n                    return [2 /*return*/];\n                });\n            }); },\n        }));\n        if (!options.pocketDevId) {\n            engine.addProvider({\n                setEngine: function (_) { return _; },\n                handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                    var widgetCommunication, _a, error, result;\n                    return __generator(this, function (_b) {\n                        switch (_b.label) {\n                            case 0: return [4 /*yield*/, this.widget];\n                            case 1:\n                                widgetCommunication = (_b.sent()).communication;\n                                return [4 /*yield*/, widgetCommunication.relay(payload, this.config)];\n                            case 2:\n                                _a = _b.sent(), error = _a.error, result = _a.result;\n                                if (payload.method === 'net_version') {\n                                    this._network = result;\n                                    engine.networkVersion = this._network;\n                                }\n                                end(error, result);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); },\n            });\n        }\n        else {\n            var pocket_1 = new PocketJSCore.Pocket({\n                devID: options.pocketDevId,\n                networkName: 'ETH',\n                netIDs: [this.config.network.chainId],\n            });\n            engine.addProvider({\n                setEngine: function (_) { return _; },\n                handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                    var response, result, error;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, pocket_1.sendRelay(new PocketJSCore.Relay('ETH', this.config.network.chainId, JSON.stringify(payload), pocket_1.configuration))];\n                            case 1:\n                                response = _a.sent();\n                                if (response instanceof Error || !response) {\n                                    error = response || new Error('Unknown error');\n                                    result = null;\n                                }\n                                else {\n                                    try {\n                                        result = JSON.parse(response).result;\n                                        error = null;\n                                    }\n                                    catch (e) {\n                                        result = null;\n                                        error = e;\n                                    }\n                                }\n                                if (payload.method === 'net_version') {\n                                    this._network = result;\n                                    engine.networkVersion = this._network;\n                                }\n                                end(error, result);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); },\n            });\n        }\n        engine.enable = function () {\n            return new Promise(function (resolve, reject) {\n                engine.sendAsync({ method: 'eth_accounts' }, function (error, response) {\n                    if (error) {\n                        reject(error);\n                    }\n                    else {\n                        resolve(response.result);\n                    }\n                });\n            });\n        };\n        engine.isConnected = function () {\n            return true;\n        };\n        engine.isPortis = true;\n        engine.on('error', function (error) {\n            if (error && error.message && error.message.includes('PollingBlockTracker')) {\n                console.warn('If you see this warning constantly, there might be an error with your RPC node.');\n            }\n            else {\n                console.error(error);\n            }\n        });\n        engine.start();\n        return engine;\n    };\n    Portis.prototype._setHeight = function (height) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetFrame;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetFrame = (_a.sent()).widgetFrame;\n                        widgetFrame.style.height = height + \"px\";\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Portis.prototype._getWindowSize = function () {\n        var body = document.getElementsByTagName('body')[0];\n        var width = window.innerWidth || document.documentElement.clientWidth || body.clientWidth;\n        var height = window.innerHeight || document.documentElement.clientHeight || body.clientHeight;\n        return { width: width, height: height };\n    };\n    Portis.prototype._onLogin = function (walletAddress, email, reputation) {\n        if (this._onLoginCallback) {\n            this._onLoginCallback(walletAddress, email, reputation);\n        }\n    };\n    Portis.prototype._onLogout = function () {\n        this._selectedAddress = '';\n        if (this._onLogoutCallback) {\n            this._onLogoutCallback();\n        }\n    };\n    Portis.prototype._onActiveWalletChanged = function (walletAddress) {\n        if (this._onActiveWalletChangedCallback) {\n            this._onActiveWalletChangedCallback(walletAddress);\n        }\n    };\n    Portis.prototype._onError = function (error) {\n        if (this._onErrorCallback) {\n            this._onErrorCallback(error);\n        }\n    };\n    Portis.prototype.clearSubprovider = function (subproviderType) {\n        var subprovider = this.provider._providers.find(function (subprovider) { return subprovider instanceof subproviderType; });\n        this.provider.removeProvider(subprovider);\n        this.provider.addProvider(new subproviderType());\n    };\n    return Portis;\n}());\nexport default Portis;\n//# sourceMappingURL=index.js.map","const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\n\nmodule.exports = Stoplight\n\n\ninherits(Stoplight, EventEmitter)\n\nfunction Stoplight(){\n  const self = this\n  EventEmitter.call(self)\n  self.isLocked = true\n}\n\nStoplight.prototype.go = function(){\n  const self = this\n  self.isLocked = false\n  self.emit('unlock')\n}\n\nStoplight.prototype.stop = function(){\n  const self = this\n  self.isLocked = true\n  self.emit('lock')\n}\n\nStoplight.prototype.await = function(fn){\n  const self = this\n  if (self.isLocked) {\n    self.once('unlock', fn)\n  } else {\n    setTimeout(fn)\n  }\n}","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload,\n}\n\nfunction cacheIdentifierForPayload(payload, opts = {}){\n  if (!canCache(payload)) return null\n  const { includeBlockRef } = opts\n  const params = includeBlockRef ? payload.params : paramsWithoutBlockTag(payload)\n  return payload.method + ':' + stringify(params)\n}\n\nfunction canCache(payload){\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null;\n  }\n\n  return payload.params[index];\n}\n\nfunction paramsWithoutBlockTag(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params;\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1);\n  }\n\n  return payload.params.slice(0,index);\n}\n\nfunction blockTagParamIndex(payload){\n  switch(payload.method) {\n    // blockTag is third param\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is second param\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n      return 1\n    // blockTag is first param\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload(payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'eth_blockNumber':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n      return 'never'\n  }\n}\n","// gotta keep it within MAX_SAFE_INTEGER\nconst extraDigits = 3\n\nmodule.exports = createRandomId\n\n\nfunction createRandomId(){\n  // 13 time digits\n  var datePart = new Date().getTime()*Math.pow(10, extraDigits)\n  // 3 random digits\n  var extraPart = Math.floor(Math.random()*Math.pow(10, extraDigits))\n  // 16 digits\n  return datePart+extraPart\n}","const getRandomId = require('./random-id.js')\nconst extend = require('xtend')\n\nmodule.exports = createPayload\n\n\nfunction createPayload(data){\n  return extend({\n    // defaults\n    id: getRandomId(),\n    jsonrpc: '2.0',\n    params: [],\n    // user-specified\n  }, data)\n}\n","const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst EthBlockTracker = require('eth-block-tracker')\nconst map = require('async/map')\nconst eachSeries = require('async/eachSeries')\nconst Stoplight = require('./util/stoplight.js')\nconst cacheUtils = require('./util/rpc-cache-utils.js')\nconst createPayload = require('./util/create-payload.js')\nconst noop = function(){}\n\nmodule.exports = Web3ProviderEngine\n\n\ninherits(Web3ProviderEngine, EventEmitter)\n\n// fix for web3.js\nObject.defineProperty(Web3ProviderEngine, 'name', { value: 'HttpProvider' })\n\nfunction Web3ProviderEngine(opts) {\n  const self = this\n  EventEmitter.call(self)\n  self.setMaxListeners(30)\n  // parse options\n  opts = opts || {}\n\n  // block polling\n  const directProvider = { sendAsync: self._handleAsync.bind(self) }\n  const blockTrackerProvider = opts.blockTrackerProvider || directProvider\n  self._blockTracker = opts.blockTracker || new EthBlockTracker({\n    provider: blockTrackerProvider,\n    pollingInterval: opts.pollingInterval || 4000,\n    setSkipCacheFlag: true,\n  })\n\n  // set initialization blocker\n  self._ready = new Stoplight()\n\n  // local state\n  self.currentBlock = null\n  self._providers = []\n}\n\n// public\n\nWeb3ProviderEngine.prototype.start = function(cb = noop){\n  const self = this\n\n  // trigger start\n  self._ready.go()\n\n  // on new block, request block body and emit as events\n  self._blockTracker.on('latest', (blockNumber) => {\n    // get block body\n    self._getBlockByNumber(blockNumber, (err, block) => {\n      if (err) {\n        this.emit('error', err)\n        return\n      }\n      if (!block) {\n        return\n      }\n      const bufferBlock = toBufferBlock(block)\n      // set current + emit \"block\" event\n      self._setCurrentBlock(bufferBlock)\n      // emit other events\n      self.emit('rawBlock', block)\n      self.emit('latest', block)\n    })\n  })\n\n  // forward other events\n  self._blockTracker.on('sync', self.emit.bind(self, 'sync'))\n  self._blockTracker.on('error', self.emit.bind(self, 'error'))\n\n  // update state\n  self._running = true\n  // signal that we started\n  self.emit('start')\n}\n\nWeb3ProviderEngine.prototype.stop = function(){\n  const self = this\n  // stop block polling by removing event listeners\n  self._blockTracker.removeAllListeners()\n  // update state\n  self._running = false\n  // signal that we stopped\n  self.emit('stop')\n}\n\nWeb3ProviderEngine.prototype.isRunning = function(){\n  const self = this\n  return self._running\n}\n\nWeb3ProviderEngine.prototype.addProvider = function(source, index){\n  const self = this\n  if (typeof index === 'number') {\n    self._providers.splice(index, 0, source)\n  } else {\n    self._providers.push(source)\n  }\n  source.setEngine(this)\n}\n\nWeb3ProviderEngine.prototype.removeProvider = function(source){\n  const self = this\n  const index = self._providers.indexOf(source)\n  if (index < 0) throw new Error('Provider not found.')\n  self._providers.splice(index, 1)\n}\n\nWeb3ProviderEngine.prototype.send = function(payload){\n  throw new Error('Web3ProviderEngine does not support synchronous requests.')\n}\n\nWeb3ProviderEngine.prototype.sendAsync = function(payload, cb){\n  const self = this\n  self._ready.await(function(){\n\n    if (Array.isArray(payload)) {\n      // handle batch\n      map(payload, self._handleAsync.bind(self), cb)\n    } else {\n      // handle single\n      self._handleAsync(payload, cb)\n    }\n\n  })\n}\n\n// private\n\nWeb3ProviderEngine.prototype._getBlockByNumber = function(blockNumber, cb) {\n  const req = createPayload({ method: 'eth_getBlockByNumber', params: [blockNumber, false], skipCache: true })\n  this._handleAsync(req, (err, res) => {\n    if (err) return cb(err)\n    return cb(null, res.result)\n  })\n}\n\nWeb3ProviderEngine.prototype._handleAsync = function(payload, finished) {\n  var self = this\n  var currentProvider = -1\n  var result = null\n  var error = null\n\n  var stack = []\n\n  next()\n\n  function next(after) {\n    currentProvider += 1\n    stack.unshift(after)\n\n    // Bubbled down as far as we could go, and the request wasn't\n    // handled. Return an error.\n    if (currentProvider >= self._providers.length) {\n      end(new Error('Request for method \"' + payload.method + '\" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'))\n    } else {\n      try {\n        var provider = self._providers[currentProvider]\n        provider.handleRequest(payload, next, end)\n      } catch (e) {\n        end(e)\n      }\n    }\n  }\n\n  function end(_error, _result) {\n    error = _error\n    result = _result\n\n    eachSeries(stack, function(fn, callback) {\n\n      if (fn) {\n        fn(error, result, callback)\n      } else {\n        callback()\n      }\n    }, function() {\n\n      var resultObj = {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        result: result\n      }\n\n      if (error != null) {\n        resultObj.error = {\n          message: error.stack || error.message || error,\n          code: -32000\n        }\n        // respond with both error formats\n        finished(error, resultObj)\n      } else {\n        finished(null, resultObj)\n      }\n    })\n  }\n}\n\n//\n// from remote-data\n//\n\nWeb3ProviderEngine.prototype._setCurrentBlock = function(block){\n  const self = this\n  self.currentBlock = block\n  self.emit('block', block)\n}\n\n// util\n\nfunction toBufferBlock (jsonBlock) {\n  return {\n    number:           ethUtil.toBuffer(jsonBlock.number),\n    hash:             ethUtil.toBuffer(jsonBlock.hash),\n    parentHash:       ethUtil.toBuffer(jsonBlock.parentHash),\n    nonce:            ethUtil.toBuffer(jsonBlock.nonce),\n    mixHash:          ethUtil.toBuffer(jsonBlock.mixHash),\n    sha3Uncles:       ethUtil.toBuffer(jsonBlock.sha3Uncles),\n    logsBloom:        ethUtil.toBuffer(jsonBlock.logsBloom),\n    transactionsRoot: ethUtil.toBuffer(jsonBlock.transactionsRoot),\n    stateRoot:        ethUtil.toBuffer(jsonBlock.stateRoot),\n    receiptsRoot:     ethUtil.toBuffer(jsonBlock.receiptRoot || jsonBlock.receiptsRoot),\n    miner:            ethUtil.toBuffer(jsonBlock.miner),\n    difficulty:       ethUtil.toBuffer(jsonBlock.difficulty),\n    totalDifficulty:  ethUtil.toBuffer(jsonBlock.totalDifficulty),\n    size:             ethUtil.toBuffer(jsonBlock.size),\n    extraData:        ethUtil.toBuffer(jsonBlock.extraData),\n    gasLimit:         ethUtil.toBuffer(jsonBlock.gasLimit),\n    gasUsed:          ethUtil.toBuffer(jsonBlock.gasUsed),\n    timestamp:        ethUtil.toBuffer(jsonBlock.timestamp),\n    transactions:     jsonBlock.transactions,\n  }\n}\n","const createPayload = require('../util/create-payload.js')\n\nmodule.exports = SubProvider\n\n// this is the base class for a subprovider -- mostly helpers\n\n\nfunction SubProvider() {\n\n}\n\nSubProvider.prototype.setEngine = function(engine) {\n  const self = this\n  if (self.engine) return\n  self.engine = engine\n  engine.on('block', function(block) {\n    self.currentBlock = block\n  })\n\n  engine.on('start', function () {\n    self.start()\n  })\n\n  engine.on('stop', function () {\n    self.stop()\n  })\n}\n\nSubProvider.prototype.handleRequest = function(payload, next, end) {\n  throw new Error('Subproviders should override `handleRequest`.')\n}\n\nSubProvider.prototype.emitPayload = function(payload, cb){\n  const self = this\n  self.engine.sendAsync(createPayload(payload), cb)\n}\n\n// dummies for overriding\n\nSubProvider.prototype.stop = function () {}\n\nSubProvider.prototype.start = function () {}\n","const Subprovider = require('./subprovider.js')\n\n// wraps a json-rpc-engine middleware in a subprovider interface\n\nclass JsonRpcEngineMiddlewareSubprovider extends Subprovider {\n\n  // take a constructorFn to call once we have a reference to the engine\n  constructor (constructorFn) {\n    super()\n    if (!constructorFn) throw new Error('JsonRpcEngineMiddlewareSubprovider - no constructorFn specified')\n    this._constructorFn = constructorFn\n  }\n\n  // this is called once the subprovider has been added to the provider engine\n  setEngine (engine) {\n    if (this.middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice')\n    const blockTracker = engine._blockTracker\n    const middleware = this._constructorFn({ engine, provider: engine, blockTracker })\n    if (!middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware')\n    if (typeof middleware !== 'function') throw new Error('JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function')\n    this.middleware = middleware\n  }\n\n  handleRequest (req, provEngNext, provEngEnd) {\n    const res = { id: req.id }\n    this.middleware(req, res, middlewareNext, middlewareEnd)\n\n    function middlewareNext (handler) {\n      provEngNext((err, result, cb) => {\n        // update response object with result or error\n        if (err) {\n          delete res.result\n          res.error = { message: err.message || err }\n        } else {\n          res.result = result\n        }\n        // call middleware's next handler (even if error)\n        if (handler) {\n          handler(cb)\n        } else {\n          cb()\n        }\n      })\n    }\n\n    function middlewareEnd (err) {\n      if (err) return provEngEnd(err)\n      provEngEnd(null, res.result)\n    }\n  }\n\n}\n\nmodule.exports = JsonRpcEngineMiddlewareSubprovider\n","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload\n}\n\nfunction cacheIdentifierForPayload (payload, skipBlockRef) {\n  const simpleParams = skipBlockRef ? paramsWithoutBlockTag(payload) : payload.params\n  if (canCache(payload)) {\n    return payload.method + ':' + stringify(simpleParams)\n  } else {\n    return null\n  }\n}\n\nfunction canCache (payload) {\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload (payload) {\n  let index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null\n  }\n\n  return payload.params[index]\n}\n\nfunction paramsWithoutBlockTag (payload) {\n  const index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1)\n  }\n\n  return payload.params.slice(0, index)\n}\n\nfunction blockTagParamIndex (payload) {\n  switch (payload.method) {\n    // blockTag is at index 2\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is at index 1\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n      return 1\n    // blockTag is at index 0\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload (payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n    case 'test_permaCache':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n    case 'test_forkCache':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_blockNumber':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'test_blockCache':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n    case 'test_neverCache':\n      return 'never'\n  }\n}\n","const cacheUtils = require('./cache-utils.js')\nconst createAsyncMiddleware = require('json-rpc-engine/src/createAsyncMiddleware')\n// `<nil>` comes from https://github.com/ethereum/go-ethereum/issues/16925\nconst emptyValues = [undefined, null, '\\u003cnil\\u003e']\n\nmodule.exports = createBlockCacheMiddleware\n\n\nfunction createBlockCacheMiddleware(opts = {}) {\n  // validate options\n  const { blockTracker } = opts\n  if (!blockTracker) throw new Error('createBlockCacheMiddleware - No BlockTracker specified')\n\n  // create caching strategies\n  const blockCache = new BlockCacheStrategy()\n  const strategies = {\n    perma: blockCache,\n    block: blockCache,\n    fork: blockCache,\n  }\n\n  return createAsyncMiddleware(async (req, res, next) => {\n    // allow cach to be skipped if so specified\n    if (req.skipCache) {\n      return next()\n    }\n    // check type and matching strategy\n    const type = cacheUtils.cacheTypeForPayload(req)\n    const strategy = strategies[type]\n    // If there's no strategy in place, pass it down the chain.\n    if (!strategy) {\n      return next()\n    }\n    // If the strategy can't cache this request, ignore it.\n    if (!strategy.canCacheRequest(req)) {\n      return next()\n    }\n\n    // get block reference (number or keyword)\n    let blockTag = cacheUtils.blockTagForPayload(req)\n    if (!blockTag) blockTag = 'latest'\n\n    // get exact block number\n    let requestedBlockNumber\n    if (blockTag === 'earliest') {\n      // this just exists for symmetry with \"latest\"\n      requestedBlockNumber = '0x00'\n    } else if (blockTag === 'latest') {\n      // fetch latest block number\n      const latestBlockNumber = await blockTracker.getLatestBlock()\n      // clear all cache before latest block\n      blockCache.clearBefore(latestBlockNumber)\n      requestedBlockNumber = latestBlockNumber\n    } else {\n      // We have a hex number\n      requestedBlockNumber = blockTag\n    }\n\n    // end on a hit, continue on a miss\n    const cacheResult = await strategy.get(req, requestedBlockNumber)\n    if (cacheResult === undefined) {\n      // cache miss\n      // wait for other middleware to handle request\n      await next()\n      // add result to cache\n      await strategy.set(req, requestedBlockNumber, res.result)\n    } else {\n      // fill in result from cache\n      res.result = cacheResult\n    }\n  })\n}\n\n\n//\n// Cache Strategies\n//\n\nclass BlockCacheStrategy {\n  \n  constructor () {\n    this.cache = {}\n  }\n\n  getBlockCacheForPayload (payload, blockNumberHex) {\n    const blockNumber = Number.parseInt(blockNumberHex, 16)\n    let blockCache = this.cache[blockNumber]\n    // create new cache if necesary\n    if (!blockCache) {\n      const newCache = {}\n      this.cache[blockNumber] = newCache\n      blockCache = newCache\n    }\n    return blockCache\n  }\n\n  async get (payload, requestedBlockNumber) {\n    // lookup block cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    if (!blockCache) return\n    // lookup payload in block cache\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    const cached = blockCache[identifier]\n    // may be undefined\n    return cached\n  }\n\n  async set (payload, requestedBlockNumber, result) {\n    // check if we can cached this result\n    const canCache = this.canCacheResult(payload, result)\n    if (!canCache) return\n    // set the value in the cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    blockCache[identifier] = result\n  }\n\n  canCacheRequest (payload) {\n    // check request method\n    if (!cacheUtils.canCache(payload)) {\n      return false\n    }\n    // check blockTag\n    const blockTag = cacheUtils.blockTagForPayload(payload)\n    if (blockTag === 'pending') {\n      return false\n    }\n    // can be cached\n    return true\n  }\n\n  canCacheResult (payload, result) {\n    // never cache empty values (e.g. undefined)\n    if (emptyValues.includes(result)) return\n    // check if transactions have block reference before caching\n    if (['eth_getTransactionByHash', 'eth_getTransactionReceipt'].includes(payload.method)) {\n      if (!result || !result.blockHash || result.blockHash === '0x0000000000000000000000000000000000000000000000000000000000000000') {\n        return false\n      }\n    }\n    // otherwise true\n    return true\n  }\n\n  // removes all block caches with block number lower than `oldBlockHex`\n  clearBefore (oldBlockHex){\n    const self = this\n    const oldBlockNumber = Number.parseInt(oldBlockHex, 16)\n    // clear old caches\n    Object.keys(self.cache)\n      .map(Number)\n      .filter(num => num < oldBlockNumber)\n      .forEach(num => delete self.cache[num])\n  }\n\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createBlockCacheMiddleware = require('@portis/eth-json-rpc-middleware/block-cache')\n\nclass BlockCacheSubprovider extends ProviderSubprovider {\n  constructor(opts) {\n    super(({ blockTracker }) => createBlockCacheMiddleware(Object.assign({ blockTracker }, opts)))\n  }\n}\n\nmodule.exports = BlockCacheSubprovider\n","const inherits = require('util').inherits\nconst Subprovider = require('./subprovider.js')\n\nmodule.exports = FixtureProvider\n\ninherits(FixtureProvider, Subprovider)\n\nfunction FixtureProvider(staticResponses){\n  const self = this\n  staticResponses = staticResponses || {}\n  self.staticResponses = staticResponses\n}\n\nFixtureProvider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  var staticResponse = self.staticResponses[payload.method]\n  // async function\n  if ('function' === typeof staticResponse) {\n    staticResponse(payload, next, end)\n  // static response - null is valid response\n  } else if (staticResponse !== undefined) {\n    // return result asynchronously\n    setTimeout(() => end(null, staticResponse))\n  // no prepared response - skip\n  } else {\n    next()\n  }\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createFilterMiddleware = require('eth-json-rpc-filters')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      return createFilterMiddleware({ blockTracker, provider })\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","const createPayload = require('./create-payload.js')\n\nmodule.exports = estimateGas\n\n/*\n\nThis is a work around for https://github.com/ethereum/go-ethereum/issues/2577\n\n*/\n\n\nfunction estimateGas(provider, txParams, cb) {\n  provider.sendAsync(createPayload({\n    method: 'eth_estimateGas',\n    params: [txParams]\n  }), function(err, res){\n    if (err) {\n      // handle simple value transfer case\n      if (err.message === 'no contract code at given address') {\n        return cb(null, '0xcf08')\n      } else {\n        return cb(err)        \n      }\n    }\n    cb(null, res.result)\n  })\n}","/*\n * Emulate 'eth_accounts' / 'eth_sendTransaction' using 'eth_sendRawTransaction'\n *\n * The two callbacks a user needs to implement are:\n * - getAccounts() -- array of addresses supported\n * - signTransaction(tx) -- sign a raw transaction object\n */\n\nconst waterfall = require('async/waterfall')\nconst parallel = require('async/parallel')\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst sigUtil = require('eth-sig-util')\nconst extend = require('xtend')\nconst Semaphore = require('semaphore')\nconst Subprovider = require('./subprovider.js')\nconst estimateGas = require('../util/estimate-gas.js')\nconst hexRegex = /^[0-9A-Fa-f]+$/g\n\nmodule.exports = HookedWalletSubprovider\n\n// handles the following RPC methods:\n//   eth_coinbase\n//   eth_accounts\n//   eth_sendTransaction\n//   eth_sign\n//   eth_signTypedData\n//   personal_sign\n//   personal_ecRecover\n//   parity_postTransaction\n//   parity_checkRequest\n//   parity_defaultAccount\n\n//\n// Tx Signature Flow\n//\n// handleRequest: eth_sendTransaction\n//   validateTransaction (basic validity check)\n//     validateSender (checks that sender is in accounts)\n//   processTransaction (sign tx and submit to network)\n//     approveTransaction (UI approval hook)\n//     checkApproval\n//     finalizeAndSubmitTx (tx signing)\n//       nonceLock.take (bottle neck to ensure atomic nonce)\n//         fillInTxExtras (set fallback gasPrice, nonce, etc)\n//         signTransaction (perform the signature)\n//         publishTransaction (publish signed tx to network)\n//\n\n\ninherits(HookedWalletSubprovider, Subprovider)\n\nfunction HookedWalletSubprovider(opts){\n  const self = this\n  // control flow\n  self.nonceLock = Semaphore(1)\n\n  // data lookup\n  if (opts.getAccounts) self.getAccounts = opts.getAccounts\n  // high level override\n  if (opts.processTransaction) self.processTransaction = opts.processTransaction\n  if (opts.processMessage) self.processMessage = opts.processMessage\n  if (opts.processPersonalMessage) self.processPersonalMessage = opts.processPersonalMessage\n  if (opts.processTypedMessage) self.processTypedMessage = opts.processTypedMessage\n  if (opts.processTypedMessageV3) self.processTypedMessageV3 = opts.processTypedMessageV3\n  // approval hooks\n  self.approveTransaction = opts.approveTransaction || self.autoApprove\n  self.approveMessage = opts.approveMessage || self.autoApprove\n  self.approvePersonalMessage = opts.approvePersonalMessage || self.autoApprove\n  self.approveTypedMessage = opts.approveTypedMessage || self.autoApprove\n  self.approveTypedMessageV3 = opts.approveTypedMessageV3 || self.autoApprove\n  // actually perform the signature\n  if (opts.signTransaction) self.signTransaction = opts.signTransaction  || mustProvideInConstructor('signTransaction')\n  if (opts.signMessage) self.signMessage = opts.signMessage  || mustProvideInConstructor('signMessage')\n  if (opts.signPersonalMessage) self.signPersonalMessage = opts.signPersonalMessage  || mustProvideInConstructor('signPersonalMessage')\n  if (opts.signTypedMessage) self.signTypedMessage = opts.signTypedMessage  || mustProvideInConstructor('signTypedMessage')\n  if (opts.signTypedMessageV3) self.signTypedMessageV3 = opts.signTypedMessageV3  || mustProvideInConstructor('signTypedMessageV3')\n  if (opts.recoverPersonalSignature) self.recoverPersonalSignature = opts.recoverPersonalSignature\n  // publish to network\n  if (opts.publishTransaction) self.publishTransaction = opts.publishTransaction\n  // gas options\n  self.estimateGas = opts.estimateGas || self.estimateGas\n  self.getGasPrice = opts.getGasPrice || self.getGasPrice\n}\n\nHookedWalletSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  self._parityRequests = {}\n  self._parityRequestCount = 0\n\n  // switch statement is not block scoped\n  // sp we cant repeat var declarations\n  let txParams, msgParams, extraParams\n  let message, address\n\n  switch(payload.method) {\n\n    case 'eth_coinbase':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        let result = accounts[0] || null\n        end(null, result)\n      })\n      return\n\n    case 'eth_accounts':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        end(null, accounts)\n      })\n      return\n\n    case 'eth_sendTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processSignTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_sign':\n      // process normally\n      if (resemblesData(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n      // good place for metadata\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateMessage(msgParams, cb),\n        (cb) => self.processMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'personal_sign':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_personalSign method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validatePersonalMessage(msgParams, cb),\n          (cb) => self.processPersonalMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'personal_ecRecover':\n      return (function(){\n        message = payload.params[0]\n        let signature = payload.params[1]\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          sig: signature,\n          data: message,\n        })\n        self.recoverPersonalSignature(msgParams, end)\n      })()\n\n    case 'eth_signTypedData':\n      // process normally\n      if (!resemblesAddress(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateTypedMessage(msgParams, cb),\n        (cb) => self.processTypedMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTypedData_v3':\n      // process normally\n      if (!resemblesAddress(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateTypedMessageV3(msgParams, cb),\n        (cb) => self.processTypedMessageV3(msgParams, cb),\n      ], end)\n      return\n\n    case 'parity_postTransaction':\n      txParams = payload.params[0]\n      self.parityPostTransaction(txParams, end)\n      return\n\n    case 'parity_postSign':\n      address = payload.params[0]\n      message = payload.params[1]\n      self.parityPostSign(address, message, end)\n      return\n\n    case 'parity_checkRequest':\n      return (function(){\n        const requestId = payload.params[0]\n        self.parityCheckRequest(requestId, end)\n      })()\n\n    case 'parity_defaultAccount':\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        const account = accounts[0] || null\n        end(null, account)\n      })\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n\n//\n// data lookup\n//\n\nHookedWalletSubprovider.prototype.getAccounts = function(cb) {\n  cb(null, [])\n}\n\n\n//\n// \"process\" high level flow\n//\n\nHookedWalletSubprovider.prototype.processTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeAndSubmitTx(txParams, cb),\n  ], cb)\n}\n\n\nHookedWalletSubprovider.prototype.processSignTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeTx(txParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processPersonalMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approvePersonalMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signPersonalMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessageV3 = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessageV3(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessageV3(msgParams, cb),\n  ], cb)\n}\n\n//\n// approval\n//\n\nHookedWalletSubprovider.prototype.autoApprove = function(txParams, cb) {\n  cb(null, true)\n}\n\nHookedWalletSubprovider.prototype.checkApproval = function(type, didApprove, cb) {\n  cb( didApprove ? null : new Error('User denied '+type+' signature.') )\n}\n\n//\n// parity\n//\n\nHookedWalletSubprovider.prototype.parityPostTransaction = function(txParams, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sendTransaction',\n    params: [txParams],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const txHash = res.result\n    self._parityRequests[reqId] = txHash\n  })\n\n  cb(null, reqId)\n}\n\n\nHookedWalletSubprovider.prototype.parityPostSign = function(address, message, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sign',\n    params: [address, message],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const result = res.result\n    self._parityRequests[reqId] = result\n  })\n\n  cb(null, reqId)\n}\n\nHookedWalletSubprovider.prototype.parityCheckRequest = function(reqId, cb) {\n  const self = this\n  const result = self._parityRequests[reqId] || null\n  // tx not handled yet\n  if (!result) return cb(null, null)\n  // tx was rejected (or other error)\n  if (result.error) return cb(result.error)\n  // tx sent\n  cb(null, result)\n}\n\n//\n// signature and recovery\n//\n\nHookedWalletSubprovider.prototype.recoverPersonalSignature = function(msgParams, cb) {\n  let senderHex\n  try {\n    senderHex = sigUtil.recoverPersonalSignature(msgParams)\n  } catch (err) {\n    return cb(err)\n  }\n  cb(null, senderHex)\n}\n\n//\n// validation\n//\n\nHookedWalletSubprovider.prototype.validateTransaction = function(txParams, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (txParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign transaction.`))\n  self.validateSender(txParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign transaction for this address: \"${txParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign message.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validatePersonalMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign personal message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to sign personal message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessage = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessageV3 = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateSender = function(senderAddress, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (!senderAddress) return cb(null, false)\n  self.getAccounts(function(err, accounts){\n    if (err) return cb(err)\n    const senderIsValid = (accounts.map(toLowerCase).indexOf(senderAddress.toLowerCase()) !== -1)\n    cb(null, senderIsValid)\n  })\n}\n\n//\n// tx helpers\n//\n\nHookedWalletSubprovider.prototype.finalizeAndSubmitTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n      self.publishTransaction.bind(self),\n    ], function(err, txHash){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, txHash)\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.finalizeTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n    ], function(err, signedTx){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, {raw: signedTx, tx: txParams})\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.publishTransaction = function(rawTx, cb) {\n  const self = this\n  self.emitPayload({\n    method: 'eth_sendRawTransaction',\n    params: [rawTx],\n  }, function(err, res){\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.estimateGas = function(txParams, cb) {\n  const self = this\n  estimateGas(self.engine, txParams, cb)\n}\n\nHookedWalletSubprovider.prototype.getGasPrice = function(cb) {\n  const self = this\n  self.emitPayload({ method: 'eth_gasPrice', params: [] }, function (err, res) {\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.fillInTxExtras = function(txParams, cb){\n  const self = this\n  const address = txParams.from\n  // console.log('fillInTxExtras - address:', address)\n\n  const tasks = {}\n\n  if (txParams.gasPrice === undefined) {\n    // console.log(\"need to get gasprice\")\n    tasks.gasPrice = self.getGasPrice.bind(self)\n  }\n\n  if (txParams.nonce === undefined) {\n    // console.log(\"need to get nonce\")\n    tasks.nonce = self.emitPayload.bind(self, { method: 'eth_getTransactionCount', params: [address, 'pending'] })\n  }\n\n  if (txParams.gas === undefined) {\n    // console.log(\"need to get gas\")\n    tasks.gas = self.estimateGas.bind(self, cloneTxParams(txParams))\n  }\n\n  parallel(tasks, function(err, taskResults) {\n    if (err) return cb(err)\n\n    const result = {}\n    if (taskResults.gasPrice) result.gasPrice = taskResults.gasPrice\n    if (taskResults.nonce) result.nonce = taskResults.nonce.result\n    if (taskResults.gas) result.gas = taskResults.gas\n\n    cb(null, extend(txParams, result))\n  })\n}\n\n// util\n\n// we use this to clean any custom params from the txParams\nfunction cloneTxParams(txParams){\n  return {\n    from: txParams.from,\n    to: txParams.to,\n    value: txParams.value,\n    data: txParams.data,\n    gas: txParams.gas,\n    gasPrice: txParams.gasPrice,\n    nonce: txParams.nonce,\n  }\n}\n\nfunction toLowerCase(string){\n  return string.toLowerCase()\n}\n\nfunction resemblesAddress (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValid = ethUtil.isValidAddress(fixed)\n  return isValid\n}\n\n// Returns true if resembles hex data\n// but definitely not a valid address.\nfunction resemblesData (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValidAddress = ethUtil.isValidAddress(fixed)\n  return !isValidAddress && isValidHex(string)\n}\n\nfunction isValidHex(data) {\n  const isString = typeof data === 'string'\n  if (!isString) return false\n  const isHexPrefixed = data.slice(0,2) === '0x'\n  if (!isHexPrefixed) return false\n  const nonPrefixed = data.slice(2)\n  const isValid = nonPrefixed.match(hexRegex)\n  return isValid\n}\n\nfunction mustProvideInConstructor(methodName) {\n  return function(params, cb) {\n    cb(new Error('ProviderEngine - HookedWalletSubprovider - Must provide \"' + methodName + '\" fn in constructor options'))\n  }\n}\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ethUtil = require('ethereumjs-util');\nvar fees = require('ethereum-common/params.json');\nvar BN = ethUtil.BN;\n\n// secp256k1n/2\nvar N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n\n/**\n * Creates a new transaction object.\n *\n * @example\n * var rawTx = {\n *   nonce: '00',\n *   gasPrice: '09184e72a000',\n *   gasLimit: '2710',\n *   to: '0000000000000000000000000000000000000000',\n *   value: '00',\n *   data: '7f7465737432000000000000000000000000000000000000000000000000000000600057',\n *   v: '1c',\n *   r: '5e1d3a76fbf824220eafc8c79ad578ad2b67d01b0c2425eb1f1347e8f50882ab',\n *   s: '5bd428537f05f9830e93792f90ea6a3e2d1ee84952dd96edbae9f658f831ab13'\n * };\n * var tx = new Transaction(rawTx);\n *\n * @class\n * @param {Buffer | Array | Object} data a transaction can be initiailized with either a buffer containing the RLP serialized transaction or an array of buffers relating to each of the tx Properties, listed in order below in the exmple.\n *\n * Or lastly an Object containing the Properties of the transaction like in the Usage example.\n *\n * For Object and Arrays each of the elements can either be a Buffer, a hex-prefixed (0x) String , Number, or an object with a toBuffer method such as Bignum\n *\n * @property {Buffer} raw The raw rlp encoded transaction\n * @param {Buffer} data.nonce nonce number\n * @param {Buffer} data.gasLimit transaction gas limit\n * @param {Buffer} data.gasPrice transaction gas price\n * @param {Buffer} data.to to the to address\n * @param {Buffer} data.value the amount of ether sent\n * @param {Buffer} data.data this will contain the data of the message or the init of a contract\n * @param {Buffer} data.v EC signature parameter\n * @param {Buffer} data.r EC signature parameter\n * @param {Buffer} data.s EC recovery ID\n * @param {Number} data.chainId EIP 155 chainId - mainnet: 1, ropsten: 3\n * */\n\nvar Transaction = function () {\n  function Transaction(data) {\n    _classCallCheck(this, Transaction);\n\n    data = data || {};\n    // Define Properties\n    var fields = [{\n      name: 'nonce',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'gasPrice',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'gasLimit',\n      alias: 'gas',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'to',\n      allowZero: true,\n      length: 20,\n      default: new Buffer([])\n    }, {\n      name: 'value',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'data',\n      alias: 'input',\n      allowZero: true,\n      default: new Buffer([])\n    }, {\n      name: 'v',\n      allowZero: true,\n      default: new Buffer([0x1c])\n    }, {\n      name: 'r',\n      length: 32,\n      allowZero: true,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 's',\n      length: 32,\n      allowZero: true,\n      allowLess: true,\n      default: new Buffer([])\n    }];\n\n    /**\n     * Returns the rlp encoding of the transaction\n     * @method serialize\n     * @return {Buffer}\n     * @memberof Transaction\n     * @name serialize\n     */\n    // attached serialize\n    ethUtil.defineProperties(this, fields, data);\n\n    /**\n     * @property {Buffer} from (read only) sender address of this transaction, mathematically derived from other parameters.\n     * @name from\n     * @memberof Transaction\n     */\n    Object.defineProperty(this, 'from', {\n      enumerable: true,\n      configurable: true,\n      get: this.getSenderAddress.bind(this)\n    });\n\n    // calculate chainId from signature\n    var sigV = ethUtil.bufferToInt(this.v);\n    var chainId = Math.floor((sigV - 35) / 2);\n    if (chainId < 0) chainId = 0;\n\n    // set chainId\n    this._chainId = chainId || data.chainId || 0;\n    this._homestead = true;\n  }\n\n  /**\n   * If the tx's `to` is to the creation address\n   * @return {Boolean}\n   */\n\n\n  Transaction.prototype.toCreationAddress = function toCreationAddress() {\n    return this.to.toString('hex') === '';\n  };\n\n  /**\n   * Computes a sha3-256 hash of the serialized tx\n   * @param {Boolean} [includeSignature=true] whether or not to inculde the signature\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.hash = function hash(includeSignature) {\n    if (includeSignature === undefined) includeSignature = true;\n\n    // EIP155 spec:\n    // when computing the hash of a transaction for purposes of signing or recovering,\n    // instead of hashing only the first six elements (ie. nonce, gasprice, startgas, to, value, data),\n    // hash nine elements, with v replaced by CHAIN_ID, r = 0 and s = 0\n\n    var items = void 0;\n    if (includeSignature) {\n      items = this.raw;\n    } else {\n      if (this._chainId > 0) {\n        var raw = this.raw.slice();\n        this.v = this._chainId;\n        this.r = 0;\n        this.s = 0;\n        items = this.raw;\n        this.raw = raw;\n      } else {\n        items = this.raw.slice(0, 6);\n      }\n    }\n\n    // create hash\n    return ethUtil.rlphash(items);\n  };\n\n  /**\n   * returns the public key of the sender\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getChainId = function getChainId() {\n    return this._chainId;\n  };\n\n  /**\n   * returns the sender's address\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getSenderAddress = function getSenderAddress() {\n    if (this._from) {\n      return this._from;\n    }\n    var pubkey = this.getSenderPublicKey();\n    this._from = ethUtil.publicToAddress(pubkey);\n    return this._from;\n  };\n\n  /**\n   * returns the public key of the sender\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getSenderPublicKey = function getSenderPublicKey() {\n    if (!this._senderPubKey || !this._senderPubKey.length) {\n      if (!this.verifySignature()) throw new Error('Invalid Signature');\n    }\n    return this._senderPubKey;\n  };\n\n  /**\n   * Determines if the signature is valid\n   * @return {Boolean}\n   */\n\n\n  Transaction.prototype.verifySignature = function verifySignature() {\n    var msgHash = this.hash(false);\n    // All transaction signatures whose s-value is greater than secp256k1n/2 are considered invalid.\n    if (this._homestead && new BN(this.s).cmp(N_DIV_2) === 1) {\n      return false;\n    }\n\n    try {\n      var v = ethUtil.bufferToInt(this.v);\n      if (this._chainId > 0) {\n        v -= this._chainId * 2 + 8;\n      }\n      this._senderPubKey = ethUtil.ecrecover(msgHash, v, this.r, this.s);\n    } catch (e) {\n      return false;\n    }\n\n    return !!this._senderPubKey;\n  };\n\n  /**\n   * sign a transaction with a given a private key\n   * @param {Buffer} privateKey\n   */\n\n\n  Transaction.prototype.sign = function sign(privateKey) {\n    var msgHash = this.hash(false);\n    var sig = ethUtil.ecsign(msgHash, privateKey);\n    if (this._chainId > 0) {\n      sig.v += this._chainId * 2 + 8;\n    }\n    Object.assign(this, sig);\n  };\n\n  /**\n   * The amount of gas paid for the data in this tx\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getDataFee = function getDataFee() {\n    var data = this.raw[5];\n    var cost = new BN(0);\n    for (var i = 0; i < data.length; i++) {\n      data[i] === 0 ? cost.iaddn(fees.txDataZeroGas.v) : cost.iaddn(fees.txDataNonZeroGas.v);\n    }\n    return cost;\n  };\n\n  /**\n   * the minimum amount of gas the tx must have (DataFee + TxFee + Creation Fee)\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getBaseFee = function getBaseFee() {\n    var fee = this.getDataFee().iaddn(fees.txGas.v);\n    if (this._homestead && this.toCreationAddress()) {\n      fee.iaddn(fees.txCreation.v);\n    }\n    return fee;\n  };\n\n  /**\n   * the up front amount that an account must have for this transaction to be valid\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getUpfrontCost = function getUpfrontCost() {\n    return new BN(this.gasLimit).imul(new BN(this.gasPrice)).iadd(new BN(this.value));\n  };\n\n  /**\n   * validates the signature and checks to see if it has enough gas\n   * @param {Boolean} [stringError=false] whether to return a string with a dscription of why the validation failed or return a Bloolean\n   * @return {Boolean|String}\n   */\n\n\n  Transaction.prototype.validate = function validate(stringError) {\n    var errors = [];\n    if (!this.verifySignature()) {\n      errors.push('Invalid Signature');\n    }\n\n    if (this.getBaseFee().cmp(new BN(this.gasLimit)) > 0) {\n      errors.push(['gas limit is too low. Need at least ' + this.getBaseFee()]);\n    }\n\n    if (stringError === undefined || stringError === false) {\n      return errors.length === 0;\n    } else {\n      return errors.join(' ');\n    }\n  };\n\n  return Transaction;\n}();\n\nmodule.exports = Transaction;","const inherits = require('util').inherits\nconst Transaction = require('ethereumjs-tx')\nconst ethUtil = require('ethereumjs-util')\nconst Subprovider = require('./subprovider.js')\nconst blockTagForPayload = require('../util/rpc-cache-utils').blockTagForPayload\n\nmodule.exports = NonceTrackerSubprovider\n\n// handles the following RPC methods:\n//   eth_getTransactionCount (pending only)\n//\n// observes the following RPC methods:\n//   eth_sendRawTransaction\n//   evm_revert (to clear the nonce cache)\n\ninherits(NonceTrackerSubprovider, Subprovider)\n\nfunction NonceTrackerSubprovider(opts){\n  const self = this\n\n  self.nonceCache = {}\n}\n\nNonceTrackerSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n\n  switch(payload.method) {\n\n    case 'eth_getTransactionCount':\n      var blockTag = blockTagForPayload(payload)\n      var address = payload.params[0].toLowerCase()\n      var cachedResult = self.nonceCache[address]\n      // only handle requests against the 'pending' blockTag\n      if (blockTag === 'pending') {\n        // has a result\n        if (cachedResult) {\n          end(null, cachedResult)\n        // fallthrough then populate cache\n        } else {\n          next(function(err, result, cb){\n            if (err) return cb()\n            if (self.nonceCache[address] === undefined) {\n              self.nonceCache[address] = result\n            }\n            cb()\n          })\n        }\n      } else {\n        next()\n      }\n      return\n\n    case 'eth_sendRawTransaction':\n      // allow the request to continue normally\n      next(function(err, result, cb){\n        // only update local nonce if tx was submitted correctly\n        if (err) return cb()\n        // parse raw tx\n        var rawTx = payload.params[0]\n        var stripped = ethUtil.stripHexPrefix(rawTx)\n        var rawData = Buffer.from(ethUtil.stripHexPrefix(rawTx), 'hex')\n        var tx = new Transaction(Buffer.from(ethUtil.stripHexPrefix(rawTx), 'hex'))\n        // extract address\n        var address = '0x'+tx.getSenderAddress().toString('hex').toLowerCase()\n        // extract nonce and increment\n        var nonce = ethUtil.bufferToInt(tx.nonce)\n        nonce++\n        // hexify and normalize\n        var hexNonce = nonce.toString(16)\n        if (hexNonce.length%2) hexNonce = '0'+hexNonce\n        hexNonce = '0x'+hexNonce\n        // dont update our record on the nonce until the submit was successful\n        // update cache\n        self.nonceCache[address] = hexNonce\n        cb()\n      })\n      return\n\n   // Clear cache on a testrpc revert\n   case 'evm_revert':\n      self.nonceCache = {}\n      next()\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createSubscriptionManager = require('eth-json-rpc-filters/subscriptionManager')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      const { events, middleware } = createSubscriptionManager({ blockTracker, provider })\n      // forward subscription events on the engine\n      events.on('notification', (data) => engine.emit('data', null, data))\n      // return the subscription install/remove middleware\n      return middleware\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ERR_NOT_IN_IFRAME = exports.ERR_CONNECTION_TIMEOUT = exports.ERR_CONNECTION_DESTROYED = void 0;\nvar HANDSHAKE = 'handshake';\nvar HANDSHAKE_REPLY = 'handshake-reply';\nvar CALL = 'call';\nvar REPLY = 'reply';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar MESSAGE = 'message';\nvar DATA_CLONE_ERROR = 'DataCloneError';\nvar ERR_CONNECTION_DESTROYED = 'ConnectionDestroyed';\nexports.ERR_CONNECTION_DESTROYED = ERR_CONNECTION_DESTROYED;\nvar ERR_CONNECTION_TIMEOUT = 'ConnectionTimeout';\nexports.ERR_CONNECTION_TIMEOUT = ERR_CONNECTION_TIMEOUT;\nvar ERR_NOT_IN_IFRAME = 'NotInIframe';\nexports.ERR_NOT_IN_IFRAME = ERR_NOT_IN_IFRAME;\nvar DEFAULT_PORTS = {\n  'http:': '80',\n  'https:': '443'\n};\nvar URL_REGEX = /^(https?:)?\\/\\/([^/:]+)(:(\\d+))?/;\nvar Penpal = {\n  ERR_CONNECTION_DESTROYED: ERR_CONNECTION_DESTROYED,\n  ERR_CONNECTION_TIMEOUT: ERR_CONNECTION_TIMEOUT,\n  ERR_NOT_IN_IFRAME: ERR_NOT_IN_IFRAME,\n\n  /**\n   * Promise implementation.\n   * @type {Constructor}\n   */\n  Promise: function () {\n    try {\n      return window ? window.Promise : null;\n    } catch (e) {\n      return null;\n    }\n  }(),\n\n  /**\n   * Whether debug messages should be logged.\n   * @type {boolean}\n   */\n  debug: false\n};\n/**\n * @return {number} A unique ID (not universally unique)\n */\n\nvar generateId = function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n}();\n/**\n * Logs a message.\n * @param {...*} args One or more items to log\n */\n\n\nvar log = function log() {\n  if (Penpal.debug) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    (_console = console).log.apply(_console, ['[Penpal]'].concat(args)); // eslint-disable-line no-console\n\n  }\n};\n/**\n * Converts a URL into an origin.\n * @param {string} url\n * @return {string} The URL's origin\n */\n\n\nvar getOriginFromUrl = function getOriginFromUrl(url) {\n  var location = document.location;\n  var regexResult = URL_REGEX.exec(url);\n  var protocol;\n  var hostname;\n  var port;\n\n  if (regexResult) {\n    // It's an absolute URL. Use the parsed info.\n    // regexResult[1] will be undefined if the URL starts with //\n    protocol = regexResult[1] ? regexResult[1] : location.protocol;\n    hostname = regexResult[2];\n    port = regexResult[4];\n  } else {\n    // It's a relative path. Use the current location's info.\n    protocol = location.protocol;\n    hostname = location.hostname;\n    port = location.port;\n  } // If the port is the default for the protocol, we don't want to add it to the origin string\n  // or it won't match the message's event.origin.\n\n\n  var portSuffix = port && port !== DEFAULT_PORTS[protocol] ? \":\".concat(port) : '';\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(portSuffix);\n};\n/**\n * A simplified promise class only used internally for when destroy() is called. This is\n * used to destroy connections synchronously while promises typically resolve asynchronously.\n *\n * @param {Function} executor\n * @returns {Object}\n * @constructor\n */\n\n\nvar DestructionPromise = function DestructionPromise(executor) {\n  var handlers = [];\n  executor(function () {\n    handlers.forEach(function (handler) {\n      handler();\n    });\n  });\n  return {\n    then: function then(handler) {\n      handlers.push(handler);\n    }\n  };\n};\n/**\n * Converts an error object into a plain object.\n * @param {Error} Error object.\n * @returns {Object}\n */\n\n\nvar serializeError = function serializeError(_ref) {\n  var name = _ref.name,\n      message = _ref.message,\n      stack = _ref.stack;\n  return {\n    name: name,\n    message: message,\n    stack: stack\n  };\n};\n/**\n * Converts a plain object into an error object.\n * @param {Object} Object with error properties.\n * @returns {Error}\n */\n\n\nvar deserializeError = function deserializeError(obj) {\n  var deserializedError = new Error();\n  Object.keys(obj).forEach(function (key) {\n    return deserializedError[key] = obj[key];\n  });\n  return deserializedError;\n};\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodNames Names of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\n\n\nvar connectCallSender = function connectCallSender(callSender, info, methodNames, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call sender\"));\n\n  var createMethodProxy = function createMethodProxy(methodName) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      log(\"\".concat(localName, \": Sending \").concat(methodName, \"() call\"));\n\n      if (destroyed) {\n        var error = new Error(\"Unable to send \".concat(methodName, \"() call due \") + \"to destroyed connection\");\n        error.code = ERR_CONNECTION_DESTROYED;\n        throw error;\n      }\n\n      return new Penpal.Promise(function (resolve, reject) {\n        var id = generateId();\n\n        var handleMessageEvent = function handleMessageEvent(event) {\n          if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === REPLY && event.data.id === id) {\n            log(\"\".concat(localName, \": Received \").concat(methodName, \"() reply\"));\n            local.removeEventListener(MESSAGE, handleMessageEvent);\n            var returnValue = event.data.returnValue;\n\n            if (event.data.returnValueIsError) {\n              returnValue = deserializeError(returnValue);\n            }\n\n            (event.data.resolution === FULFILLED ? resolve : reject)(returnValue);\n          }\n        };\n\n        local.addEventListener(MESSAGE, handleMessageEvent);\n        remote.postMessage({\n          penpal: CALL,\n          id: id,\n          methodName: methodName,\n          args: args\n        }, remoteOrigin);\n      });\n    };\n  };\n\n  destructionPromise.then(function () {\n    destroyed = true;\n  });\n  methodNames.reduce(function (api, methodName) {\n    api[methodName] = createMethodProxy(methodName);\n    return api;\n  }, callSender);\n};\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n * @param {Object} info Information about the local and remote windows.\n * @param {Object} methods The keys are the names of the methods that can be called by the remote\n * while the values are the method functions.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Function} A function that may be called to disconnect the receiver.\n */\n\n\nvar connectCallReceiver = function connectCallReceiver(info, methods, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call receiver\"));\n\n  var handleMessageEvent = function handleMessageEvent(event) {\n    if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === CALL) {\n      var _event$data = event.data,\n          methodName = _event$data.methodName,\n          args = _event$data.args,\n          id = _event$data.id;\n      log(\"\".concat(localName, \": Received \").concat(methodName, \"() call\"));\n\n      if (methodName in methods) {\n        var createPromiseHandler = function createPromiseHandler(resolution) {\n          return function (returnValue) {\n            log(\"\".concat(localName, \": Sending \").concat(methodName, \"() reply\"));\n\n            if (destroyed) {\n              // It's possible to throw an error here, but it would need to be thrown asynchronously\n              // and would only be catchable using window.onerror. This is because the consumer\n              // is merely returning a value from their method and not calling any function\n              // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n              // the value of doing so is questionable. Instead, we'll just log a message.\n              log(\"\".concat(localName, \": Unable to send \").concat(methodName, \"() reply due to destroyed connection\"));\n              return;\n            }\n\n            var message = {\n              penpal: REPLY,\n              id: id,\n              resolution: resolution,\n              returnValue: returnValue\n            };\n\n            if (resolution === REJECTED && returnValue instanceof Error) {\n              message.returnValue = serializeError(returnValue);\n              message.returnValueIsError = true;\n            }\n\n            try {\n              remote.postMessage(message, remoteOrigin);\n            } catch (err) {\n              // If a consumer attempts to send an object that's not cloneable (e.g., window),\n              // we want to ensure the receiver's promise gets rejected.\n              if (err.name === DATA_CLONE_ERROR) {\n                remote.postMessage({\n                  penpal: REPLY,\n                  id: id,\n                  resolution: REJECTED,\n                  returnValue: serializeError(err),\n                  returnValueIsError: true\n                }, remoteOrigin);\n              }\n\n              throw err;\n            }\n          };\n        };\n\n        new Penpal.Promise(function (resolve) {\n          return resolve(methods[methodName].apply(methods, args));\n        }).then(createPromiseHandler(FULFILLED), createPromiseHandler(REJECTED));\n      }\n    }\n  };\n\n  local.addEventListener(MESSAGE, handleMessageEvent);\n  destructionPromise.then(function () {\n    destroyed = true;\n    local.removeEventListener(MESSAGE, handleMessageEvent);\n  });\n};\n/**\n * @typedef {Object} Child\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {HTMLIframeElement} iframe The created iframe element.\n * @property {Function} destroy A method that, when called, will remove the iframe element from\n * the DOM and clean up event listeners.\n */\n\n/**\n * Creates an iframe, loads a webpage into the URL, and attempts to establish communication with\n * the iframe.\n * @param {Object} options\n * @param {string} options.url The URL of the webpage that should be loaded into the created iframe.\n * @param {HTMLElement} [options.appendTo] The container to which the iframe should be appended.\n * @param {Object} [options.methods={}] Methods that may be called by the iframe.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the child to respond before rejecting the connection promise.\n * @return {Child}\n */\n\n\nPenpal.connectToChild = function (_ref2) {\n  var url = _ref2.url,\n      appendTo = _ref2.appendTo,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      timeout = _ref2.timeout;\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var parent = window;\n  var iframe = document.createElement('iframe');\n  (appendTo || document.body).appendChild(iframe);\n  connectionDestructionPromise.then(function () {\n    if (iframe.parentNode) {\n      iframe.parentNode.removeChild(iframe);\n    }\n  });\n  var child = iframe.contentWindow || iframe.contentDocument.parentWindow;\n  var childOrigin = getOriginFromUrl(url);\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to child timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    } // We resolve the promise with the call sender. If the child reconnects (for example, after\n    // refreshing or navigating to another page that uses Penpal, we'll update the call sender\n    // with methods that match the latest provided by the child.\n\n\n    var callSender = {};\n    var receiverMethodNames;\n    var destroyCallReceiver;\n\n    var handleMessage = function handleMessage(event) {\n      if (event.source === child && event.origin === childOrigin && event.data.penpal === HANDSHAKE) {\n        log('Parent: Received handshake, sending reply');\n        event.source.postMessage({\n          penpal: HANDSHAKE_REPLY,\n          methodNames: Object.keys(methods)\n        }, event.origin);\n        var info = {\n          localName: 'Parent',\n          local: parent,\n          remote: child,\n          remoteOrigin: event.origin\n        }; // If the child reconnected, we need to destroy the previous call receiver before setting\n        // up a new one.\n\n        if (destroyCallReceiver) {\n          destroyCallReceiver();\n        } // When this promise is resolved, it will destroy the call receiver (stop listening to\n        // method calls from the child) and delete its methods off the call sender.\n\n\n        var callReceiverDestructionPromise = new DestructionPromise(function (resolveCallReceiverDestructionPromise) {\n          connectionDestructionPromise.then(resolveCallReceiverDestructionPromise);\n          destroyCallReceiver = resolveCallReceiverDestructionPromise;\n        });\n        connectCallReceiver(info, methods, callReceiverDestructionPromise); // If the child reconnected, we need to remove the methods from the previous call receiver\n        // off the sender.\n\n        if (receiverMethodNames) {\n          receiverMethodNames.forEach(function (receiverMethodName) {\n            delete callSender[receiverMethodName];\n          });\n        }\n\n        receiverMethodNames = event.data.methodNames;\n        connectCallSender(callSender, info, receiverMethodNames, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    parent.addEventListener(MESSAGE, handleMessage);\n    connectionDestructionPromise.then(function () {\n      parent.removeEventListener(MESSAGE, handleMessage);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Parent: Loading iframe');\n    iframe.src = url;\n  });\n  return {\n    promise: promise,\n    iframe: iframe,\n    destroy: destroy\n  };\n};\n/**\n * @typedef {Object} Parent\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n */\n\n/**\n * Attempts to establish communication with the parent window.\n * @param {Object} options\n * @param {string} [options.parentOrigin=*] Valid parent origin used to restrict communication.\n * @param {Object} [options.methods={}] Methods that may be called by the parent window.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the parent to respond before rejecting the connection promise.\n * @return {Parent}\n */\n\n\nPenpal.connectToParent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$parentOrigin = _ref3.parentOrigin,\n      parentOrigin = _ref3$parentOrigin === void 0 ? '*' : _ref3$parentOrigin,\n      _ref3$methods = _ref3.methods,\n      methods = _ref3$methods === void 0 ? {} : _ref3$methods,\n      timeout = _ref3.timeout;\n\n  if (window === window.top) {\n    var error = new Error('connectToParent() must be called within an iframe');\n    error.code = ERR_NOT_IN_IFRAME;\n    throw error;\n  }\n\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var child = window;\n  var parent = child.parent;\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to parent timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    var handleMessageEvent = function handleMessageEvent(event) {\n      if ((parentOrigin === '*' || parentOrigin === event.origin) && event.source === parent && event.data.penpal === HANDSHAKE_REPLY) {\n        log('Child: Received handshake reply');\n        child.removeEventListener(MESSAGE, handleMessageEvent);\n        var info = {\n          localName: 'Child',\n          local: child,\n          remote: parent,\n          remoteOrigin: event.origin\n        };\n        var callSender = {};\n        connectCallReceiver(info, methods, connectionDestructionPromise);\n        connectCallSender(callSender, info, event.data.methodNames, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    child.addEventListener(MESSAGE, handleMessageEvent);\n    connectionDestructionPromise.then(function () {\n      child.removeEventListener(MESSAGE, handleMessageEvent);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Child: Sending handshake');\n    parent.postMessage({\n      penpal: HANDSHAKE,\n      methodNames: Object.keys(methods)\n    }, parentOrigin);\n  });\n  return {\n    promise: promise,\n    destroy: destroy\n  };\n};\n\nvar _default = Penpal;\nexports.default = _default;","export function networkAdapter(network, gasRelay) {\n    var networkObj = typeof network === 'string' ? Object.assign({}, networks[network]) : network;\n    if (typeof networkObj !== 'object') {\n        throw new Error(\"[Portis] illegal 'network' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n    }\n    if (!networkObj.nodeUrl) {\n        throw new Error(\"[Portis] 'nodeUrl' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n    }\n    if (gasRelay && !networkObj.gasRelayHubAddress) {\n        throw new Error(\"[Portis] can't find default gas relay hub for \" + network);\n    }\n    if (typeof network === 'string' && !gasRelay) {\n        delete networkObj.gasRelayHubAddress;\n    }\n    return networkObj;\n}\nvar networks = {\n    mainnet: {\n        nodeUrl: 'https://mainnet.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '1',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    ropsten: {\n        nodeUrl: 'https://ropsten.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '3',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    rinkeby: {\n        nodeUrl: 'https://rinkeby.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '4',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    goerli: {\n        nodeUrl: 'https://goerli.prylabs.net',\n        chainId: '5',\n    },\n    ubiq: {\n        nodeUrl: 'https://rpc1.ubiqscan.io',\n        chainId: '8',\n    },\n    thundercoreTestnet: {\n        nodeUrl: 'https://testnet-rpc.thundercore.com:8544',\n        chainId: '18',\n    },\n    orchid: {\n        nodeUrl: 'https://public-node.rsk.co',\n        chainId: '30',\n    },\n    orchidTestnet: {\n        nodeUrl: 'https://public-node.testnet.rsk.co',\n        chainId: '31',\n    },\n    kovan: {\n        nodeUrl: 'https://kovan.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '42',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    classic: {\n        nodeUrl: 'https://ethereumclassic.network',\n        chainId: '61',\n    },\n    sokol: {\n        nodeUrl: 'https://sokol.poa.network',\n        chainId: '77',\n    },\n    core: {\n        nodeUrl: 'https://core.poa.network',\n        chainId: '99',\n    },\n    xdai: {\n        nodeUrl: 'https://dai.poa.network',\n        chainId: '100',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    thundercore: {\n        nodeUrl: 'https://mainnet-rpc.thundercore.com',\n        chainId: '108',\n    },\n    fuse: {\n        nodeUrl: 'https://rpc.fusenet.io',\n        chainId: '122',\n    },\n    lightstreams: {\n        nodeUrl: 'https://node.mainnet.lightstreams.io',\n        chainId: '163',\n    },\n    maticAlpha: {\n        nodeUrl: 'https://alpha.ethereum.matic.network',\n        chainId: '4626',\n    },\n    maticTestnet: {\n        nodeUrl: 'https://testnet2.matic.network',\n        chainId: '8995',\n    },\n};\n//# sourceMappingURL=networks.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _a = require('ethereumjs-util'), addHexPrefix = _a.addHexPrefix, stripHexPrefix = _a.stripHexPrefix, BN = _a.BN;\nvar SIMPLE_GAS_COST = '0x5208'; // Hex for 21000, cost of a simple send.\nexport function getTxGas(query, txParams) {\n    return __awaiter(this, void 0, void 0, function () {\n        var block, _a, safeGas, simpleSend, gasLimitSpecified, gas, error_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4 /*yield*/, query.getBlockByNumber('latest', false)];\n                case 1:\n                    block = _b.sent();\n                    return [4 /*yield*/, safeTxGas(query, txParams, block.gasLimit)];\n                case 2:\n                    _a = _b.sent(), safeGas = _a.safeGas, simpleSend = _a.simpleSend, gasLimitSpecified = _a.gasLimitSpecified;\n                    if (simpleSend || gasLimitSpecified) {\n                        return [2 /*return*/, safeGas];\n                    }\n                    _b.label = 3;\n                case 3:\n                    _b.trys.push([3, 5, , 6]);\n                    return [4 /*yield*/, estimateTxGas(query, txParams, block.gasLimit, safeGas)];\n                case 4:\n                    gas = _b.sent();\n                    return [2 /*return*/, gas];\n                case 5:\n                    error_1 = _b.sent();\n                    return [2 /*return*/, safeGas];\n                case 6: return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction safeTxGas(query, txParams, blockGasLimitHex) {\n    return __awaiter(this, void 0, void 0, function () {\n        var gasLimitSpecified, recipient, hasRecipient, code, codeIsEmpty, err, blockGasLimitBN, saferGasLimitBN;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    gasLimitSpecified = Boolean(txParams.gas);\n                    // if it is, use that value\n                    if (gasLimitSpecified) {\n                        return [2 /*return*/, { safeGas: txParams.gas, simpleSend: false, gasLimitSpecified: true }];\n                    }\n                    recipient = txParams.to;\n                    hasRecipient = Boolean(recipient);\n                    if (!hasRecipient) return [3 /*break*/, 2];\n                    return [4 /*yield*/, query.getCode(recipient)];\n                case 1:\n                    code = _a.sent();\n                    codeIsEmpty = !code || code === '0x' || code === '0x0';\n                    if (codeIsEmpty) {\n                        // if there's data in the params, but there's no contract code, it's not a valid transaction\n                        if (txParams.data) {\n                            err = new Error('Trying to call a function on a non-contract address');\n                            throw err;\n                        }\n                        // This is a standard ether simple send, gas requirement is exactly 21k\n                        return [2 /*return*/, { safeGas: SIMPLE_GAS_COST, simpleSend: true, gasLimitSpecified: false }];\n                    }\n                    _a.label = 2;\n                case 2:\n                    blockGasLimitBN = hexToBn(blockGasLimitHex);\n                    saferGasLimitBN = BnMultiplyByFraction(blockGasLimitBN, 19, 20);\n                    return [2 /*return*/, { safeGas: bnToHex(saferGasLimitBN), simpleSend: false, gasLimitSpecified: false }];\n            }\n        });\n    });\n}\nfunction estimateTxGas(query, txParams, blockGasLimitHex, safeGas) {\n    return __awaiter(this, void 0, void 0, function () {\n        var estimatedGas, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    txParams.gas = safeGas;\n                    _a = addHexPrefix;\n                    return [4 /*yield*/, query.estimateGas(txParams)];\n                case 1:\n                    estimatedGas = _a.apply(void 0, [_b.sent()]);\n                    return [2 /*return*/, addGasBuffer(estimatedGas, blockGasLimitHex)];\n            }\n        });\n    });\n}\nfunction addGasBuffer(initialGasLimitHex, blockGasLimitHex) {\n    var initialGasLimitBn = hexToBn(initialGasLimitHex);\n    var blockGasLimitBn = hexToBn(blockGasLimitHex);\n    var upperGasLimitBn = blockGasLimitBn.muln(0.9);\n    var bufferedGasLimitBn = initialGasLimitBn.muln(1.5);\n    // if initialGasLimit is above blockGasLimit, dont modify it\n    if (initialGasLimitBn.gt(upperGasLimitBn))\n        return bnToHex(initialGasLimitBn);\n    // if bufferedGasLimit is below blockGasLimit, use bufferedGasLimit\n    if (bufferedGasLimitBn.lt(upperGasLimitBn))\n        return bnToHex(bufferedGasLimitBn);\n    // otherwise use blockGasLimit\n    return bnToHex(upperGasLimitBn);\n}\nfunction hexToBn(inputHex) {\n    return new BN(stripHexPrefix(inputHex), 16);\n}\nfunction bnToHex(inputBn) {\n    return addHexPrefix(inputBn.toString(16));\n}\nfunction BnMultiplyByFraction(targetBN, numerator, denominator) {\n    var numBN = new BN(numerator);\n    var denomBN = new BN(denominator);\n    return targetBN.mul(numBN).div(denomBN);\n}\n//# sourceMappingURL=getTxGas.js.map","var Query = /** @class */ (function () {\n    function Query(provider) {\n        this.provider = provider;\n    }\n    Query.prototype.getBlockByNumber = function (blockNumber, fullTransaction) {\n        return this.sendAsync('eth_getBlockByNumber', blockNumber, fullTransaction);\n    };\n    Query.prototype.getCode = function (address, blockNumber) {\n        if (blockNumber === void 0) { blockNumber = 'latest'; }\n        return this.sendAsync('eth_getCode', address, blockNumber);\n    };\n    Query.prototype.estimateGas = function (txParams) {\n        return this.sendAsync('eth_estimateGas', txParams);\n    };\n    Query.prototype.sendAsync = function (methodName) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return new Promise(function (resolve, reject) {\n            _this.provider.sendAsync({\n                id: 42,\n                jsonrpc: '2.0',\n                method: methodName,\n                params: args,\n            }, function (error, response) {\n                if (error) {\n                    reject(error);\n                }\n                else {\n                    resolve(response.result);\n                }\n            });\n        });\n    };\n    return Query;\n}());\nexport { Query };\n//# sourceMappingURL=query.js.map","var loaded = false;\nexport function onWindowLoad() {\n    return new Promise(function (resolve) {\n        if (loaded) {\n            resolve();\n        }\n        else if (['loaded', 'interactive', 'complete'].indexOf(document.readyState) > -1) {\n            loaded = true;\n            resolve();\n        }\n        else {\n            window.addEventListener('load', function () {\n                loaded = true;\n                resolve();\n            }, false);\n        }\n    });\n}\n//# sourceMappingURL=onWindowLoad.js.map","/**\n *\n *\n * @class Blockchain\n */\nclass Blockchain {\n  /**\n   * Creates an instance of Blockchain.\n   * @param {String} name - Blockchain's name.\n   * @param {String} netID - Network identifier.\n   * @memberof Blockchain\n   */\n  constructor(name, netID) {\n    this.name = name;\n    this.netID = netID;\n  }\n  /**\n   *\n   * toJSON\n   * @returns {JSON} - A JSON object.\n   * @memberof Blockchain\n   */\n  toJSON() {\n    return JSON.parse('{ \"name\":\"' + \n    this.name + '\", \"netID\":\"' + \n    this.netID + '\"}')\n  }\n}\n\nmodule.exports = {\n  Blockchain\n}","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","module.exports = require('./lib/axios');","// Url's and Paths    \nconst dispatchNodeURL = \"https://dispatch.pokt.network\";\nconst dispatchPath = \"/v1/dispatch\";\nconst reportPath = \"/v1/report\";\nconst relayPath = \"/v1/relay/\";\n\n\nmodule.exports = {\n    dispatchNodeURL,\n    dispatchPath,\n    reportPath,\n    relayPath\n}","const axios = require('axios');\nconst constants = require(\"../utils/constants.js\");\nconst httpsRequestProtocol = \"https://\";\nconst httpRequestProtocol = \"http://\";\n// Dispatch\n/**\n *\n *\n * @class Node\n */\nclass Node {\n    /**\n     * Creates an instance of Node.\n     * @param {String} network - Network name.\n     * @param {String} netID - Network Identifier.\n     * @param {String} ipPort - Ip and port string (\"10.0.0.1:80\")\n     * @memberof Node\n     */\n    constructor(network, netID, ipPort) {\n        this.network = network;\n        this.netID = netID;\n        var ipPortArr = ipPort.split(\":\");\n        this.ip = ipPortArr[0];\n        this.port = ipPortArr[1];\n        if (ipPort.includes(httpsRequestProtocol) || ipPort.includes(httpRequestProtocol)) {\n            this.ipPort = ipPort;\n        } else {\n            if (this.port === \"443\" || this.port === 443) {\n                this.ipPort = httpsRequestProtocol + ipPort;\n            } else {\n                this.ipPort = httpRequestProtocol + ipPort;\n            }\n        }\n    }\n\n    /**\n     *\n     * Verify if all properties are valid\n     * @returns {boolean} - True or false.\n     * @memberof Node\n     */\n    isValid() {\n        for (var property in this) {\n            if (!this.hasOwnProperty(property) || this[property] == \"\") {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     *\n     * Checks if params are equal to stored properties\n     * @param {String} netID - Network Identifier.\n     * @param {String} network - Network name.\n     * @returns {boolean} - True or false.\n     * @memberof Node\n     */\n    isEqual(netID, network) {\n        if (this.netID == netID.toString() && this.network == network.toString()) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     *\n     * Sends a relay to a service node\n     * @param {Relay} relay - Relay object with the information.\n     * @param {callback} callback - callback handler.\n     * @returns {Object} - Object with the response.\n     * @memberof Node\n     */\n    async sendRelay(relay, callback) {\n        try {\n            const axiosInstance = axios.create({\n                baseURL: this.ipPort,\n                timeout: relay.configuration.requestTimeOut,\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            var response = await axiosInstance.post(constants.relayPath,\n                relay.toJSON()\n            );\n\n            if (response.status == 200 && response.data != null) {\n                var result = response.data;\n\n                if (callback) {\n                    callback(result, null);\n                    return;\n                } else {\n                    return result;\n                }\n            } else {\n                if (callback) {\n                    callback(null, new Error(\"Failed to send relay with error: \" + response.data));\n                    return;\n                } else {\n                    return new Error(\"Failed to send relay with error: \" + response.data);\n                }\n            }\n        } catch (error) {\n            if (callback) {\n                callback(null, new Error(\"Failed to send relay with error: \" + error));\n                return;\n            } else {\n                return new Error(\"Failed to send relay with error: \" + error);\n            }\n        }\n    }\n}\n\nmodule.exports = {\n    Node\n}","const axios = require('axios');\nconst Node = require(\"./node.js\").Node;\nconst constants = require(\"../utils/constants.js\");\n\n// Dispatch\n/**\n *\n *\n * @class Dispatch\n */\nclass Dispatch {\n  /**\n   *Creates an instance of Dispatch.\n   * @param {Configuration} configuration - Configuration object.\n   * @memberof Dispatch\n   */\n  constructor(configuration) {\n    this.configuration = configuration;\n    this.axiosInstance = axios.create({\n      baseURL: constants.dispatchNodeURL,\n      path: constants.dispatchPath,\n      timeout: this.configuration.requestTimeOut,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n  /**\n   *\n   * blockchain object to JSON\n   * @returns {JSON} - JSON Array with the blockchain list.\n   * @memberof Dispatch\n   */\n  blockchainsJSON() {\n    var blockchainArray = []\n    this.configuration.blockchains.forEach(element => {\n      blockchainArray.push(element);\n    });\n    return blockchainArray\n  }\n  /**\n   *\n   * Retrieves a list of service nodes\n   * @param {callback} callback\n   * @returns {Node} - A Node object list.\n   * @memberof Dispatch\n   */\n  async retrieveServiceNodes(callback) {\n    try {\n      var dispatch = this;\n      var response = null;\n\n      response = await this.axiosInstance.post(constants.dispatchPath, {\n        \"DevID\": dispatch.configuration.devID,\n        \"Blockchains\": dispatch.blockchainsJSON()\n      });\n\n      if (response != null && response.status == 200 && response.data != null) {\n        var nodes = this.parseDispatchResponse(response.data);\n\n        if (callback) {\n          callback(nodes, null);\n          return;\n        } else {\n          return nodes;\n        }\n      } else {\n        if (callback) {\n          callback(null, new Error(\"Failed to retrieve service nodes with error: \" + response.data));\n          return;\n        } else {\n          return new Error(\"Failed to retrieve service nodes with error: \" + response.data);\n        }\n      }\n    } catch (err) {\n      if (callback) {\n        callback(null, new Error(\"Failed to retrieve service nodes with error: \" + err));\n        return;\n      } else {\n        return new Error(\"Failed to retrieve service nodes with error: \" + err);\n      }\n    }\n  }\n\n  /**\n   *\n   * Parse the response from the dispatcher\n   * @param {Object} response\n   * @returns {Node} - A Node object list.\n   * @memberof Dispatch\n   */\n  parseDispatchResponse(response) {\n    try {\n      // Variables\n      var nodes = [];\n\n      if (Array.isArray(response)) {\n        // Iterate through the array for different networks results\n        response.forEach(element => {\n          \n          var network = element.name;\n          var netID = element.netid;\n\n          if (element.ips) {\n            // Create a Node object for each item inside the dataKey object, IP:PORT\n            element.ips.forEach(ipPort => {\n              var node = new Node(network, netID, ipPort);\n              nodes.push(node);\n            });\n          }\n        });\n      } else {\n\n        var network = response.name;\n        var netID = response.netid;\n\n        if (response.ips) {\n          // Create a Node object for each item inside the dataKey object, IP:PORT\n          response.ips.forEach(ipPort => {\n            var node = new Node(network, netID, ipPort);\n            nodes.push(node);\n          });\n        }\n\n      }\n      return nodes;\n\n    } catch (error) {\n      return new Error(\"Failed to parsed service nodes with error: \" + error);\n    }\n\n  }\n\n}\n\nmodule.exports = {\n  Dispatch\n}","// Relay\n/**\n *\n *\n * @class Relay\n */\nclass Relay {\n\t/**\n\t * Creates an instance of Relay.\n\t * @param {Blockchain} blockchain - A blockchain object.\n\t * @param {String} netID - Network identifier.\n\t * @param {String} data - Data string.\n\t * @param {Configuration} configuration - Configuration object.\n\t * @memberof Relay\n\t */\n\tconstructor(blockchain, netID, data, configuration) {\n\t\tthis.blockchain = blockchain;\n\t\tthis.netID = netID;\n\t\tthis.data = data;\n\t\tthis.configuration = configuration;\n\t}\n\n\t/**\n\t *\n\t * Parse properties to a JSON Object.\n\t * @returns {JSON} - A JSON Object.\n\t * @memberof Relay\n\t */\n\ttoJSON(){\n\t\treturn {\n\t\t\t\"Blockchain\": this.blockchain,\n\t\t\t\"NetID\": this.netID,\n\t\t\t\"Data\": this.data,\n\t\t\t\"DevID\": this.configuration.devID\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * Verifies if the Relay is valid\n\t * @returns {boolean} - True or false\n\t * @memberof Relay\n\t */\n\tisValid(){\n\t\tfor (var property in this) {\n\t\t\tif (!this.hasOwnProperty(property) || this[property] == \"\") {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n\nmodule.exports = {\n\tRelay\n}","const axios = require('axios');\nconst constants = require(\"../utils/constants.js\");\n\n// Report\n/**\n *\n *\n * @class Report\n */\nclass Report {\n\t/**\n   * Creates an instance of Report.\n   * @param {String} ip - Internet protocol address of the node.\n   * @param {String} message - Message describing the report.\n   * @param {Configuration} configuration - Configuration object.\n   * @memberof Report\n   */\n  constructor(ip, message, configuration) {\n\t\tthis.ip = ip;\n        this.message = message;\n        this.configuration = configuration;\n    }\n    /**\n     *\n\t   * Parse properties to a JSON Object.\n\t   * @returns {JSON} - A JSON Object.\n     * @memberof Report\n     */\n    toJSON(){\n      return {\n        \"IP\": this.ip,\n        \"Message\": this.message\n      }\n    }\n    /**\n     *\n\t   * Verifies if the Report is valid\n\t   * @returns {boolean} - True or false\n     * @memberof Report\n     */\n    isValid(){\n      for (var property in this) {\n        if (!this.hasOwnProperty(property) || this[property] == \"\") {\n          return false;\n        }\n      }\n      return true;\n    }\n    /**\n     *\n     * Sends a report to the dispatcher.\n     * @param {callback} callback\n     * @returns {String} - An string with the result.\n     * @memberof Report\n     */\n    async send(callback){\n        const axiosInstance = axios.create({\n            baseURL: constants.dispatchNodeURL,\n            timeout: this.configuration.requestTimeOut,\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n    \n          var response = await axiosInstance.post(constants.reportPath,\n            this.toJSON()\n          );\n    \n          if (response.status == 200 && response.data != null) {\n            if (callback) {\n              callback(null, response.data);\n              return;\n            }\n            return response.data;\n          } else {\n            if (callback) {\n              callback(new Error(\"Failed to send report with error: \" + response.data));\n              return;\n            }\n            return new Error(\"Failed to send report with error: \" + response.data);\n          }\n    }\n}\n\nmodule.exports = {\n\tReport\n}","// Wallet - Model\nclass Wallet {\n\t/**\n\t * Creates an instance of Wallet.\n\t * @param {String} address - Public Key string.\n\t * @param {String} privateKey - Private Key string.\n\t * @param {String} network - Network name.\n\t * @param {String} networkID - Network Identifier.\n\t * @param {Object} data - Optional data object.\n\t * @memberof Wallet\n\t */\n\tconstructor(address, privateKey, network, networkID, data) {\n\t\tthis.address = address;\n\t\tthis.privateKey = privateKey;\n\t\tthis.network = network;\n\t\tthis.networkID = networkID;\n\t\tthis.data = data;\n\t}\n}\n\nmodule.exports = {\n\tWallet\n}","module.exports = Object.assign(\n        module.exports, \n        require('./blockchain'), \n        require('./dispatch'), \n        require('./node'), \n        require('./relay'),\n        require('./report'),\n        require('./wallet')\n    )","const Models = require(\"./models/index\");\nconst Blockchain = Models.Blockchain;\nconst Dispatch = Models.Dispatch;\nconst Relay = Models.Relay;\nconst Report = Models.Report;\n\n/**\n *\n *\n * @class Configuration\n */\nclass Configuration {\n  /**\n   * Configuration stores settings.\n   * @constructor\n   * @param {string} devID - Unique developer ID.\n   * @param {string} blockchains - Blockchain class type list.\n   * @param {string} maxNodes - (optional) Maximun amount of nodes to store in instance, default 5.\n   * @param {string} requestTimeOut - (optional) Maximun timeout for every request in miliseconds, default 10000.\n   */\n  constructor(devID, blockchains, maxNodes, requestTimeOut) {\n    this.devID = devID;\n    this.blockchains = blockchains;\n    this.maxNodes = maxNodes || 5;\n    this.nodes = [];\n    this.requestTimeOut = requestTimeOut || 10000;\n    this.dispatch = null;\n  }\n  /**\n   * Verify if the nodes list is empty\n   *\n   * @returns {Boolean}\n   * @memberof Configuration\n   */\n  nodesIsEmpty() {\n    if (this.nodes == null || this.nodes.length == 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n/**\n *\n *\n * @class Pocket\n */\nclass Pocket {\n  /**\n   * Creates an instance of Pocket.\n   * @param {Object} opts - Options for the initializer, devID, networkName, netIDs, maxNodes, requestTimeOut.\n   * @memberof Pocket\n   */\n  constructor(opts) {\n    var blockchains = [];\n\n    if (opts.devID == null || opts.networkName == null || opts.netIDs == null) {\n      return new Error(\"Invalid number of arguments\");\n    }\n\n    if (Array.isArray(opts.netIDs)) {\n      opts.netIDs.forEach(element => {\n        var blockchain = new Blockchain(opts.networkName, element);\n        blockchains.push(blockchain.toJSON());\n      });\n    } else {\n      var blockchain = new Blockchain(opts.networkName, opts.netIDs);\n      blockchains.push(blockchain.toJSON());\n    }\n\n    this.configuration = new Configuration(opts.devID, blockchains, opts.maxNodes || 5, opts.requestTimeOut || 10000);\n\n  }\n  /**\n   *\n   * Create a Relay instance\n   * @param {Blockchain} blockchain - Blockchain object.\n   * @param {String} netID - Network Idenfifier.\n   * @param {String} data - String holding the json rpc call.\n   * @returns {Relay} - New Relay instance.\n   * @memberof Pocket\n   */\n  createRelay(blockchain, netID, data) {\n    // Check if data is a json tring\n    if (typeof data == 'string') {\n      return new Relay(blockchain, netID, data, this.configuration); \n    }\n    return new Relay(blockchain, netID, JSON.stringify(data), this.configuration);\n  }\n  /**\n   *\n   * Create a Report instance\n   * @param {String} ip - Internet protocol address.\n   * @param {String} message - Brief description for the report.\n   * @returns {Report} - New Report instance.\n   * @memberof Pocket\n   */\n  createReport(ip, message) {\n    return new Report(ip, message, this.configuration);\n  }\n  /**\n   *\n   * Get a Dispatch instance or creates one\n   * @returns {Dispatch} - New or existing Dispatch instance.\n   * @memberof Pocket\n   */\n  getDispatch() {\n    if (this.dispatch == null) {\n      this.dispatch = new Dispatch(this.configuration);\n    }\n    return this.dispatch;\n  }\n  /**\n   *\n   * Filter nodes by netID and blockchain name\n   * @param {String} netID - Network Idenfifier.\n   * @param {String} network - Network Name.\n   * @returns {Node} - New Node instance.\n   * @memberof Pocket\n   */\n  async getNode(netID, network) {\n    try {\n      var nodes = [];\n\n      if (this.configuration.nodesIsEmpty()) {\n        var response = await this.retrieveNodes();\n\n        if (response instanceof Error == true) {\n          throw response;\n        }else {\n          // Save the nodes to the configuration.\n          this.configuration.nodes = response;\n        }\n      }\n      \n      this.configuration.nodes.forEach(node => {\n        if (node.isEqual(netID, network)) {\n          nodes.push(node);\n        }\n      });\n\n      if (nodes.length <= 0) {\n        return null\n      }\n\n      return nodes[Math.floor(Math.random() * nodes.length)];\n    } catch (error) {\n      return null;\n    }\n  }\n  /**\n   *\n   * Send a report\n   * @param {Report} report - Report instance with the information.\n   * @param {callback} callback - callback handler.\n   * @returns {String} - A String with the response.\n   * @memberof Pocket\n   */\n  async sendReport(report, callback) {\n    try {\n      // Check for report\n      if (report == null) {\n        throw new Error(\"Report is null\");\n      }\n      // Verify all report properties are set\n      if (!report.isValid()) {\n        throw new Error(\"One or more Report properties are empty.\");\n      }\n      // Send Report\n      var response = await report.send();\n      // Response\n      if (response instanceof Error == false) {\n        if (callback) {\n          callback(null, response);\n          return;\n        } else {\n          return response;\n        }\n      } else {\n        if (callback) {\n          callback(response);\n          return;\n        } else {\n          return response;\n        }\n      }\n    } catch (error) {\n      if (callback) {\n        callback(error);\n        return;\n      } else {\n        return error;\n      }\n    }\n  }\n  /**\n   *\n   * Send an already created Relay\n   * @param {Relay} relay - Relay instance with the information.\n   * @param {callback} callback - callback handler.\n   * @returns {String} - A String with the response.\n   * @memberof Pocket\n   */\n  async sendRelay(relay, callback) {\n    try {\n      // Check for relay\n      if (relay == null || relay.data == null) {\n        if (callback) {\n          callback(new Error(\"Relay is null or data field is missing\"));\n          return;\n        } else {\n          return new Error(\"Relay is null or data field is missing\");\n        }\n      }\n      // Verify all relay properties are set\n      if (!relay.isValid()) {\n        if (callback) {\n          callback(new Error(\"Relay is missing a property, please verify all properties.\"));\n          return;\n        } else {\n          return new Error(\"Relay is missing a property, please verify all properties.\");\n        }\n      }\n\n      // Filter nodes for specified blockchain\n      var node = await this.getNode(relay.netID,\n        relay.blockchain);\n\n      if (node == null) {\n        if (callback) {\n          callback(new Error(\"Node is empty.\"));\n          return;\n        } else {\n          return new Error(\"Node is empty.\");\n        }\n      }\n\n      // Send relay\n      var response = await node.sendRelay(relay);\n      // Response\n      if (response instanceof Error == false) {\n        if (callback) {\n          callback(null, response);\n          return;\n        } else {\n          return response;\n        }\n      } else {\n        if (callback) {\n          callback(response);\n          return;\n        } else {\n          return response;\n        }\n      }\n\n    } catch (error) {\n      if (callback) {\n        callback(new Error(\"Failed to send relay with error: \" + error));\n        return;\n      } else {\n        return new Error(\"Failed to send relay with error: \" + error);\n      }\n    }\n\n  }\n  /**\n   *\n   * Retrieve a list of service nodes from the Node Dispatcher\n   * @param {callback} callback\n   * @returns {Node} - A list of Nodes.\n   * @memberof Pocket\n   */\n  async retrieveNodes(callback) {\n    try {\n      var dispatch = this.getDispatch();\n      var nodes = await dispatch.retrieveServiceNodes();\n      \n      if (nodes instanceof Error == false && nodes.length != 0) {\n        // Save the nodes to the configuration.\n        this.configuration.nodes = nodes;\n        // Return a list of nodes\n        if (callback) {\n          callback(null, nodes);\n          return;\n        } else {\n          return nodes;\n        }\n      } else {\n        // Returns an Error;\n        if (callback) {\n          callback(new Error(\"Failed to retrieve a list of nodes.\"), null);\n          return;\n        } else {\n          return new Error(\"Failed to retrieve a list of nodes.\");\n        }\n      }\n\n    } catch (error) {\n      if (callback) {\n        callback(new Error(\"Failed to retrieve a list of nodes with error: \"+error), null);\n        return;\n      } else {\n        return new Error(\"Failed to retrieve a list of nodes with error: \"+error);\n      }\n    }\n  }\n\n}\n\nmodule.exports = Pocket;","const Models = require(\"./models/index\");\nconst Wallet = Models.Wallet;\nconst Relay = Models.Relay;\nconst Pocket = require(\"./pocket\");\n\nmodule.exports = {\n  Pocket,\n  Wallet,\n  Relay\n}","export function validateSecureOrigin() {\n    var isLocalhost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';\n    var isSecureOrigin = location.protocol === 'https:';\n    var isSecure = isLocalhost || isSecureOrigin;\n    if (!isSecure) {\n        throw \"[Portis] Access to the WebCrypto API is restricted to secure origins.\\nIf this is a development environment please use http://localhost:\" + location.port + \" instead.\\nOtherwise, please use an SSL certificate.\";\n    }\n}\n//# sourceMappingURL=secureOrigin.js.map","export var styles = \"\\n.por_portis-container {\\n  position: fixed;\\n  width: 0px;\\n  height: 0px;\\n  top: 0px;\\n  right: 0px;\\n  z-index: 2147483647;\\n}\\n\\n@media (max-width: 576px) {\\n  .por_portis-container {\\n    bottom: 0;\\n    top: auto;\\n  }\\n}\\n\\n.por_portis-widget-frame {\\n  position: fixed;\\n  width: 375px;\\n  height: 0;\\n  top: 20px;\\n  right: 20px;\\n  box-shadow: 0 5px 40px rgba(0,0,0,.16);\\n  border-radius: 8px;\\n  overflow: hidden;\\n  z-index: 2147483000;\\n}\\n\\n@media (max-width: 576px) {\\n  .por_portis-widget-frame {\\n    bottom: 0;\\n    top: auto;\\n    width: 100%;\\n    right: 0;\\n    left: 0;\\n    border-bottom-left-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n}\\n\";\n//# sourceMappingURL=styles.js.map"]}