parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"miYY":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.__moduleExports=exports.WalletLinkProvider=exports.WalletLink=exports.default=void 0;var e=require("./_commonjsHelpers-0e41fd1e.js");require("events");var n=require("./_events_commonjs-external-048bde7e.js");require("buffer");var i=require("./_crypto_commonjs-external-0fb622f0.js");require("stream"),require("crypto");var r=require("./js-1fcc5cc1.js");require("url");var s=require("./_url_commonjs-external-78890fcf.js"),o=(0,e.c)(function(t,e){var n;function i(t,e,i){if(!i||typeof i.value!==n.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:n.boolTrue,get:function(){var t=i.value.bind(this);return Object.defineProperty(this,e,{value:t,configurable:n.boolTrue,writable:n.boolTrue}),t}}}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.typeOfFunction="function",t.boolTrue=!0}(n||(n={})),e.bind=i,e.default=i});(0,e.u)(o),o.bind;var a=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.5539 10.4174C16.8027 10.16 16.8027 9.75167 16.5539 9.49423C16.2928 9.22408 15.8598 9.22405 15.5987 9.49415L13.2753 11.8974C12.874 12.3125 12.6734 12.5201 12.4404 12.5975C12.2357 12.6655 12.0144 12.6655 11.8096 12.5975C11.5766 12.52 11.376 12.3125 10.9747 11.8974L8.6513 9.49406C8.39018 9.22396 7.9572 9.22399 7.69612 9.49413C7.44731 9.75158 7.44731 10.1599 7.69612 10.4173L10.9745 13.8096C11.3759 14.2249 11.5766 14.4325 11.8095 14.51C12.0144 14.5781 12.2357 14.5781 12.4405 14.51C12.6735 14.4325 12.8742 14.2249 13.2756 13.8096L16.5539 10.4174Z' fill='%23050F19'/%3E%3C/svg%3E%0A"});(0,e.u)(a);var l=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default='\n  animation: none;\n  animation-delay: 0;\n  animation-direction: normal;\n  animation-duration: 0;\n  animation-fill-mode: none;\n  animation-iteration-count: 1;\n  animation-name: none;\n  animation-play-state: running;\n  animation-timing-function: ease;\n  backface-visibility: visible;\n  background: 0;\n  background-attachment: scroll;\n  background-clip: border-box;\n  background-color: transparent;\n  background-image: none;\n  background-origin: padding-box;\n  background-position: 0 0;\n  background-position-x: 0;\n  background-position-y: 0;\n  background-repeat: repeat;\n  background-size: auto auto;\n  border: 0;\n  border-style: none;\n  border-width: medium;\n  border-color: inherit;\n  border-bottom: 0;\n  border-bottom-color: inherit;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n  border-bottom-style: none;\n  border-bottom-width: medium;\n  border-collapse: separate;\n  border-image: none;\n  border-left: 0;\n  border-left-color: inherit;\n  border-left-style: none;\n  border-left-width: medium;\n  border-radius: 0;\n  border-right: 0;\n  border-right-color: inherit;\n  border-right-style: none;\n  border-right-width: medium;\n  border-spacing: 0;\n  border-top: 0;\n  border-top-color: inherit;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border-top-style: none;\n  border-top-width: medium;\n  bottom: auto;\n  box-shadow: none;\n  box-sizing: border-box;\n  caption-side: top;\n  clear: none;\n  clip: auto;\n  color: inherit;\n  columns: auto;\n  column-count: auto;\n  column-fill: balance;\n  column-gap: normal;\n  column-rule: medium none currentColor;\n  column-rule-color: currentColor;\n  column-rule-style: none;\n  column-rule-width: none;\n  column-span: 1;\n  column-width: auto;\n  content: normal;\n  counter-increment: none;\n  counter-reset: none;\n  cursor: auto;\n  direction: ltr;\n  display: inline;\n  empty-cells: show;\n  float: none;\n  font: normal;\n  font-family:\n    -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue",\n    Arial, sans-serif;\n  font-size: medium;\n  font-style: normal;\n  font-variant: normal;\n  font-weight: normal;\n  height: auto;\n  hyphens: none;\n  left: auto;\n  letter-spacing: normal;\n  line-height: normal;\n  list-style: none;\n  list-style-image: none;\n  list-style-position: outside;\n  list-style-type: disc;\n  margin: 0;\n  margin-bottom: 0;\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  max-height: none;\n  max-width: none;\n  min-height: 0;\n  min-width: 0;\n  opacity: 1;\n  orphans: 0;\n  outline: 0;\n  outline-color: invert;\n  outline-style: none;\n  outline-width: medium;\n  overflow: visible;\n  overflow-x: visible;\n  overflow-y: visible;\n  padding: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  page-break-after: auto;\n  page-break-before: auto;\n  page-break-inside: auto;\n  perspective: none;\n  perspective-origin: 50% 50%;\n  pointer-events: auto;\n  position: static;\n  quotes: "\\201C""\\201D""\\2018""\\2019";\n  right: auto;\n  tab-size: 8;\n  table-layout: auto;\n  text-align: inherit;\n  text-align-last: auto;\n  text-decoration: none;\n  text-decoration-color: inherit;\n  text-decoration-line: none;\n  text-decoration-style: solid;\n  text-indent: 0;\n  text-shadow: none;\n  text-transform: none;\n  top: auto;\n  transform: none;\n  transform-style: flat;\n  transition: none;\n  transition-delay: 0s;\n  transition-duration: 0s;\n  transition-property: none;\n  transition-timing-function: ease;\n  unicode-bidi: normal;\n  vertical-align: baseline;\n  visibility: visible;\n  white-space: normal;\n  widows: 0;\n  width: auto;\n  word-spacing: normal;\n  z-index: auto;\n  all: initial;\n  all: unset;\n'});(0,e.u)(l);var h=(0,e.c)(function(t,n){var i=e.a&&e.a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});const r=i(l);n.default=`\n#_WalletLinkNotifications,\n#_WalletLinkNotifications * {\n  ${r.default}\n}\n\n#_WalletLinkNotifications * {\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue",\n    Arial, sans-serif;\n  box-sizing: border-box;\n}\n\n#_WalletLinkNotifications {\n  position: fixed;\n  top: 0;\n  right: 0;\n  text-align: right;\n  z-index: 2147483647;\n}\n\n#_WalletLinkNotifications style {\n  display: none;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotification {\n  display: block;\n  margin: 8px 16px 0 16px;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationBox {\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  color: black;\n  margin: 0;\n  font-size: 14px;\n  box-shadow:\n    0px 16px 24px rgba(0, 0, 0, 0.06),\n    0px 0px 8px rgba(0, 0, 0, 0.04);\n  border-radius: 16px;\n  transition: opacity 0.25s, transform 0.25s;\n  opacity: 0;\n  transform: translateX(25%);\n  text-align: left;\n  overflow: hidden;\n}\n\n#_WalletLinkNotifications\n  ._WalletLinkNotificationShow\n  ._WalletLinkNotificationBox {\n  opacity: 1;\n  transform: translateX(0);\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationContent {\n  display: flex;\n  flex-direction: row;\n  padding: 8px 8px 8px 16px;\n  align-items: center;\n  user-select: none;\n  cursor: pointer;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationMessage {\n  display: block;\n  color: black;\n  line-height: 1.5;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationChevron {\n  display: block;\n  margin-left: 8px;\n  transition: transform 0.05s;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationProgressBar {\n  display: block;\n  height: 2px;\n  position: relative;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationProgressBar::before {\n  display: block;\n  position: absolute;\n  content: "";\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background-image: linear-gradient(\n    to right,\n    rgba(22, 82, 240, 0) 0%,\n    rgba(22, 82, 240, 1) 100%\n  );\n  animation: WalletLinkNotificationProgressBar 2s linear infinite;\n}\n\n@keyframes WalletLinkNotificationProgressBar {\n  0% {\n    left: 0;\n    width: 0%;\n    background-image: linear-gradient(\n      to right,\n      rgba(22, 82, 240, 0) 0%,\n      rgba(22, 82, 240, 1) 100%\n    );\n  }\n  25% {\n    left: 0;\n    width: 100%;\n  }\n  50% {\n    left: 100%;\n    width: 0%;\n    background-image: linear-gradient(\n      to right,\n      rgba(22, 82, 240, 0) 0%,\n      rgba(22, 82, 240, 1) 100%\n    );\n  }\n  50.01% {\n    background-image: linear-gradient(\n      to left,\n      rgba(22, 82, 240, 0) 0%,\n      rgba(22, 82, 240, 1) 100%\n    );\n  }\n  75% {\n    left: 0;\n    width: 100%;\n  }\n  100% {\n    left: 0;\n    width: 0%;\n    background-image: linear-gradient(\n      to left,\n      rgba(22, 82, 240, 0) 0%,\n      rgba(22, 82, 240, 1) 100%\n    );\n  }\n}\n\n#_WalletLinkNotifications\n  ._WalletLinkNotificationExpand\n  ._WalletLinkNotificationProgressBar {\n  margin-bottom: -1px;\n}\n\n#_WalletLinkNotifications\n  ._WalletLinkNotificationExpand\n  ._WalletLinkNotificationChevron {\n  transform: rotateZ(180deg);\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationActions {\n  display: none;\n  flex-direction: column;\n  border-top: 1px solid #f5f7f8;\n  padding: 8px 16px;\n}\n\n#_WalletLinkNotifications\n  ._WalletLinkNotificationExpand\n  ._WalletLinkNotificationActions {\n  display: flex;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationAction {\n  color: #888;\n  margin: 8px 0;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationButtonInfo {\n  margin: 0 8px 0 0;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationButton {\n  color: #1652f0;\n  -webkit-text-fill-color: #1652f0;\n  cursor: pointer;\n  display: inline;\n  margin: 0;\n  padding: 0;\n  -webkit-appearance: none;\n  transition: opacity 0.25s;\n}\n\n#_WalletLinkNotifications ._WalletLinkNotificationButton:active {\n  opacity: 0.6;\n}\n`});(0,e.u)(h);var u=(0,e.c)(function(t,n){var i=e.a&&e.a.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},r=e.a&&e.a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});const s=r(o),l=r(a),u=r(h),d="_WalletLinkNotificationButtonInfo",c="_WalletLinkNotificationButton";class m{constructor(t){this.el=null,this.autoExpandTimer=null,this._expanded=!1;const{message:e,showProgressBar:n,autoExpandAfter:i,buttonInfo1:r,buttonInfo2:s,buttonInfo3:o,buttonLabel1:a,buttonLabel2:l,buttonLabel3:h,onClickButton1:u,onClickButton2:d,onClickButton3:c}=t;this.message=e||"Notification",this.showProgressBar=n||!1,this.autoExpandAfter="number"==typeof i&&i>=0?i:-1,this.buttonInfo1=r||"",this.buttonInfo2=s||"",this.buttonInfo3=o||"",this.buttonLabel1=a||"Cancel",this.buttonLabel2=l||"Help",this.buttonLabel3=h||"Dismiss",this.onClickButton1=u||null,this.onClickButton2=d||null,this.onClickButton3=c||null}static injectContainer(){if(document.querySelector("#_WalletLinkNotifications"))return;const t=document.createElement("div");t.id="_WalletLinkNotifications";const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(u.default)),t.appendChild(e),document.documentElement.appendChild(t)}show(){const{buttonLabel1:t,buttonLabel2:e,buttonLabel3:n}=this;if(!this.el){this.el=document.createElement("div"),this.el.className="_WalletLinkNotification";const i=document.createElement("div");i.className="_WalletLinkNotificationBox";const r=document.createElement("div");r.className="_WalletLinkNotificationContent";const s=document.createElement("div");if(s.className="_WalletLinkNotificationMessage",s.appendChild(document.createTextNode(this.message)),r.appendChild(s),this.onClickButton1||this.onClickButton2||this.onClickButton3){const t=document.createElement("img");t.src=l.default,t.alt="Expand",t.className="_WalletLinkNotificationChevron",r.appendChild(t)}if(r.addEventListener("click",this.handleClick,!1),i.appendChild(r),this.showProgressBar){const t=document.createElement("div");t.className="_WalletLinkNotificationProgressBar",i.appendChild(t)}const o=document.createElement("div");if(o.className="_WalletLinkNotificationActions",this.onClickButton1){const e=document.createElement("div");e.className="_WalletLinkNotificationAction";const n=document.createElement("span");n.classList.add(d),n.classList.add(`${d}1`),n.appendChild(document.createTextNode(this.buttonInfo1)),e.appendChild(n);const i=document.createElement("button");i.classList.add(c),i.classList.add(`${c}1`),i.appendChild(document.createTextNode(t)),e.appendChild(i),o.appendChild(e)}if(this.onClickButton2){const t=document.createElement("div");t.className="_WalletLinkNotificationAction";const n=document.createElement("span");n.classList.add(d),n.classList.add(`${d}2`),n.appendChild(document.createTextNode(this.buttonInfo2)),t.appendChild(n);const i=document.createElement("button");i.classList.add(c),i.classList.add(`${c}2`),i.appendChild(document.createTextNode(e)),t.appendChild(i),o.appendChild(t)}if(this.onClickButton3){const t=document.createElement("div");t.className="_WalletLinkNotificationAction";const e=document.createElement("span");e.classList.add(d),e.classList.add(`${d}3`),e.appendChild(document.createTextNode(this.buttonInfo3)),t.appendChild(e);const i=document.createElement("button");i.classList.add(c),i.classList.add(`${c}3`),i.appendChild(document.createTextNode(n)),t.appendChild(i),o.appendChild(t)}i.appendChild(o),this.el.appendChild(i)}const i=document.querySelector("#_WalletLinkNotifications");if(!i)return;i.appendChild(this.el);const r=this.$(`.${c}1`);r&&r.addEventListener("click",this.handleClickButton1,!1);const s=this.$(`.${c}2`);s&&s.addEventListener("click",this.handleClickButton2,!1);const o=this.$(`.${c}3`);o&&o.addEventListener("click",this.handleClickButton3,!1),window.setTimeout(()=>{this.el&&this.el.classList.add("_WalletLinkNotificationShow")},5),this.autoExpandAfter>=0&&(this.autoExpandTimer=window.setTimeout(()=>{this.autoExpandTimer=null,this.expanded=!0},this.autoExpandAfter))}hide(){if(!this.el)return;const{parentNode:t}=this.el;t&&t.removeChild(this.el);const e=this.$(`.${c}1`);e&&e.removeEventListener("click",this.handleClickButton1,!1);const n=this.$(`.${c}2`);n&&n.removeEventListener("click",this.handleClickButton2,!1);const i=this.$(`.${c}3`);i&&i.removeEventListener("click",this.handleClickButton3,!1),this.el=null}get expanded(){return this._expanded}set expanded(t){this._expanded=t,null!==this.autoExpandTimer&&(window.clearTimeout(this.autoExpandTimer),this.autoExpandTimer=null),this.el&&(t?this.el.classList.add("_WalletLinkNotificationExpand"):this.el.classList.remove("_WalletLinkNotificationExpand"))}$(t){return this.el?this.el.querySelector(t):null}handleClick(t){t.preventDefault(),this.expanded=!this.expanded}handleClickButton1(t){t.preventDefault(),this.onClickButton1&&this.onClickButton1()}handleClickButton2(t){t.preventDefault(),this.onClickButton2&&this.onClickButton2()}handleClickButton3(t){t.preventDefault(),this.onClickButton3&&this.onClickButton3()}}i([s.default],m.prototype,"handleClick",null),i([s.default],m.prototype,"handleClickButton1",null),i([s.default],m.prototype,"handleClickButton2",null),i([s.default],m.prototype,"handleClickButton3",null),n.WalletLinkNotification=m});(0,e.u)(u),u.WalletLinkNotification;var d=(0,e.c)(function(t){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function r(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o=i.b.Buffer}catch(t){}function a(t,e,i){for(var r=0,s=Math.min(t.length,i),o=0,a=e;a<s;a++){var l,h=t.charCodeAt(a)-48;r<<=4,r|=l=h>=49&&h<=54?h-49+10:h>=17&&h<=22?h-17+10:h,o|=l}return n(!(240&o),"Invalid character in "+t),r}function l(t,e,i,r){for(var s=0,o=0,a=Math.min(t.length,i),l=e;l<a;l++){var h=t.charCodeAt(l)-48;s*=r,o=h>=49?h-49+10:h>=17?h-17+10:h,n(h>=0&&o<r,"Invalid character"),s+=o}return s}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&r++,16===e?this._parseHex(t,r):this._parseBase(t,e,r),"-"===t[0]&&(this.negative=1),this._strip(),"le"===i&&this._initArray(this.toArray(),e,i)},s.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},s.prototype._initArray=function(t,e,i){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===i)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,r,s=0;for(n=t.length-6,i=0;n>=e;n-=6)r=a(t,n,n+6),this.words[i]|=r<<s&67108863,this.words[i+1]|=r>>>26-s&4194303,(s+=24)>=26&&(s-=26,i++);n+6!==e&&(r=a(t,e,n+6),this.words[i]|=r<<s&67108863,this.words[i+1]|=r>>>26-s&4194303),this._strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var s=t.length-n,o=s%i,a=Math.min(s,s-o)+n,h=0,u=n;u<a;u+=i)h=l(t,u,u+i,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var d=1;for(h=l(t,u,t.length,e),u=0;u<o;u++)d*=e;this.imuln(d),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){h(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for?s.prototype[Symbol.for("nodejs.util.inspect.custom")]=u:s.prototype.inspect=u;var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,l=o/67108864|0;n.words[0]=a;for(var h=1;h<i;h++){for(var u=l>>>26,d=67108863&l,c=Math.min(h,e.length-1),m=Math.max(0,h-t.length+1);m<=c;m++){var f=h-m|0;u+=(o=(r=0|t.words[f])*(s=0|e.words[m])+d)/67108864|0,d=67108863&o}n.words[h]=0|d,l=0|u}return 0!==l?n.words[h]=0|l:n.length--,n._strip()}s.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],l=(16777215&(a<<r|s)).toString(16);i=0!=(s=a>>>24-r&16777215)||o!==this.length-1?d[6-l.length]+l+i:l+i,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(i=s.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var h=c[t],u=m[t];i="";var f=this.clone();for(f.negative=0;!f.isZero();){var p=f.modrn(u).toString(t);i=(f=f.idivn(u)).isZero()?p+i:d[h-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,i){this._strip();var r=this.byteLength(),s=i||Math.max(1,r);n(r<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,r),o},s.prototype._toArrayLikeLE=function(t,e){for(var n=0,i=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|i;t[n++]=255&o,n<t.length&&(t[n++]=o>>8&255),n<t.length&&(t[n++]=o>>16&255),6===s?(n<t.length&&(t[n++]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(n<t.length)for(t[n++]=i;n<t.length;)t[n++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,i=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|i;t[n--]=255&o,n>=0&&(t[n--]=o>>8&255),n>=0&&(t[n--]=o>>16&255),6===s?(n>=0&&(t[n--]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(n>=0)for(t[n--]=i;n>=0;)t[n--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var i=t/26|0,r=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<r:this.words[i]&~(1<<r),this._strip()},s.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,s=0;s<i.length;s++)e=(0|n.words[s])+(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<n.length;s++)e=(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|n.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var i,r,s,o=t.words,a=e.words,l=n.words,h=0,u=0|o[0],d=8191&u,c=u>>>13,m=0|o[1],f=8191&m,p=m>>>13,g=0|o[2],y=8191&g,M=g>>>13,w=0|o[3],v=8191&w,b=w>>>13,_=0|o[4],k=8191&_,I=_>>>13,E=0|o[5],S=8191&E,N=E>>>13,x=0|o[6],L=8191&x,A=x>>>13,C=0|o[7],D=8191&C,T=C>>>13,W=0|o[8],j=8191&W,P=W>>>13,R=0|o[9],B=8191&R,O=R>>>13,F=0|a[0],U=8191&F,z=F>>>13,q=0|a[1],Z=8191&q,H=q>>>13,$=0|a[2],G=8191&$,Q=$>>>13,J=0|a[3],Y=8191&J,K=J>>>13,V=0|a[4],X=8191&V,tt=V>>>13,et=0|a[5],nt=8191&et,it=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],lt=8191&at,ht=at>>>13,ut=0|a[8],dt=8191&ut,ct=ut>>>13,mt=0|a[9],ft=8191&mt,pt=mt>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(h+(i=Math.imul(d,U))|0)+((8191&(r=(r=Math.imul(d,z))+Math.imul(c,U)|0))<<13)|0;h=((s=Math.imul(c,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(f,U),r=(r=Math.imul(f,z))+Math.imul(p,U)|0,s=Math.imul(p,z);var yt=(h+(i=i+Math.imul(d,Z)|0)|0)+((8191&(r=(r=r+Math.imul(d,H)|0)+Math.imul(c,Z)|0))<<13)|0;h=((s=s+Math.imul(c,H)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(y,U),r=(r=Math.imul(y,z))+Math.imul(M,U)|0,s=Math.imul(M,z),i=i+Math.imul(f,Z)|0,r=(r=r+Math.imul(f,H)|0)+Math.imul(p,Z)|0,s=s+Math.imul(p,H)|0;var Mt=(h+(i=i+Math.imul(d,G)|0)|0)+((8191&(r=(r=r+Math.imul(d,Q)|0)+Math.imul(c,G)|0))<<13)|0;h=((s=s+Math.imul(c,Q)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(v,U),r=(r=Math.imul(v,z))+Math.imul(b,U)|0,s=Math.imul(b,z),i=i+Math.imul(y,Z)|0,r=(r=r+Math.imul(y,H)|0)+Math.imul(M,Z)|0,s=s+Math.imul(M,H)|0,i=i+Math.imul(f,G)|0,r=(r=r+Math.imul(f,Q)|0)+Math.imul(p,G)|0,s=s+Math.imul(p,Q)|0;var wt=(h+(i=i+Math.imul(d,Y)|0)|0)+((8191&(r=(r=r+Math.imul(d,K)|0)+Math.imul(c,Y)|0))<<13)|0;h=((s=s+Math.imul(c,K)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(k,U),r=(r=Math.imul(k,z))+Math.imul(I,U)|0,s=Math.imul(I,z),i=i+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,H)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,H)|0,i=i+Math.imul(y,G)|0,r=(r=r+Math.imul(y,Q)|0)+Math.imul(M,G)|0,s=s+Math.imul(M,Q)|0,i=i+Math.imul(f,Y)|0,r=(r=r+Math.imul(f,K)|0)+Math.imul(p,Y)|0,s=s+Math.imul(p,K)|0;var vt=(h+(i=i+Math.imul(d,X)|0)|0)+((8191&(r=(r=r+Math.imul(d,tt)|0)+Math.imul(c,X)|0))<<13)|0;h=((s=s+Math.imul(c,tt)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(S,U),r=(r=Math.imul(S,z))+Math.imul(N,U)|0,s=Math.imul(N,z),i=i+Math.imul(k,Z)|0,r=(r=r+Math.imul(k,H)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,H)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,Q)|0,i=i+Math.imul(y,Y)|0,r=(r=r+Math.imul(y,K)|0)+Math.imul(M,Y)|0,s=s+Math.imul(M,K)|0,i=i+Math.imul(f,X)|0,r=(r=r+Math.imul(f,tt)|0)+Math.imul(p,X)|0,s=s+Math.imul(p,tt)|0;var bt=(h+(i=i+Math.imul(d,nt)|0)|0)+((8191&(r=(r=r+Math.imul(d,it)|0)+Math.imul(c,nt)|0))<<13)|0;h=((s=s+Math.imul(c,it)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(L,U),r=(r=Math.imul(L,z))+Math.imul(A,U)|0,s=Math.imul(A,z),i=i+Math.imul(S,Z)|0,r=(r=r+Math.imul(S,H)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,H)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,Q)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,Q)|0,i=i+Math.imul(v,Y)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(b,Y)|0,s=s+Math.imul(b,K)|0,i=i+Math.imul(y,X)|0,r=(r=r+Math.imul(y,tt)|0)+Math.imul(M,X)|0,s=s+Math.imul(M,tt)|0,i=i+Math.imul(f,nt)|0,r=(r=r+Math.imul(f,it)|0)+Math.imul(p,nt)|0,s=s+Math.imul(p,it)|0;var _t=(h+(i=i+Math.imul(d,st)|0)|0)+((8191&(r=(r=r+Math.imul(d,ot)|0)+Math.imul(c,st)|0))<<13)|0;h=((s=s+Math.imul(c,ot)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(D,U),r=(r=Math.imul(D,z))+Math.imul(T,U)|0,s=Math.imul(T,z),i=i+Math.imul(L,Z)|0,r=(r=r+Math.imul(L,H)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,H)|0,i=i+Math.imul(S,G)|0,r=(r=r+Math.imul(S,Q)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,Q)|0,i=i+Math.imul(k,Y)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(I,Y)|0,s=s+Math.imul(I,K)|0,i=i+Math.imul(v,X)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,tt)|0,i=i+Math.imul(y,nt)|0,r=(r=r+Math.imul(y,it)|0)+Math.imul(M,nt)|0,s=s+Math.imul(M,it)|0,i=i+Math.imul(f,st)|0,r=(r=r+Math.imul(f,ot)|0)+Math.imul(p,st)|0,s=s+Math.imul(p,ot)|0;var kt=(h+(i=i+Math.imul(d,lt)|0)|0)+((8191&(r=(r=r+Math.imul(d,ht)|0)+Math.imul(c,lt)|0))<<13)|0;h=((s=s+Math.imul(c,ht)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(j,U),r=(r=Math.imul(j,z))+Math.imul(P,U)|0,s=Math.imul(P,z),i=i+Math.imul(D,Z)|0,r=(r=r+Math.imul(D,H)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,H)|0,i=i+Math.imul(L,G)|0,r=(r=r+Math.imul(L,Q)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,Q)|0,i=i+Math.imul(S,Y)|0,r=(r=r+Math.imul(S,K)|0)+Math.imul(N,Y)|0,s=s+Math.imul(N,K)|0,i=i+Math.imul(k,X)|0,r=(r=r+Math.imul(k,tt)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,tt)|0,i=i+Math.imul(v,nt)|0,r=(r=r+Math.imul(v,it)|0)+Math.imul(b,nt)|0,s=s+Math.imul(b,it)|0,i=i+Math.imul(y,st)|0,r=(r=r+Math.imul(y,ot)|0)+Math.imul(M,st)|0,s=s+Math.imul(M,ot)|0,i=i+Math.imul(f,lt)|0,r=(r=r+Math.imul(f,ht)|0)+Math.imul(p,lt)|0,s=s+Math.imul(p,ht)|0;var It=(h+(i=i+Math.imul(d,dt)|0)|0)+((8191&(r=(r=r+Math.imul(d,ct)|0)+Math.imul(c,dt)|0))<<13)|0;h=((s=s+Math.imul(c,ct)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(B,U),r=(r=Math.imul(B,z))+Math.imul(O,U)|0,s=Math.imul(O,z),i=i+Math.imul(j,Z)|0,r=(r=r+Math.imul(j,H)|0)+Math.imul(P,Z)|0,s=s+Math.imul(P,H)|0,i=i+Math.imul(D,G)|0,r=(r=r+Math.imul(D,Q)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,Q)|0,i=i+Math.imul(L,Y)|0,r=(r=r+Math.imul(L,K)|0)+Math.imul(A,Y)|0,s=s+Math.imul(A,K)|0,i=i+Math.imul(S,X)|0,r=(r=r+Math.imul(S,tt)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(k,nt)|0,r=(r=r+Math.imul(k,it)|0)+Math.imul(I,nt)|0,s=s+Math.imul(I,it)|0,i=i+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,i=i+Math.imul(y,lt)|0,r=(r=r+Math.imul(y,ht)|0)+Math.imul(M,lt)|0,s=s+Math.imul(M,ht)|0,i=i+Math.imul(f,dt)|0,r=(r=r+Math.imul(f,ct)|0)+Math.imul(p,dt)|0,s=s+Math.imul(p,ct)|0;var Et=(h+(i=i+Math.imul(d,ft)|0)|0)+((8191&(r=(r=r+Math.imul(d,pt)|0)+Math.imul(c,ft)|0))<<13)|0;h=((s=s+Math.imul(c,pt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(B,Z),r=(r=Math.imul(B,H))+Math.imul(O,Z)|0,s=Math.imul(O,H),i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,Q)|0)+Math.imul(P,G)|0,s=s+Math.imul(P,Q)|0,i=i+Math.imul(D,Y)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(T,Y)|0,s=s+Math.imul(T,K)|0,i=i+Math.imul(L,X)|0,r=(r=r+Math.imul(L,tt)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,tt)|0,i=i+Math.imul(S,nt)|0,r=(r=r+Math.imul(S,it)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(k,st)|0,r=(r=r+Math.imul(k,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,i=i+Math.imul(v,lt)|0,r=(r=r+Math.imul(v,ht)|0)+Math.imul(b,lt)|0,s=s+Math.imul(b,ht)|0,i=i+Math.imul(y,dt)|0,r=(r=r+Math.imul(y,ct)|0)+Math.imul(M,dt)|0,s=s+Math.imul(M,ct)|0;var St=(h+(i=i+Math.imul(f,ft)|0)|0)+((8191&(r=(r=r+Math.imul(f,pt)|0)+Math.imul(p,ft)|0))<<13)|0;h=((s=s+Math.imul(p,pt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(B,G),r=(r=Math.imul(B,Q))+Math.imul(O,G)|0,s=Math.imul(O,Q),i=i+Math.imul(j,Y)|0,r=(r=r+Math.imul(j,K)|0)+Math.imul(P,Y)|0,s=s+Math.imul(P,K)|0,i=i+Math.imul(D,X)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(T,X)|0,s=s+Math.imul(T,tt)|0,i=i+Math.imul(L,nt)|0,r=(r=r+Math.imul(L,it)|0)+Math.imul(A,nt)|0,s=s+Math.imul(A,it)|0,i=i+Math.imul(S,st)|0,r=(r=r+Math.imul(S,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(k,lt)|0,r=(r=r+Math.imul(k,ht)|0)+Math.imul(I,lt)|0,s=s+Math.imul(I,ht)|0,i=i+Math.imul(v,dt)|0,r=(r=r+Math.imul(v,ct)|0)+Math.imul(b,dt)|0,s=s+Math.imul(b,ct)|0;var Nt=(h+(i=i+Math.imul(y,ft)|0)|0)+((8191&(r=(r=r+Math.imul(y,pt)|0)+Math.imul(M,ft)|0))<<13)|0;h=((s=s+Math.imul(M,pt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(B,Y),r=(r=Math.imul(B,K))+Math.imul(O,Y)|0,s=Math.imul(O,K),i=i+Math.imul(j,X)|0,r=(r=r+Math.imul(j,tt)|0)+Math.imul(P,X)|0,s=s+Math.imul(P,tt)|0,i=i+Math.imul(D,nt)|0,r=(r=r+Math.imul(D,it)|0)+Math.imul(T,nt)|0,s=s+Math.imul(T,it)|0,i=i+Math.imul(L,st)|0,r=(r=r+Math.imul(L,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,i=i+Math.imul(S,lt)|0,r=(r=r+Math.imul(S,ht)|0)+Math.imul(N,lt)|0,s=s+Math.imul(N,ht)|0,i=i+Math.imul(k,dt)|0,r=(r=r+Math.imul(k,ct)|0)+Math.imul(I,dt)|0,s=s+Math.imul(I,ct)|0;var xt=(h+(i=i+Math.imul(v,ft)|0)|0)+((8191&(r=(r=r+Math.imul(v,pt)|0)+Math.imul(b,ft)|0))<<13)|0;h=((s=s+Math.imul(b,pt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(B,X),r=(r=Math.imul(B,tt))+Math.imul(O,X)|0,s=Math.imul(O,tt),i=i+Math.imul(j,nt)|0,r=(r=r+Math.imul(j,it)|0)+Math.imul(P,nt)|0,s=s+Math.imul(P,it)|0,i=i+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(T,st)|0,s=s+Math.imul(T,ot)|0,i=i+Math.imul(L,lt)|0,r=(r=r+Math.imul(L,ht)|0)+Math.imul(A,lt)|0,s=s+Math.imul(A,ht)|0,i=i+Math.imul(S,dt)|0,r=(r=r+Math.imul(S,ct)|0)+Math.imul(N,dt)|0,s=s+Math.imul(N,ct)|0;var Lt=(h+(i=i+Math.imul(k,ft)|0)|0)+((8191&(r=(r=r+Math.imul(k,pt)|0)+Math.imul(I,ft)|0))<<13)|0;h=((s=s+Math.imul(I,pt)|0)+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,i=Math.imul(B,nt),r=(r=Math.imul(B,it))+Math.imul(O,nt)|0,s=Math.imul(O,it),i=i+Math.imul(j,st)|0,r=(r=r+Math.imul(j,ot)|0)+Math.imul(P,st)|0,s=s+Math.imul(P,ot)|0,i=i+Math.imul(D,lt)|0,r=(r=r+Math.imul(D,ht)|0)+Math.imul(T,lt)|0,s=s+Math.imul(T,ht)|0,i=i+Math.imul(L,dt)|0,r=(r=r+Math.imul(L,ct)|0)+Math.imul(A,dt)|0,s=s+Math.imul(A,ct)|0;var At=(h+(i=i+Math.imul(S,ft)|0)|0)+((8191&(r=(r=r+Math.imul(S,pt)|0)+Math.imul(N,ft)|0))<<13)|0;h=((s=s+Math.imul(N,pt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(B,st),r=(r=Math.imul(B,ot))+Math.imul(O,st)|0,s=Math.imul(O,ot),i=i+Math.imul(j,lt)|0,r=(r=r+Math.imul(j,ht)|0)+Math.imul(P,lt)|0,s=s+Math.imul(P,ht)|0,i=i+Math.imul(D,dt)|0,r=(r=r+Math.imul(D,ct)|0)+Math.imul(T,dt)|0,s=s+Math.imul(T,ct)|0;var Ct=(h+(i=i+Math.imul(L,ft)|0)|0)+((8191&(r=(r=r+Math.imul(L,pt)|0)+Math.imul(A,ft)|0))<<13)|0;h=((s=s+Math.imul(A,pt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(B,lt),r=(r=Math.imul(B,ht))+Math.imul(O,lt)|0,s=Math.imul(O,ht),i=i+Math.imul(j,dt)|0,r=(r=r+Math.imul(j,ct)|0)+Math.imul(P,dt)|0,s=s+Math.imul(P,ct)|0;var Dt=(h+(i=i+Math.imul(D,ft)|0)|0)+((8191&(r=(r=r+Math.imul(D,pt)|0)+Math.imul(T,ft)|0))<<13)|0;h=((s=s+Math.imul(T,pt)|0)+(r>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,i=Math.imul(B,dt),r=(r=Math.imul(B,ct))+Math.imul(O,dt)|0,s=Math.imul(O,ct);var Tt=(h+(i=i+Math.imul(j,ft)|0)|0)+((8191&(r=(r=r+Math.imul(j,pt)|0)+Math.imul(P,ft)|0))<<13)|0;h=((s=s+Math.imul(P,pt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863;var Wt=(h+(i=Math.imul(B,ft))|0)+((8191&(r=(r=Math.imul(B,pt))+Math.imul(O,ft)|0))<<13)|0;return h=((s=Math.imul(O,pt))+(r>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,l[0]=gt,l[1]=yt,l[2]=Mt,l[3]=wt,l[4]=vt,l[5]=bt,l[6]=_t,l[7]=kt,l[8]=It,l[9]=Et,l[10]=St,l[11]=Nt,l[12]=xt,l[13]=Lt,l[14]=At,l[15]=Ct,l[16]=Dt,l[17]=Tt,l[18]=Wt,0!==h&&(l[19]=h,n.length++),n};function g(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,s=0;s<n.length-1;s++){var o=r;r=0;for(var a=67108863&i,l=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=l;h++){var u=s-h,d=(0|t.words[u])*(0|e.words[h]),c=67108863&d;a=67108863&(c=c+a|0),r+=(o=(o=o+(d/67108864|0)|0)+(c>>>26)|0)>>>26,o&=67108863}n.words[s]=a,i=o,o=r}return 0!==i?n.words[s]=i:n.length--,n._strip()}function y(t,e,n){return g(t,e,n)}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?g(this,t,e):y(this,t,e)},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),y(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var i=0,r=0;r<this.length;r++){var s=(0|this.words[r])*t,o=(67108863&s)+(67108863&i);i>>=26,i+=s/67108864|0,i+=o>>>26,this.words[r]=67108863&o}return 0!==i&&(this.words[r]=i,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=t.words[i]>>>r&1}return e}(t);if(0===e.length)return new s(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,i=t%26,r=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,l=(0|this.words[e])-a<<i;this.words[e]=l|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,i){var r;n("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,l=i;if(r-=o,r=Math.max(0,r),l){for(var h=0;h<o;h++)l.words[h]=this.words[h];l.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var u=0;for(h=this.length-1;h>=0&&(0!==u||h>=r);h--){var d=0|this.words[h];this.words[h]=u<<26-s|d>>>s,u=d&a}return l&&0!==u&&(l.words[l.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,i){return n(0===this.negative),this.iushrn(t,e,i)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,r=1<<e;return!(this.length<=i||!(this.words[i]&r))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,i){var r,s,o=t.length+i;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+i])+a;var l=(0|t.words[r])*e;a=((s-=67108863&l)>>26)-(l/67108864|0),this.words[r+i]=67108863&s}for(;r<this.length-i;r++)a=(s=(0|this.words[r+i])+a)>>26,this.words[r+i]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),i=this.clone(),r=t,o=0|r.words[r.length-1];0!=(n=26-this._countBits(o))&&(r=r.ushln(n),i.iushln(n),o=0|r.words[r.length-1]);var a,l=i.length-r.length;if("mod"!==e){(a=new s(null)).length=l+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var u=i.clone()._ishlnsubmul(r,1,l);0===u.negative&&(i=u,a&&(a.words[l]=1));for(var d=l-1;d>=0;d--){var c=67108864*(0|i.words[r.length+d])+(0|i.words[r.length+d-1]);for(c=Math.min(c/o|0,67108863),i._ishlnsubmul(r,c,d);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(r,1,d),i.isZero()||(i.negative^=1);a&&(a.words[d]=c)}return a&&a._strip(),i._strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,i){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),s=n.cmp(i);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var i=(1<<26)%t,r=0,s=this.length-1;s>=0;s--)r=(i*r+(0|this.words[s]))%t;return e?-r:r},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var i=0,r=this.length-1;r>=0;r--){var s=(0|this.words[r])+67108864*i;this.words[r]=s/t|0,i=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),l=new s(1),h=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++h;for(var u=i.clone(),d=e.clone();!e.isZero();){for(var c=0,m=1;0==(e.words[0]&m)&&c<26;++c,m<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(u),o.isub(d)),r.iushrn(1),o.iushrn(1);for(var f=0,p=1;0==(i.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(u),l.isub(d)),a.iushrn(1),l.iushrn(1);e.cmp(i)>=0?(e.isub(i),r.isub(a),o.isub(l)):(i.isub(e),a.isub(r),l.isub(o))}return{a:a,b:l,gcd:i.iushln(h)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),l=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var h=0,u=1;0==(e.words[0]&u)&&h<26;++h,u<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);for(var d=0,c=1;0==(i.words[0]&c)&&d<26;++d,c<<=1);if(d>0)for(i.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a)):(i.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0){var s=e;e=n,n=s}else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,i=(t-e)/26,r=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var s=r,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)e=1;else{i&&(t=-t),n(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new I(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var M={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){I.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):n._strip(),n},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},r(v,w),v.prototype.split=function(t,e){for(var n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var r=t.words[9];for(e.words[e.length++]=4194303&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(4194303&s)<<4|r>>>22,r=s}r>>>=22,t.words[i-10]=r,0===r&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(b,w),r(_,w),r(k,w),k.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(M[t])return M[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new b;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new k}return M[t]=e,e},I.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},I.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},I.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},I.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},I.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},I.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},I.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},I.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},I.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},I.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},I.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},I.prototype.isqr=function(t){return this.imul(t,t.clone())},I.prototype.sqr=function(t){return this.mul(t,t)},I.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var i=this.m.add(new s(1)).iushrn(2);return this.pow(t,i)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);n(!r.isZero());var a=new s(1).toRed(this),l=a.redNeg(),h=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,h).cmp(l);)u.redIAdd(l);for(var d=this.pow(u,r),c=this.pow(t,r.addn(1).iushrn(1)),m=this.pow(t,r),f=o;0!==m.cmp(a);){for(var p=m,g=0;0!==p.cmp(a);g++)p=p.redSqr();n(g<f);var y=this.pow(d,new s(1).iushln(f-g-1));c=c.redMul(y),d=y.redSqr(),m=m.redMul(d),f=g}return c},I.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},I.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,l=e.bitLength()%26;for(0===l&&(l=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],u=l-1;u>=0;u--){var d=h>>u&1;r!==n[0]&&(r=this.sqr(r)),0!==d||0!==o?(o<<=1,o|=d,(4==++a||0===i&&0===u)&&(r=this.mul(r,n[o]),a=0,o=0)):a=0}l=26}return r},I.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},I.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new E(t)},r(E,I),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,e.a)});function c(e){return t.allocUnsafe(e).fill(0)}function m(t,e,n){const i=c(e);return t=f(t),n?t.length<e?(t.copy(i),i):t.slice(0,e):t.length<e?(t.copy(i,e-t.length),i):t.slice(-e)}function f(e){if(!t.isBuffer(e))if(Array.isArray(e))e=t.from(e);else if("string"==typeof e)e=p(e)?t.from((n=g(e)).length%2?"0"+n:n,"hex"):t.from(e);else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=t.allocUnsafe(0);else if(d.isBN(e))e=e.toArrayLike(t);else{if(!e.toArray)throw new Error("invalid type");e=t.from(e.toArray())}var n;return e}function p(t){return"string"==typeof t&&t.match(/^0x[0-9A-Fa-f]*$/)}function g(t){return"string"==typeof t&&t.startsWith("0x")?t.slice(2):t}var y={zeros:c,setLength:m,setLengthRight:function(t,e){return m(t,e,!0)},isHexString:p,stripHexPrefix:g,toBuffer:f,bufferToHex:function(t){return"0x"+(t=f(t)).toString("hex")},keccak:function(t,e){return t=f(t),e||(e=256),(0,r.c)("keccak"+e).update(t).digest()}};function M(t){return t.startsWith("int[")?"int256"+t.slice(3):"int"===t?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):"uint"===t?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):"fixed"===t?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):"ufixed"===t?"ufixed128x128":t}function w(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function v(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function b(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?""===e[2]?"dynamic":parseInt(e[2],10):null}function _(t){var e=typeof t;if("string"===e)return y.isHexString(t)?new d(y.stripHexPrefix(t),16):new d(t,10);if("number"===e)return new d(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function k(e,n){var i,r,s,o;if("address"===e)return k("uint160",_(n));if("bool"===e)return k("uint8",n?1:0);if("string"===e)return k("bytes",new t(n,"utf8"));if(function(t){return t.lastIndexOf("]")===t.length-1}(e)){if(void 0===n.length)throw new Error("Not an array?");if("dynamic"!==(i=b(e))&&0!==i&&n.length>i)throw new Error("Elements exceed array size: "+i);for(o in s=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof n&&(n=JSON.parse(n)),n)s.push(k(e,n[o]));if("dynamic"===i){var a=k("uint256",n.length);s.unshift(a)}return t.concat(s)}if("bytes"===e)return n=new t(n),s=t.concat([k("uint256",n.length),n]),n.length%32!=0&&(s=t.concat([s,y.zeros(32-n.length%32)])),s;if(e.startsWith("bytes")){if((i=w(e))<1||i>32)throw new Error("Invalid bytes<N> width: "+i);return y.setLengthRight(n,32)}if(e.startsWith("uint")){if((i=w(e))%8||i<8||i>256)throw new Error("Invalid uint<N> width: "+i);if((r=_(n)).bitLength()>i)throw new Error("Supplied uint exceeds width: "+i+" vs "+r.bitLength());if(r<0)throw new Error("Supplied uint is negative");return r.toArrayLike(t,"be",32)}if(e.startsWith("int")){if((i=w(e))%8||i<8||i>256)throw new Error("Invalid int<N> width: "+i);if((r=_(n)).bitLength()>i)throw new Error("Supplied int exceeds width: "+i+" vs "+r.bitLength());return r.toTwos(256).toArrayLike(t,"be",32)}if(e.startsWith("ufixed")){if(i=v(e),(r=_(n))<0)throw new Error("Supplied ufixed is negative");return k("uint256",r.mul(new d(2).pow(new d(i[1]))))}if(e.startsWith("fixed"))return i=v(e),k("int256",_(n).mul(new d(2).pow(new d(i[1]))));throw new Error("Unsupported or invalid type: "+e)}function I(t){return"string"===t||"bytes"===t||"dynamic"===b(t)}function E(e,n){if(e.length!==n.length)throw new Error("Number of types are not matching the values");for(var i,r,s=[],o=0;o<e.length;o++){var a=M(e[o]),l=n[o];if("bytes"===a)s.push(l);else if("string"===a)s.push(new t(l,"utf8"));else if("bool"===a)s.push(new t(l?"01":"00","hex"));else if("address"===a)s.push(y.setLength(l,20));else if(a.startsWith("bytes")){if((i=w(a))<1||i>32)throw new Error("Invalid bytes<N> width: "+i);s.push(y.setLengthRight(l,i))}else if(a.startsWith("uint")){if((i=w(a))%8||i<8||i>256)throw new Error("Invalid uint<N> width: "+i);if((r=_(l)).bitLength()>i)throw new Error("Supplied uint exceeds width: "+i+" vs "+r.bitLength());s.push(r.toArrayLike(t,"be",i/8))}else{if(!a.startsWith("int"))throw new Error("Unsupported or invalid type: "+a);if((i=w(a))%8||i<8||i>256)throw new Error("Invalid int<N> width: "+i);if((r=_(l)).bitLength()>i)throw new Error("Supplied int exceeds width: "+i+" vs "+r.bitLength());s.push(r.toTwos(i).toArrayLike(t,"be",i/8))}}return t.concat(s)}var S={rawEncode:function(e,n){var i=[],r=[],s=32*e.length;for(var o in e){var a=M(e[o]),l=k(a,n[o]);I(a)?(i.push(k("uint256",s)),r.push(l),s+=l.length):i.push(l)}return t.concat(i.concat(r))},solidityPack:E,soliditySHA3:function(t,e){return y.keccak(E(t,e))}};const N={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},x={encodeData(e,n,i,r=!0){const s=["bytes32"],o=[this.hashType(e,i)];if(r){const a=(e,n,s)=>{if(void 0!==i[n])return["bytes32",null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":y.keccak(this.encodeData(n,s,i,r))];if(void 0===s)throw new Error(`missing value for field ${e} of type ${n}`);if("bytes"===n)return["bytes32",y.keccak(s)];if("string"===n)return"string"==typeof s&&(s=t.from(s,"utf8")),["bytes32",y.keccak(s)];if(n.lastIndexOf("]")===n.length-1){const t=n.slice(0,n.lastIndexOf("[")),i=s.map(n=>a(e,t,n));return["bytes32",y.keccak(S.rawEncode(i.map(([t])=>t),i.map(([,t])=>t)))]}return[n,s]};for(const t of i[e]){const[e,i]=a(t.name,t.type,n[t.name]);s.push(e),o.push(i)}}else for(const a of i[e]){let e=n[a.name];if(void 0!==e)if("bytes"===a.type)s.push("bytes32"),e=y.keccak(e),o.push(e);else if("string"===a.type)s.push("bytes32"),"string"==typeof e&&(e=t.from(e,"utf8")),e=y.keccak(e),o.push(e);else if(void 0!==i[a.type])s.push("bytes32"),e=y.keccak(this.encodeData(a.type,e,i,r)),o.push(e);else{if(a.type.lastIndexOf("]")===a.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");s.push(a.type),o.push(e)}}return S.rawEncode(s,o)},encodeType(t,e){let n="",i=this.findTypeDependencies(t,e).filter(e=>e!==t);i=[t].concat(i.sort());for(const r of i){if(!e[r])throw new Error("No type definition specified: "+r);n+=r+"("+e[r].map(({name:t,type:e})=>e+" "+t).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||void 0===e[t])return n;n.push(t);for(const i of e[t])for(const t of this.findTypeDependencies(i.type,e,n))!n.includes(t)&&n.push(t);return n},hashStruct(t,e,n,i=!0){return y.keccak(this.encodeData(t,e,n,i))},hashType(t,e){return y.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in N.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(e,n=!0){const i=this.sanitizeData(e),r=[t.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",i.domain,i.types,n)),"EIP712Domain"!==i.primaryType&&r.push(this.hashStruct(i.primaryType,i.message,i.types,n)),y.keccak(t.concat(r))}};var L={TYPED_MESSAGE_SCHEMA:N,TypedDataUtils:x,hashForSignTypedDataLegacy:function(t){return function(t){const e=new Error("Expect argument to be non-empty array");if("object"!=typeof t||!t.length)throw e;const n=t.map(function(t){return"bytes"===t.type?y.toBuffer(t.value):t.value}),i=t.map(function(t){return t.type}),r=t.map(function(t){if(!t.name)throw e;return t.type+" "+t.name});return S.soliditySHA3(["bytes32","bytes32"],[S.soliditySHA3(new Array(t.length).fill("string"),r),S.soliditySHA3(i,n)])}(t.data)},hashForSignTypedData_v3:function(t){return x.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return x.hash(t.data)}},A=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.OpaqueType=function(){return t=>t},e.HexString=(t=>t),e.AddressString=(t=>t),e.IdNumber=(t=>t),e.BigIntString=(t=>t),e.IntNumber=(t=>t),e.RegExpString=(t=>t)});(0,e.u)(A),A.OpaqueType,A.HexString,A.AddressString,A.IdNumber,A.BigIntString,A.IntNumber,A.RegExpString;var C=(0,e.c)(function(n,i){var r=e.a&&e.a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const s=r(d),o=/^[0-9]*$/,a=/^[a-f0-9]*$/;function l(t){return t.startsWith("0x")||t.startsWith("0X")}function h(t){return l(t)?t.slice(2):t}function u(t){return l(t)?"0x"+t.slice(2):"0x"+t}function c(t){if("string"!=typeof t)return!1;const e=h(t).toLowerCase();return a.test(e)}function m(t,e=!1){if("string"==typeof t){const n=h(t).toLowerCase();if(a.test(n))return A.HexString(e?"0x"+n:n)}throw new Error(`"${t}" is not a hexadecimal string`)}function f(t,e=!1){let n=m(t,!1);return n.length%2==1&&(n=A.HexString("0"+n)),e?A.HexString("0x"+n):n}function p(t){if("number"==typeof t&&Number.isInteger(t))return A.IntNumber(t);if("string"==typeof t){if(o.test(t))return A.IntNumber(Number(t));if(c(t))return A.IntNumber(new s.default(f(t,!1),16).toNumber())}throw new Error(`Not an integer: ${t}`)}function g(t){if(null==t||"function"!=typeof t.constructor)return!1;const{constructor:e}=t;return"function"==typeof e.config&&"number"==typeof e.EUCLID}i.hexStringFromBuffer=function(t,e=!1){const n=t.toString("hex");return A.HexString(e?"0x"+n:n)},i.bigIntStringFromBN=function(t){return A.BigIntString(t.toString(10))},i.intNumberFromHexString=function(t){return A.IntNumber(new s.default(f(t,!1),16).toNumber())},i.hexStringFromIntNumber=function(t){return A.HexString("0x"+new s.default(t).toString(16))},i.has0xPrefix=l,i.strip0x=h,i.prepend0x=u,i.isHexString=c,i.ensureHexString=m,i.ensureEvenLengthHexString=f,i.ensureAddressString=function(t){if("string"==typeof t){const e=h(t).toLowerCase();if(c(e)&&40===e.length)return A.AddressString(u(e))}throw new Error(`Invalid Ethereum address: ${t}`)},i.ensureBuffer=function(e){if(t.isBuffer(e))return e;if("string"==typeof e){if(c(e)){const n=f(e,!1);return t.from(n,"hex")}return t.from(e,"utf8")}throw new Error(`Not binary data: ${e}`)},i.ensureIntNumber=p,i.ensureRegExpString=function(t){if(t instanceof RegExp)return A.RegExpString(t.toString());throw new Error(`Not a RegExp: ${t}`)},i.ensureBN=function(t){if(null!=t&&(s.default.isBN(t)||g(t)))return new s.default(t.toString(10),10);if("number"==typeof t)return new s.default(p(t));if("string"==typeof t){if(o.test(t))return new s.default(t,10);if(c(t))return new s.default(f(t,!1),16)}throw new Error(`Not an integer: ${t}`)},i.isBigNumber=g,i.range=function(t,e){return Array.from({length:e-t},(e,n)=>t+n)}});(0,e.u)(C),C.hexStringFromBuffer,C.bigIntStringFromBN,C.intNumberFromHexString,C.hexStringFromIntNumber,C.has0xPrefix,C.strip0x,C.prepend0x,C.isHexString,C.ensureHexString,C.ensureEvenLengthHexString,C.ensureAddressString,C.ensureBuffer,C.ensureIntNumber,C.ensureRegExpString,C.ensureBN,C.isBigNumber,C.range;var D=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n={jsonrpc:"2.0",id:0};function i(t){return{fromBlock:s(t.fromBlock),toBlock:s(t.toBlock),addresses:void 0===t.address?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}function r(t){const e={fromBlock:o(t.fromBlock),toBlock:o(t.toBlock),topics:t.topics};return null!==t.addresses&&(e.address=t.addresses),e}function s(t){if(void 0===t||"latest"===t||"pending"===t)return"latest";if("earliest"===t)return A.IntNumber(0);if(C.isHexString(t))return C.intNumberFromHexString(t);throw new Error(`Invalid block option: ${t}`)}function o(t){return"latest"===t?t:C.hexStringFromIntNumber(t)}function a(){return Object.assign({},n,{error:{code:-32e3,message:"filter not found"}})}function l(){return Object.assign({},n,{result:[]})}e.FilterPolyfill=class{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=A.IntNumber(1),this.provider=t}async newFilter(t){const e=i(t),n=this.makeFilterId(),r=await this.setInitialCursorPosition(n,e.fromBlock);return console.log(`Installing new log filter(${n}):`,e,"initial cursor position:",r),this.logFilters.set(n,e),this.setFilterTimeout(n),C.hexStringFromIntNumber(n)}async newBlockFilter(){const t=this.makeFilterId(),e=await this.setInitialCursorPosition(t,"latest");return console.log(`Installing new block filter (${t}) with initial cursor position:`,e),this.blockFilters.add(t),this.setFilterTimeout(t),C.hexStringFromIntNumber(t)}async newPendingTransactionFilter(){const t=this.makeFilterId(),e=await this.setInitialCursorPosition(t,"latest");return console.log(`Installing new block filter (${t}) with initial cursor position:`,e),this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),C.hexStringFromIntNumber(t)}uninstallFilter(t){const e=C.intNumberFromHexString(t);return console.log(`Uninstalling filter (${e})`),this.deleteFilter(e),!0}getFilterChanges(t){const e=C.intNumberFromHexString(t);return this.timeouts.has(e)&&this.setFilterTimeout(e),this.logFilters.has(e)?this.getLogFilterChanges(e):this.blockFilters.has(e)?this.getBlockFilterChanges(e):this.pendingTransactionFilters.has(e)?this.getPendingTransactionFilterChanges(e):Promise.resolve(a())}async getFilterLogs(t){const e=C.intNumberFromHexString(t),i=this.logFilters.get(e);return i?this.sendAsyncPromise(Object.assign({},n,{method:"eth_getLogs",params:[r(i)]})):a()}makeFilterId(){return A.IntNumber(++this.nextFilterId)}sendAsyncPromise(t){return new Promise((e,n)=>{this.provider.sendAsync(t,(t,i)=>t?n(t):Array.isArray(i)||null==i?n(new Error(`unexpected response received: ${JSON.stringify(i)}`)):void e(i))})}deleteFilter(t){console.log(`Deleting filter (${t})`),this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){const e=this.logFilters.get(t),i=this.cursors.get(t);if(!i||!e)return a();const s=await this.getCurrentBlockHeight(),o="latest"===e.toBlock?s:e.toBlock;if(i>s)return l();if(i>e.toBlock)return l();console.log(`Fetching logs from ${i} to ${o} for filter ${t}`);const h=await this.sendAsyncPromise(Object.assign({},n,{method:"eth_getLogs",params:[r(Object.assign({},e,{fromBlock:i,toBlock:o}))]}));if(Array.isArray(h.result)){const e=h.result.map(t=>C.intNumberFromHexString(t.blockNumber||"0x0")),n=Math.max(...e);if(n&&n>i){const e=A.IntNumber(n+1);console.log(`Moving cursor position for filter (${t}) from ${i} to ${e}`),this.cursors.set(t,e)}}return h}async getBlockFilterChanges(t){const e=this.cursors.get(t);if(!e)return a();const i=await this.getCurrentBlockHeight();if(e>i)return l();console.log(`Fetching blocks from ${e} to ${i} for filter (${t})`);const r=(await Promise.all(C.range(e,i+1).map(t=>this.getBlockHashByNumber(A.IntNumber(t))))).filter(t=>!!t),s=A.IntNumber(e+r.length);return console.log(`Moving cursor position for filter (${t}) from ${e} to ${s}`),this.cursors.set(t,s),Object.assign({},n,{result:r})}async getPendingTransactionFilterChanges(t){return Promise.resolve(l())}async setInitialCursorPosition(t,e){const n=await this.getCurrentBlockHeight(),i="number"==typeof e&&e>n?e:n;return this.cursors.set(t,i),i}setFilterTimeout(t){const e=this.timeouts.get(t);e&&window.clearTimeout(e);const n=window.setTimeout(()=>{console.log(`Filter (${t}) timed out`),this.deleteFilter(t)},3e5);this.timeouts.set(t,n)}async getCurrentBlockHeight(){const{result:t}=await this.sendAsyncPromise(Object.assign({},n,{method:"eth_blockNumber",params:[]}));return C.intNumberFromHexString(C.ensureHexString(t))}async getBlockHashByNumber(t){const e=await this.sendAsyncPromise(Object.assign({},n,{method:"eth_getBlockByNumber",params:[C.hexStringFromIntNumber(t),!1]}));return e.result&&"string"==typeof e.result.hash?C.ensureHexString(e.result.hash):null}},e.filterFromParam=i});(0,e.u)(D),D.FilterPolyfill,D.filterFromParam;var T=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.eth_accounts="eth_accounts",t.eth_coinbase="eth_coinbase",t.net_version="net_version",t.eth_uninstallFilter="eth_uninstallFilter",t.eth_requestAccounts="eth_requestAccounts",t.eth_sign="eth_sign",t.eth_ecRecover="eth_ecRecover",t.personal_sign="personal_sign",t.personal_ecRecover="personal_ecRecover",t.eth_signTransaction="eth_signTransaction",t.eth_sendRawTransaction="eth_sendRawTransaction",t.eth_sendTransaction="eth_sendTransaction",t.eth_signTypedData_v1="eth_signTypedData_v1",t.eth_signTypedData_v2="eth_signTypedData_v2",t.eth_signTypedData_v3="eth_signTypedData_v3",t.eth_signTypedData_v4="eth_signTypedData_v4",t.eth_signTypedData="eth_signTypedData",t.walletlink_arbitrary="walletlink_arbitrary",t.eth_newFilter="eth_newFilter",t.eth_newBlockFilter="eth_newBlockFilter",t.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",t.eth_getFilterChanges="eth_getFilterChanges",t.eth_getFilterLogs="eth_getFilterLogs"}(e.JSONRPCMethod||(e.JSONRPCMethod={}))});(0,e.u)(T),T.JSONRPCMethod;var W=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.USER_DENIED_REQUEST_ACCOUNTS=4001]="USER_DENIED_REQUEST_ACCOUNTS",t[t.USER_DENIED_CREATE_ACCOUNT=4010]="USER_DENIED_CREATE_ACCOUNT",t[t.UNAUTHORIZED=4100]="UNAUTHORIZED",t[t.UNSUPPORTED_METHOD=4200]="UNSUPPORTED_METHOD",t[t.USER_DENIED_REQUEST_SIGNATURE=-32603]="USER_DENIED_REQUEST_SIGNATURE"}(e.ProviderErrorCode||(e.ProviderErrorCode={}));class n extends Error{constructor(t,e,i){super(t||"Provider Error"),this.code=e,this.data=i,this.name="ProviderError",Object.setPrototypeOf(this,n.prototype)}}e.ProviderError=n});(0,e.u)(W),W.ProviderErrorCode,W.ProviderError;var j=(0,e.c)(function(i,r){var s=e.a&&e.a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const o=s(d),a=s(L);r.WalletLinkProvider=class extends n.e.EventEmitter{constructor(t){if(super(),this._filterPolyfill=new D.FilterPolyfill(this),this._addresses=[],this._send=this.send,this._sendAsync=this.sendAsync,!t.relay)throw new Error("realy must be provided");if(!t.jsonRpcUrl)throw new Error("jsonRpcUrl must be provided");this._relay=t.relay,this._chainId=C.ensureIntNumber(t.chainId||1),this._jsonRpcUrl=t.jsonRpcUrl;const e=this._relay.getStorageItem("Addresses");if(e){const t=e.split(" ");""!==t[0]&&(this._addresses=t)}}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this._chainId.toString(10)}get isWalletLink(){return!0}get host(){return this._jsonRpcUrl}get connected(){return!0}isConnected(){return!0}async enable(){return this._addresses.length>0?this._addresses:await this._send(T.JSONRPCMethod.eth_requestAccounts)}send(t,e){if("string"==typeof t){const n={jsonrpc:"2.0",id:1,method:t,params:Array.isArray(e)?e:void 0!==e?[e]:[]};return this._sendRequestAsync(n).then(t=>t.result)}if("function"==typeof e){const n=t,i=e;return this._sendAsync(n,i)}if(Array.isArray(t))return t.map(t=>this._sendRequest(t));const n=t;return this._sendRequest(n)}sendAsync(t,e){if("function"!=typeof e)throw new Error("callback is required");if(Array.isArray(t)){const n=e;return void this._sendMultipleRequestsAsync(t).then(t=>n(null,t)).catch(t=>n(t,null))}const n=e;this._sendRequestAsync(t).then(t=>n(null,t)).catch(t=>n(t,null))}async scanQRCode(t){const e=await this._relay.scanQRCode(C.ensureRegExpString(t));if("string"!=typeof e.result)throw new Error("result was not a string");return e.result}async arbitraryRequest(t){const e=await this._relay.arbitraryRequest(t);if("string"!=typeof e.result)throw new Error("result was not a string");return e.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){const e={jsonrpc:"2.0",id:t.id},{method:n}=t;if(e.result=this._handleSynchronousMethods(t),void 0===e.result)throw new Error(`WalletLink does not support calling ${n} synchronously without `+`a callback. Please provide a callback parameter to call ${n} `+"asynchronously.");return e}_setAddresses(t){if(!Array.isArray(t))throw new Error("addresses is not an array");this._addresses=t.map(t=>C.ensureAddressString(t)),this._relay.setStorageItem("Addresses",t.join(" ")),this.emit("accountsChanged",this._addresses)}_sendRequestAsync(t){return new Promise((e,n)=>{try{const i=this._handleSynchronousMethods(t);if(void 0!==i)return e({jsonrpc:"2.0",id:t.id,result:i});const r=this._handleAsynchronousFilterMethods(t);if(void 0!==r)return void r.then(n=>e(Object.assign({},n,{id:t.id}))).catch(t=>n(t))}catch(t){return n(t)}this._handleAsynchronousMethods(t).then(n=>e(Object.assign({},n,{id:t.id}))).catch(t=>n(t))})}_sendMultipleRequestsAsync(t){return Promise.all(t.map(t=>this._sendRequestAsync(t)))}_handleSynchronousMethods(t){const{method:e}=t,n=t.params||[];switch(e){case T.JSONRPCMethod.eth_accounts:return this._eth_accounts();case T.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case T.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case T.JSONRPCMethod.net_version:return this._net_version();default:return}}_handleAsynchronousMethods(t){const{method:e}=t,n=t.params||[];switch(e){case T.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case T.JSONRPCMethod.eth_sign:return this._eth_sign(n);case T.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case T.JSONRPCMethod.personal_sign:return this._personal_sign(n);case T.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case T.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case T.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case T.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case T.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case T.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case T.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case T.JSONRPCMethod.eth_signTypedData_v4:case T.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case T.JSONRPCMethod.walletlink_arbitrary:return this._walletlink_arbitrary(n)}return window.fetch(this._jsonRpcUrl,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{if(!t)throw new W.ProviderError("unexpected response");const e=t,{error:n}=e;if(n)throw new W.ProviderError(n.message||"RPC Error",n.code,n.data);return e})}_handleAsynchronousFilterMethods(t){const{method:e}=t,n=t.params||[];switch(e){case T.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case T.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case T.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case T.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case T.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_isKnownAddress(t){try{const e=C.ensureAddressString(t);return this._addresses.includes(e)}catch(t){}return!1}_ensureKnownAddress(t){if(!this._isKnownAddress(t))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?C.ensureAddressString(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");return this._ensureKnownAddress(n),{fromAddress:n,toAddress:e.to?C.ensureAddressString(e.to):null,weiValue:null!=e.value?C.ensureBN(e.value):new o.default(0),data:e.data?C.ensureBuffer(e.data):t.alloc(0),nonce:null!=e.nonce?C.ensureIntNumber(e.nonce):null,gasPriceInWei:null!=e.gasPrice?C.ensureBN(e.gasPrice):null,gasLimit:null!=e.gas?C.ensureBN(e.gas):null,chainId:this._chainId}}_requireAuthorization(){if(0===this._addresses.length)throw new W.ProviderError("Unauthorized",W.ProviderErrorCode.UNAUTHORIZED)}_throwUnsupportedMethodError(){throw new W.ProviderError("Unsupported method",W.ProviderErrorCode.UNSUPPORTED_METHOD)}async _signEthereumMessage(t,e,n,i){this._ensureKnownAddress(e);try{return{jsonrpc:"2.0",id:0,result:(await this._relay.signEthereumMessage(t,e,n,i)).result}}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw new W.ProviderError("User denied message signature",W.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE);throw t}}async _ethereumAddressFromSignedMessage(t,e,n){return{jsonrpc:"2.0",id:0,result:(await this._relay.ethereumAddressFromSignedMessage(t,e,n)).result}}_eth_accounts(){return this._addresses}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this._chainId.toString(10)}async _eth_requestAccounts(){if(this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let t;try{t=await this._relay.requestEthereumAccounts()}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw new W.ProviderError("User denied account authorization",W.ProviderErrorCode.USER_DENIED_REQUEST_ACCOUNTS);throw t}if(!t.result)throw new Error("accounts received is empty");return this._setAddresses(t.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const e=C.ensureAddressString(t[0]),n=C.ensureBuffer(t[1]);return this._signEthereumMessage(n,e,!1)}_eth_ecRecover(t){const e=C.ensureBuffer(t[0]),n=C.ensureBuffer(t[1]);return this._ethereumAddressFromSignedMessage(e,n,!1)}_personal_sign(t){this._requireAuthorization();const e=C.ensureBuffer(t[0]),n=C.ensureAddressString(t[1]);return this._signEthereumMessage(e,n,!0)}_personal_ecRecover(t){const e=C.ensureBuffer(t[0]),n=C.ensureBuffer(t[1]);return this._ethereumAddressFromSignedMessage(e,n,!0)}async _eth_signTransaction(t){this._requireAuthorization();const e=this._prepareTransactionParams(t[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await this._relay.signEthereumTransaction(e)).result}}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw new W.ProviderError("User denied transaction signature",W.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE);throw t}}async _eth_sendRawTransaction(t){const e=C.ensureBuffer(t[0]);return{jsonrpc:"2.0",id:0,result:(await this._relay.submitEthereumTransaction(e,this._chainId)).result}}async _eth_sendTransaction(t){this._requireAuthorization();const e=this._prepareTransactionParams(t[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await this._relay.signAndSubmitEthereumTransaction(e)).result}}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw new W.ProviderError("User denied transaction signature",W.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE);throw t}}async _eth_signTypedData_v1(t){this._requireAuthorization();const e=t[0],n=C.ensureAddressString(t[1]);this._ensureKnownAddress(n);const i=a.default.hashForSignTypedDataLegacy({data:e}),r=JSON.stringify(e,null,2);return this._signEthereumMessage(i,n,!1,r)}async _eth_signTypedData_v3(t){this._requireAuthorization();const e=C.ensureAddressString(t[0]),n=t[1];this._ensureKnownAddress(e);const i=a.default.hashForSignTypedData_v3({data:n}),r=JSON.stringify(n,null,2);return this._signEthereumMessage(i,e,!1,r)}async _eth_signTypedData_v4(t){this._requireAuthorization();const e=C.ensureAddressString(t[0]),n=t[1];this._ensureKnownAddress(e);const i=a.default.hashForSignTypedData_v4({data:n}),r=JSON.stringify(n,null,2);return this._signEthereumMessage(i,e,!1,r)}async _walletlink_arbitrary(t){const e=t[0];if("string"!=typeof e)throw new Error("parameter must be a string");return{jsonrpc:"2.0",id:0,result:await this.arbitraryRequest(e)}}_eth_uninstallFilter(t){const e=C.ensureHexString(t[0]);return this._filterPolyfill.uninstallFilter(e)}async _eth_newFilter(t){const e=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(e)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){const e=C.ensureHexString(t[0]);return this._filterPolyfill.getFilterChanges(e)}_eth_getFilterLogs(t){const e=C.ensureHexString(t[0]);return this._filterPolyfill.getFilterLogs(e)}}});(0,e.u)(j),j.WalletLinkProvider;var P=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ScopedLocalStorage=class{constructor(t){this.scope=t}setItem(t,e){localStorage.setItem(this.scopedKey(t),e)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),e=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);"string"==typeof i&&i.startsWith(t)&&e.push(i)}e.forEach(t=>localStorage.removeItem(t))}scopedKey(t){return`${this.scope}:${t}`}}});(0,e.u)(P),P.ScopedLocalStorage;var R=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.SESSION_ID_REQUEST="SESSION_ID_REQUEST",t.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",t.LINKED="LINKED",t.UNLINKED="UNLINKED",t.WEB3_REQUEST="WEB3_REQUEST",t.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",t.WEB3_RESPONSE="WEB3_RESPONSE",t.LOCAL_STORAGE_BLOCKED="LOCAL_STORAGE_BLOCKED"}(e.IPCMessageType||(e.IPCMessageType={}))});(0,e.u)(R),R.IPCMessageType;var B=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLinkedMessage=function(t){return t&&t.type===R.IPCMessageType.LINKED}});(0,e.u)(B),B.isLinkedMessage;var O=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLocalStorageBlockedMessage=function(t){return t&&t.type===R.IPCMessageType.LOCAL_STORAGE_BLOCKED}});(0,e.u)(O),O.isLocalStorageBlockedMessage;var F=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SessionIdRequestMessage=function(){return{type:R.IPCMessageType.SESSION_ID_REQUEST}}});(0,e.u)(F),F.SessionIdRequestMessage;var U=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSessionIdResponseMessage=function(t){return t&&t.type===R.IPCMessageType.SESSION_ID_RESPONSE}});(0,e.u)(U),U.isSessionIdResponseMessage;var z=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUnlinkedMessage=function(t){return t&&t.type===R.IPCMessageType.UNLINKED}});(0,e.u)(z),z.isUnlinkedMessage;var q=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.requestEthereumAccounts="requestEthereumAccounts",t.signEthereumMessage="signEthereumMessage",t.signEthereumTransaction="signEthereumTransaction",t.submitEthereumTransaction="submitEthereumTransaction",t.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",t.scanQRCode="scanQRCode",t.arbitrary="arbitrary"}(e.Web3Method||(e.Web3Method={}))});(0,e.u)(q),q.Web3Method;var Z=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Web3RequestCanceledMessage=function(t){return{type:R.IPCMessageType.WEB3_REQUEST_CANCELED,id:t}}});(0,e.u)(Z),Z.Web3RequestCanceledMessage;var H=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Web3RequestMessage=function(t){return Object.assign({type:R.IPCMessageType.WEB3_REQUEST},t)}});(0,e.u)(H),H.Web3RequestMessage;var $=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorResponse=function(t,e){return{method:t,errorMessage:e}},e.RequestEthereumAccountsResponse=function(t){return{method:q.Web3Method.requestEthereumAccounts,result:t}},e.isRequestEthereumAccountsResponse=function(t){return t&&t.method===q.Web3Method.requestEthereumAccounts}});(0,e.u)($),$.ErrorResponse,$.RequestEthereumAccountsResponse,$.isRequestEthereumAccountsResponse;var G=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Web3ResponseMessage=function(t){return Object.assign({type:R.IPCMessageType.WEB3_RESPONSE},t)},e.isWeb3ResponseMessage=function(t){return t&&t.type===R.IPCMessageType.WEB3_RESPONSE}});(0,e.u)(G),G.Web3ResponseMessage,G.isWeb3ResponseMessage;var Q=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTM4IiBoZWlnaHQ9IjEwNiIgdmlld0JveD0iMCAwIDEzOCAxMDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2QpIj4KPHBhdGggZD0iTTggNUgxMzBDMTMxLjY2IDUgMTMzIDYuMzQgMTMzIDhWOThDMTMzIDk5LjY2IDEzMS42NiAxMDEgMTMwIDEwMUg4QzYuMzQgMTAxIDUgOTkuNjYgNSA5OFY4QzUgNi4zNCA2LjM0IDUgOCA1WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggb3BhY2l0eT0iMC4yIiBkPSJNOSA4LjVDOS4yNzYxNCA4LjUgOS41IDguMjc2MTQgOS41IDhDOS41IDcuNzIzODYgOS4yNzYxNCA3LjUgOSA3LjVDOC43MjM4NiA3LjUgOC41IDcuNzIzODYgOC41IDhDOC41IDguMjc2MTQgOC43MjM4NiA4LjUgOSA4LjVaIiBmaWxsPSIjMTY1MkYwIi8+CjxwYXRoIG9wYWNpdHk9IjAuMiIgZD0iTTEyIDguNUMxMi4yNzYxIDguNSAxMi41IDguMjc2MTQgMTIuNSA4QzEyLjUgNy43MjM4NiAxMi4yNzYxIDcuNSAxMiA3LjVDMTEuNzIzOSA3LjUgMTEuNSA3LjcyMzg2IDExLjUgOEMxMS41IDguMjc2MTQgMTEuNzIzOSA4LjUgMTIgOC41WiIgZmlsbD0iIzE2NTJGMCIvPgo8cGF0aCBvcGFjaXR5PSIwLjIiIGQ9Ik0xNSA4LjVDMTUuMjc2MSA4LjUgMTUuNSA4LjI3NjE0IDE1LjUgOEMxNS41IDcuNzIzODYgMTUuMjc2MSA3LjUgMTUgNy41QzE0LjcyMzkgNy41IDE0LjUgNy43MjM4NiAxNC41IDhDMTQuNSA4LjI3NjE0IDE0LjcyMzkgOC41IDE1IDguNVoiIGZpbGw9IiMxNjUyRjAiLz4KPHBhdGggZD0iTTUgMTFWOThDNSA5OS42NiA2LjM0IDEwMSA4IDEwMUgxMzBDMTMxLjY2IDEwMSAxMzMgOTkuNjYgMTMzIDk4VjExSDVaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXIpIi8+CjxwYXRoIGQ9Ik0xMTcgMTFIMjFWMTAxSDExN1YxMVoiIGZpbGw9IiMxMTMzNTUiLz4KPHBhdGggZD0iTTk4IDQ4SDQwQzM4LjkgNDggMzggNDcuMSAzOCA0NlYxN0MzOCAxNS45IDM4LjkgMTUgNDAgMTVIOThDOTkuMSAxNSAxMDAgMTUuOSAxMDAgMTdWNDZDMTAwIDQ3LjEgOTkuMSA0OCA5OCA0OFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zOCAzNlY0NkMzOCA0Ny4xIDM4LjkgNDggNDAgNDhIOThDOTkuMSA0OCAxMDAgNDcuMSAxMDAgNDZWMzZIMzhaIiBmaWxsPSIjM0FDQzhBIi8+CjxwYXRoIGQ9Ik03MS40NzAzIDM5LjUzTDY3Ljk0MDMgNDMuMDZMNjYuNTMwMyA0MS42NUw2NS44MjAzIDQyLjM1TDY3Ljk0MDMgNDQuNDdMNzIuMTgwMyA0MC4yM0w3MS40NzAzIDM5LjUzWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggb3BhY2l0eT0iMC4yIiBkPSJNOTQgMjFINDRWMjNIOTRWMjFaIiBmaWxsPSIjMTY1MkYwIi8+CjxwYXRoIG9wYWNpdHk9IjAuMiIgZD0iTTQ5IDI5TDg5IDI5VjI3TDQ5IDI3VjI5WiIgZmlsbD0iIzE2NTJGMCIvPgo8L2c+CjxkZWZzPgo8ZmlsdGVyIGlkPSJmaWx0ZXIwX2QiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMzgiIGhlaWdodD0iMTA2IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+CjxmZU9mZnNldC8+CjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIuNSIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwLjA4NjI3NDUgMCAwIDAgMCAwLjMyMTU2OSAwIDAgMCAwIDAuOTQxMTc2IDAgMCAwIDAuMiAwIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiByZXN1bHQ9InNoYXBlIi8+CjwvZmlsdGVyPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXIiIHgxPSI2OSIgeTE9IjEwMC4zMzMiIHgyPSI2OSIgeTI9IjExLjY2NjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzk5RDZGRiIgc3RvcC1vcGFjaXR5PSIwIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzE2NTJGMCIgc3RvcC1vcGFjaXR5PSIwLjE1Ii8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg=="});(0,e.u)(Q);var J=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iNCIgeT0iMTguNjA4OCIgd2lkdGg9IjIwLjY2MDEiIGhlaWdodD0iMS45Njc2MyIgcng9IjAuOTgzODEzIiB0cmFuc2Zvcm09InJvdGF0ZSgtNDUgNCAxOC42MDg4KSIgZmlsbD0iI0FBQUFBQSIvPgo8cmVjdCB4PSIxOC42MDk0IiB5PSIyMC4wMDAxIiB3aWR0aD0iMjAuNjYwMSIgaGVpZ2h0PSIxLjk2NzYzIiByeD0iMC45ODM4MTMiIHRyYW5zZm9ybT0icm90YXRlKC0xMzUgMTguNjA5NCAyMC4wMDAxKSIgZmlsbD0iI0FBQUFBQSIvPgo8L3N2Zz4K"});(0,e.u)(J);var Y=(0,e.c)(function(t,n){var i=e.a&&e.a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});const r=i(l);n.default=`\n#_WalletLinkBlockedDialog,\n#_WalletLinkBlockedDialog * {\n  ${r.default}\n}\n\n#_WalletLinkBlockedDialog * {\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue",\n    Arial, sans-serif;\n  box-sizing: border-box;\n}\n\n#_WalletLinkBlockedDialog {\n  position: fixed;\n  z-index: 2147483647;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, .8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#_WalletLinkBlockedDialog style {\n  display: none;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogBox {\n  position: relative;\n  width: 320px;\n  background: white;\n  color: #050f19;\n  padding: 24px;\n  text-align: center;\n  border-radius: 16px;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogClose {\n  position: absolute;\n  top: 22px;\n  left: 22px;\n  transition: opacity 0.25s;\n  cursor: pointer;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogClose:active {\n  opacity: 0.6;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogImage {\n  margin-top: 32px;\n  margin-bottom: 32px;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogTitle {\n  display: block;\n  margin-bottom: 16px;\n  font-size: 20px;\n  font-weight: bold;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogText {\n  display: block;\n  font-size: 13px;\n  margin-bottom: 16px;\n  opacity: .8;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogButton {\n  display: block;\n  width: 100%;\n  margin-top: 24px;\n  padding: 16px;\n  background-color: #050f19;\n  border-radius: 16px;\n  color: white !important;\n  font-size: 16px;\n  cursor: pointer;\n  transition: opacity 0.25s;\n  -webkit-appearance: none;\n  -webkit-text-fill-color: white;\n}\n\n#_WalletLinkBlockedDialog ._WalletLinkBlockedDialogButton:active {\n  opacity: 0.6;\n}\n`});(0,e.u)(Y);var K=(0,e.c)(function(t,n){var i=e.a&&e.a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});const r=i(Q),s=i(J),o=i(Y),a="_WalletLinkBlockedDialog",l={backdrop:`${a}Backdrop`,box:`${a}Box`,close:`${a}Close`,image:`${a}Image`,title:`${a}Title`,text:`${a}Text`,button:`${a}Button`};function h(){const t=document.querySelector(`#${a}`);if(!t)return;const e=document.querySelector(`#${a} .${l.close}`);e&&e.removeEventListener("click",u,!1);const n=document.querySelector(`#${a} .${l.button}`);n&&n.removeEventListener("click",d,!1);const{parentNode:i}=t;i&&i.removeChild(t)}function u(t){t.preventDefault(),h()}function d(t){t.preventDefault(),window.open("https://github.com/walletlink/walletlink/wiki/Browser-Troubleshooting","_blank")}n.show=function(){if(document.querySelector(`#${a}`))return;const t=document.createElement("div");t.id=a;const e=document.createElement("div");e.className=l.box,t.appendChild(e);const n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode(o.default)),e.appendChild(n);const i=document.createElement("button");i.className=l.close;const h=document.createElement("img");h.src=s.default,h.alt="Close",i.appendChild(h),i.addEventListener("click",u,!1),e.appendChild(i);const c=document.createElement("img");c.className=l.image,c.src=r.default,c.alt="",e.appendChild(c);const m=document.createElement("h3");m.className=l.title,m.appendChild(document.createTextNode("Change settings to connect")),e.appendChild(m);const f=document.createElement("p");f.className=l.text,f.appendChild(document.createTextNode("Your browser setting is blocking the connection to your wallet.")),e.appendChild(f);const p=document.createElement("p");p.className=l.text,p.appendChild(document.createTextNode("To connect to your wallet app, please follow our whitelisting instructions. You only have to do this once.")),e.appendChild(p);const g=document.createElement("button");g.className=l.button,g.appendChild(document.createTextNode("See instructions")),g.addEventListener("click",d,!1),e.appendChild(g),document.documentElement.appendChild(t)},n.hide=h});(0,e.u)(K),K.show,K.hide;var V=(0,e.c)(function(t,n){var r=e.a&&e.a.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},a=e.a&&e.a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},l=e.a&&e.a.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(n,"__esModule",{value:!0});const h=a(o),d=a(i.c),c=a(s.r),m=l(K),f="Browser is blocking third-party localStorage usage. To continue, turn off third-party storage blocking or whitelist WalletLink.";class p{constructor(t){this.iframeEl=null,this.popupUrl=null,this.popupWindow=null,this.sessionId=null,this.appName="",this.appLogoUrl=null,this.linked=!1,this.iframeLoaded=!1,this.localStorageBlocked=!1,this.actionsPendingIframeLoad=[],this.actionsPendingSessionId=[],this.walletLinkUrl=t.walletLinkUrl;const e=c.default.parse(this.walletLinkUrl);this.walletLinkOrigin=`${e.protocol}//${e.host}`,this.storage=new P.ScopedLocalStorage(`__WalletLink__:${this.walletLinkOrigin}`),this.sessionId=this.getStorageItem("SessionId")||null}setAppInfo(t,e){this.appName=t,this.appLogoUrl=e}injectIframe(){if(this.iframeEl)throw new Error("iframe already injected!");const t=document.createElement("iframe");t.className="_WalletLinkBridge",t.width="1",t.height="1",t.style.opacity="0",t.style.pointerEvents="none",t.style.position="absolute",t.style.top="0",t.style.right="0",t.setAttribute("sandbox","allow-scripts allow-popups allow-same-origin"),t.src=`${this.walletLinkUrl}/#/bridge`,this.iframeEl=t,window.addEventListener("message",this.handleMessage,!1),window.addEventListener("beforeunload",this.handleBeforeUnload,!1);const e=()=>{this.iframeLoaded=!0,t.removeEventListener("load",e,!1),this.postIPCMessage(F.SessionIdRequestMessage()),this.actionsPendingIframeLoad.forEach(t=>t()),this.actionsPendingIframeLoad=[]};t.addEventListener("load",e,!1),document.documentElement.appendChild(t)}getStorageItem(t){return this.storage.getItem(t)}setStorageItem(t,e){this.storage.setItem(t,e)}requestEthereumAccounts(){return this.sendRequest({method:q.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}})}signEthereumMessage(t,e,n,i){return this.sendRequest({method:q.Web3Method.signEthereumMessage,params:{message:C.hexStringFromBuffer(t,!0),address:e,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(t,e,n){return this.sendRequest({method:q.Web3Method.ethereumAddressFromSignedMessage,params:{message:C.hexStringFromBuffer(t,!0),signature:C.hexStringFromBuffer(e,!0),addPrefix:n}})}signEthereumTransaction(t){return this.sendRequest({method:q.Web3Method.signEthereumTransaction,params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:C.bigIntStringFromBN(t.weiValue),data:C.hexStringFromBuffer(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?C.bigIntStringFromBN(t.gasPriceInWei):null,gasLimit:t.gasLimit?C.bigIntStringFromBN(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:q.Web3Method.signEthereumTransaction,params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:C.bigIntStringFromBN(t.weiValue),data:C.hexStringFromBuffer(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?C.bigIntStringFromBN(t.gasPriceInWei):null,gasLimit:t.gasLimit?C.bigIntStringFromBN(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,e){return this.sendRequest({method:q.Web3Method.submitEthereumTransaction,params:{signedTransaction:C.hexStringFromBuffer(t,!0),chainId:e}})}scanQRCode(t){return this.sendRequest({method:q.Web3Method.scanQRCode,params:{regExp:t}})}arbitraryRequest(t){return this.sendRequest({method:q.Web3Method.arbitrary,params:{data:t}})}sendRequest(t){return this.localStorageBlocked?(m.show(),Promise.reject(new Error(f))):new Promise((e,n)=>{if(!this.iframeEl||!this.iframeEl.contentWindow)return n("iframe is not initialized");const i=d.default.randomBytes(8).toString("hex"),r={showProgressBar:!0,autoExpandAfter:1e4,buttonInfo2:"Made a mistake?",buttonLabel2:"Cancel",onClickButton2:()=>{this.postIPCMessage(Z.Web3RequestCanceledMessage(i)),this.invokeCallback(G.Web3ResponseMessage({id:i,response:$.ErrorResponse(t.method,"User rejected request")})),o&&o.hide()}},s=t.method===q.Web3Method.requestEthereumAccounts;if(!this.linked&&s){const t=()=>{this.openPopupWindow(`/link?id=${this.sessionId}`)};t(),r.message="Requesting to connect to your wallet...",r.buttonInfo1="Don’t see the popup?",r.buttonLabel1="Show window",r.onClickButton1=t}else r.message="Pushed a request to your wallet...",r.buttonInfo3="Not receiving requests?",r.buttonLabel3="Reconnect",r.onClickButton3=(()=>{this.openPopupWindow("/reset"),o&&o.hide()});s&&p.accountRequestCallbackIds.add(i),p.callbacks.set(i,t=>{if(this.closePopupWindow(),o&&o.hide(),t.errorMessage)return n(new Error(t.errorMessage));e(t)});const o=new u.WalletLinkNotification(r);o.show(),this.postIPCMessage(H.Web3RequestMessage({id:i,request:t}))})}postIPCMessage(t){this.iframeLoaded?this.iframeEl&&this.iframeEl.contentWindow&&this.iframeEl.contentWindow.postMessage(t,this.walletLinkOrigin):this.actionsPendingIframeLoad.push(()=>{this.postIPCMessage(t)})}openPopupWindow(t){if(!this.sessionId)return void this.actionsPendingSessionId.push(()=>{this.openPopupWindow(t)});const e=`${this.walletLinkUrl}/#${t}`;if(this.popupWindow&&this.popupWindow.opener)return this.popupUrl!==e&&(this.popupWindow.location.href=e,this.popupUrl=e),void this.popupWindow.focus();const n=Math.floor(window.outerWidth/2-160+window.screenX),i=Math.floor(window.outerHeight/2-260+window.screenY);this.popupUrl=e,this.popupWindow=window.open(e,"_blank",["width=320","height=520",`left=${n}`,`top=${i}`,"location=yes","menubar=no","resizable=no","status=no","titlebar=yes","toolbar=no"].join(","))}closePopupWindow(){this.popupWindow&&(this.popupWindow.close(),this.popupUrl=null,this.popupWindow=null),window.focus()}invokeCallback(t){const e=p.callbacks.get(t.id);e&&(e(t.response),p.callbacks.delete(t.id))}resetAndReload(){this.storage.clear(),document.location.reload()}handleMessage(t){if(t.origin!==this.walletLinkOrigin)return;const e=t.data;if(G.isWeb3ResponseMessage(e)){const{response:t}=e;return $.isRequestEthereumAccountsResponse(t)?(Array.from(p.accountRequestCallbackIds.values()).forEach(t=>this.invokeCallback(Object.assign({},e,{id:t}))),void p.accountRequestCallbackIds.clear()):void this.invokeCallback(e)}if(U.isSessionIdResponseMessage(e)){const{sessionId:t}=e;return null!==this.sessionId&&this.sessionId!==t?void this.resetAndReload():(this.sessionId=t,this.setStorageItem("SessionId",t),this.actionsPendingSessionId.forEach(t=>t()),void(this.actionsPendingSessionId=[]))}if(!B.isLinkedMessage(e))return z.isUnlinkedMessage(e)?(this.linked=!1,void this.resetAndReload()):O.isLocalStorageBlockedMessage(e)?(this.localStorageBlocked=!0,void(p.accountRequestCallbackIds.size>0&&this.popupWindow&&(Array.from(p.accountRequestCallbackIds.values()).forEach(t=>this.invokeCallback(G.Web3ResponseMessage({id:t,response:$.ErrorResponse(q.Web3Method.requestEthereumAccounts,f)}))),p.accountRequestCallbackIds.clear(),m.show(),this.closePopupWindow()))):void 0;this.linked=!0}handleBeforeUnload(t){this.closePopupWindow()}}p.callbacks=new Map,p.accountRequestCallbackIds=new Set,r([h.default],p.prototype,"handleMessage",null),r([h.default],p.prototype,"handleBeforeUnload",null),n.WalletLinkRelay=p});(0,e.u)(V),V.WalletLinkRelay;var X=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],tt="dist/index.js",et="https://github.com/CoinbaseWallet/walletlink.git",nt={tsc:"tsc --noEmit --pretty",test:"jest","test:watch":"jest --watch",build:"webpack --config webpack.config.js","build-chrome":"webpack --config webpack.config.chrome.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export WALLETLINK_URL='http://localhost:3000'; yarn build && yarn build-chrome","build:dev:watch":"nodemon -e ts,tsx,js,json,css --watch src/ --watch chrome/ --exec 'yarn build:dev'","build:prod":"yarn build && yarn build-chrome && yarn build-npm && cp ./package.json ../README.md ../LICENSE build/npm",lint:"tslint -p . 'src/**/*.ts{,x}'","lint:watch":"nodemon -e ts,tsx,js,json,css --watch src/ --exec 'yarn tsc && yarn lint'"},it={"bind-decorator":"^1.0.11","bn.js":"^5.0.0","eth-eip712-util":"^2.3.0",keccak:"^2.0.0"},rt={"@types/bn.js":"^4.11.5","@types/jest":"^24.0.15","@types/node":"^12.6.8","classlist-polyfill":"^1.2.0","copy-webpack-plugin":"^5.0.4","core-js":"^2.6.9",jest:"^24.8.0",nodemon:"^1.19.1","raw-loader":"^3.1.0","regenerator-runtime":"^0.13.3","ts-jest":"^24.0.2","ts-loader":"^6.0.4",tslib:"^1.10.0",tslint:"^5.18.0","tslint-config-prettier":"^1.18.0","tslint-config-security":"^1.16.0","tslint-microsoft-contrib":"^6.2.0",typescript:"^3.5.3",webpack:"^4.38.0","webpack-cli":"^3.3.6","whatwg-fetch":"^3.0.0"},st={node:">= 10.0.0"},ot={transform:{"^.+\\.tsx?$":"ts-jest"},testEnvironment:"node",testPathIgnorePatterns:["<rootDir>/dist/","<rootDir>/node_modules/"],testRegex:"(/__tests__/.*|\\.(test|spec))\\.(ts|tsx|js)$",moduleFileExtensions:["ts","js","json"]},at={name:"walletlink",version:"1.0.0",description:"WalletLink JavaScript SDK",keywords:X,main:tt,types:"dist/index.d.ts",repository:et,author:"Coinbase, Inc.",license:"Apache-2.0",scripts:nt,dependencies:it,devDependencies:rt,engines:st,jest:ot},lt=(0,e.g)(Object.freeze({__proto__:null,name:"walletlink",version:"1.0.0",description:"WalletLink JavaScript SDK",keywords:X,main:tt,types:"dist/index.d.ts",repository:et,author:"Coinbase, Inc.",license:"Apache-2.0",scripts:nt,dependencies:it,devDependencies:rt,engines:st,jest:ot,default:at})),ht=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n="https://www.walletlink.org",i=lt.version||"unknown";class r{constructor(t){this._appName="",this._appLogoUrl=null,this._relay=new V.WalletLinkRelay({walletLinkUrl:t.walletLinkUrl||n}),this.setAppInfo(t.appName,t.appLogoUrl),u.WalletLinkNotification.injectContainer(),this._relay.injectIframe()}makeWeb3Provider(t,e=1){return new j.WalletLinkProvider({relay:this._relay,jsonRpcUrl:t,chainId:e})}setAppInfo(t,e){this._appName=t||"DApp",this._appLogoUrl=e||function(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:n}=document.location,i=t?t.getAttribute("href"):null;return!i||i.startsWith("javascript:")?null:i.startsWith("http://")||i.startsWith("https://")||i.startsWith("data:")?i:i.startsWith("//")?e+i:`${e}//${n}${i}`}(),this._relay.setAppInfo(this._appName,this._appLogoUrl)}}r.VERSION=i,e.WalletLink=r});(0,e.u)(ht),ht.WalletLink;var ut=(0,e.c)(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=ht;e.WalletLink=n.WalletLink;var i=j;e.WalletLinkProvider=i.WalletLinkProvider,e.default=ht.WalletLink,"undefined"!=typeof window&&(window.WalletLink=ht.WalletLink,window.WalletLinkProvider=j.WalletLinkProvider)}),dt=(0,e.u)(ut),ct=ut.WalletLink,mt=ut.WalletLinkProvider;exports.WalletLinkProvider=mt,exports.WalletLink=ct,exports.__moduleExports=ut;var ft=dt;exports.default=ft;
},{"./_commonjsHelpers-0e41fd1e.js":"PDrj","events":"FRpO","./_events_commonjs-external-048bde7e.js":"tfEE","buffer":"peL6","./_crypto_commonjs-external-0fb622f0.js":"uwKc","stream":"fnRj","crypto":"mRF4","./js-1fcc5cc1.js":"xniy","url":"Mej7","./_url_commonjs-external-78890fcf.js":"SaMy"}]},{},[], null)
//# sourceMappingURL=index-5711065c.3eb6af86.js.map